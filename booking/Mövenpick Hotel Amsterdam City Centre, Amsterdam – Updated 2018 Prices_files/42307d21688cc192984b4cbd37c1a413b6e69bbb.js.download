var _i_ = this._i_ || function() {}, _r_ = this._r_ || function(e) {
return e;
};

booking.env.enable_scripts_tracking && (booking.env.scripts_tracking.hotel = {
loaded:!0,
run:!1
}), B.hotel = B.hotel || {}, Array.prototype.find || (Array.prototype.find = function(e) {
if (_i_("269:568f55a7"), null === this) throw new TypeError("Array.prototype.find called on null or undefined");
if ("function" != typeof e) throw new TypeError("predicate must be a function");
for (var t, i = Object(this), n = i.length >>> 0, o = arguments[1], r = 0; n > r; r++) if (t = i[r], e.call(o, t, r, i)) return _r_(t);
return _r_(void 0);
}), B.define("querystring", function(e, t, i) {
_i_("269:3ba17652");
function n(e, t) {
_i_("269:b1205794");
var i = e.split(t);
return _r_([ i.shift(), i.join(t) ]);
}
t.parseUrl = function(e) {
_i_("269:d897ad4d");
var i = {}, o = n(e, "#");
return i.hash = o[1], o = n(o[0], "?"), i.base = o[0], i.query = t.parse(o[1]), _r_(i);
}, t.stringify = function(e, t) {
_i_("269:779bf395"), t = t || {};
var i = t.sep || "&", n = t.eq || "=", o = t.skipNull, r = t.encodeURIComponent || encodeURIComponent, _ = [];
function a(e, t) {
_i_("269:36687cac"), (null === t || void 0 === t) && (t = ""), _.push(e + n + r(t)), _r_();
}
for (var s in e) {
if (null === e[s] && o) continue;
e[s] instanceof Array ? e[s].forEach(a.bind(this, s)) :a(s, e[s]);
}
return _r_(_.join(i));
}, t.parse = function(e, t) {
_i_("269:637f7447");
var i = {};
return e.split(/[\&\;]+/).forEach(function(e) {
if (_i_("269:20fe34d1"), !e) return _r_();
var n = e.split("="), o = n.shift(), r = n.join("=");
if (!t) try {
r = decodeURIComponent(r.replace(/\+/g, "%20"));
} catch (_) {}
o in i ? (Array.isArray(i[o]) || (i[o] = [ i[o] ]), i[o].push(r)) :i[o] = r, _r_();
}), _r_(i);
}, t.toArray = function(e) {
_i_("269:c31586d4");
var t, i, n = [];
for (t in e) if (e.hasOwnProperty(t)) if (i = e[t], Array.isArray(i)) for (var o = 0, r = i.length; r > o; o++) n.push({
key:t,
value:i[o]
}); else n.push({
key:t,
value:i
});
return _r_(n);
}, _r_();
}), B.hotel.Events = {
Gallery:{
BEFORE_SLIDE_CHANGE:"hp:gallery_before_slide_change",
AFTER_SLIDE_CHANGE:"hp:gallery_after_slide_change",
AFTER_SLIDE_CHANGE_PERSISTENT:"hp:gallery_after_slide_change_persistent",
SLIDE_SHOW:"hp:gallery_slide_show",
INIT:"hp:gallery_init",
THUMB_HOVER:"hp:gallery_thumb_hover",
NAVIGATE:"hp:gallery_navigate",
NAVIGATE_MANUAL:"hp_gallery_navigate_manual",
ON_CTA_SLIDE:"hp:gallery_on_cta_slide",
OFF_CTA_SLIDE:"hp:gallery_off_cta_slide",
MOUSE_IN:"hp:gallery_mouse_in",
MOUSE_OUT:"hp:gallery_mouse_out"
},
PhotoGrid:{
MODAL_DOM_READY:"hp:grid_modal_dom_ready",
GRID_ELEMENT_CLICKED:"hp:grid_element_clicked",
GRID_SEE_ALL_CLICKED:"hp:grid_see_all_clicked",
MODAL_THUMB_CLICKED:"hp:grid_modal_thumb_clicked",
MODAL_GROUP_CLICKED:"hp:grid_modal_group_clicked",
MODAL_SAW_GENERAL_GROUP:"hp:grid_modal_saw_general_group",
MODAL_PICTURE_CHANGED:"hp:grid_modal_picture_changed",
MODAL_SHOW_PREVIOUS:"hp:grid_modal_show_precvious",
MODAL_SHOW_NEXT:"hp:grid_modal_show_next",
MODAL_OPENED:"hp:grid_modal_opened",
MODAL_CLOSED:"hp:grid_modal_closed",
MODAL_RESERVE_CLICKED:"hp:grid_modal_reserve_clicked",
MODAL_VIEW_ALL_PHOTOS:"hp:grid_modal_view_all_photos",
MODAL_CLOSE_BUTTON_CLICKED:"hp:grid_modal_close_button_clicked",
MODAL_SAW_PERSUASIVE_TAG:"hp:grid_modal_saw_persuasive_tag"
},
RT:{
ROOM_SELECTED:"rt:room_selected",
ROOM_CHANGED:"rt:room_changed",
NO_ROOM_SELECTED:"rt:no_rooms_selected",
NO_ROOM_SELECTED_POSTALERT:"rt:no_rooms_selected_postalert",
SUMMARY_CHANGE:"rt:summary_change",
SUMMARY_BEFORE_CHANGE:"rt:summary_before_change",
SUMMARY_HIDE:"rt:summary_hide",
LIGHTBOX_OPEN:"rt-lightbox-open",
LIGHTBOX_OPEN_NEW:"rt-lightbox-open-new",
LIGHTBOX_CLOSE:"rt-lightbox-closed",
LIGHTBOX_READY:"rt-lightbox-ready",
LIGHTBOX_GALLERY_READY:"rt-lightbox-gallery-ready",
STICKY_STUCK:"rt:sticky_stuck",
STICKY_RELEASE:"rt:sticky_release",
FILTER_APPLIED:"rt:filter:applied",
FILTER_MATCHED:"rt:filter:matched",
CHEAPEST_SEEN_BLOCK_AFTER_SHOW:"rt:cheapest_seen_block:after_show"
},
Reviews:{
REVIEWS_FETCHED:"REVIEWS:fetched",
RECENT_REVIEWS_FETCHED:"RECENT_REVIEWS:fetched"
},
ThirdPartyInventory:{
TPI_BLOCK_LOADED:"tpi:tpi_block_loaded"
},
Other:{
LOCK_PRICE_DISMISSED:"hp:lock_price_dismissed",
REGION_ATTRACTIONS_RENDERED:"hp:region_attractions_rendered",
NO_REGION_ATTRACTIONS_RENDERED:"hp:no_region_attractions_rendered",
REGION_ATTRACTIONS_MAP_CTA_CLICKED:"hp:region_attractions_map_cta_clicked",
GROUP_RECOMMENDATION_CTA_CLICKED:"hp:gr_recommendation_cta_clicked"
}
}, B.hotel.Events.ReviewFloater = {
FORCE_SLIDE:"hp:gallery_rf_force_slide",
MOUSE_ENTER:"hp:gallery_rf_mouse_enter",
MOUSE_LEAVE:"hp:gallery_rf_mouse_leave",
LOADED:"hp:gallery_rf_loaded",
SLIDE:"hp:gallery_rf_slide"
}, B.hotel.Goals = {
Gallery:{
CLICK_NAVIGATION:"hp:gallery_arrows_clicked",
VIEW_ALL_PHOTOS:"hp:gallery_photos_all_viewed",
HOVER_THUMB:"hp:gallery_thumbs_used"
},
RT:{}
}, booking.components.define("legacy-emitter", function(e, t) {
_i_("269:974be8d9"), this.eventHandlers = {}, this.bind = function(e, t) {
return _i_("269:d0bd264b"), this.eventHandlers[e] = this.eventHandlers[e] || [], this.eventHandlers[e].push(t), _r_(this);
}, this.once = function(e, t) {
_i_("269:05b26614");
var i = this, n = function(o) {
_i_("269:916b17c1"), i.unbind(e, n), t.apply(i, arguments), _r_();
};
return this.bind(e, n), _r_(this);
}, this.unbind = function(e, i) {
if (_i_("269:6a8ef19a"), this.eventHandlers[e] = this.eventHandlers[e] || [], i) {
var n = t.inArray(i, this.eventHandlers[e]);
-1 != n && this.eventHandlers[e].splice(n, 1);
} else this.eventHandlers[e] = [];
return _r_(this);
}, this.trigger = function(e, i) {
if (_i_("269:a6a7edbb"), !this.eventHandlers[e] || 0 == this.eventHandlers[e].length) return _r_(this);
var n = !1, o = this;
return t.each(this.eventHandlers[e], function(t, r) {
if (_i_("269:1c6de3a8"), n) return _r_(!1);
r && r.call && r.call(o, {
type:e,
data:i,
stopPropagation:function() {
_i_("269:f074716f"), n = !0, _r_();
}
}), _r_();
}), _r_(this);
}, this.on = this.bind, this.off = this.unbind, _r_();
}), B.define("component/keyboard", function(e, t, i) {
_i_("269:6d533b75");
var n = e("component"), o = e("event-emitter"), r = {
8:"Backspace",
46:"Delete",
9:"Tab",
13:"Enter",
32:"Space",
27:"Escape",
33:"PageUp",
34:"PageDown",
35:"End",
36:"Home",
37:"ArrowLeft",
38:"ArrowUp",
39:"ArrowRight",
40:"ArrowDown",
48:"0",
49:"1",
50:"2",
51:"3",
52:"4",
53:"5",
54:"6",
55:"7",
56:"8",
57:"9",
65:"A",
66:"B",
67:"C",
68:"D",
69:"E",
70:"F",
71:"G",
72:"H",
73:"I",
74:"J",
75:"K",
76:"L",
77:"M",
78:"N",
79:"O",
80:"P",
81:"Q",
82:"R",
83:"S",
84:"T",
85:"U",
86:"V",
87:"W",
88:"X",
89:"Y",
90:"Z"
};
function _(e, t) {
return _i_("269:dc192754"), _r_(function(i) {
_i_("269:bd3022e0");
var n = "";
i.which && void 0 !== r[i.which.toString()] && (i.originalEvent.altKey && (n += ":alt"), i.originalEvent.ctrlKey && (n += ":ctrl"), i.originalEvent.metaKey && (n += ":meta"), i.originalEvent.shiftKey && (n += ":shift"), n += ":" + r[i.which], e.trigger(t + n, {
keys:t + n,
originalEvent:i
})), _r_();
});
}
i.exports = n.extend({
init:function() {
_i_("269:7a254e40"), o.extend(this), this.$el.bind("keydown", _(this, "keydown")).bind("keyup", _(this, "keyup")), _r_();
}
}), _r_();
}), B.define("component/company/lp-return-bar/lp-return-bar", function(e, t, i) {
_i_("269:2286a32e");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("269:dd70b047"), this.setupHandlers(), _r_();
},
setupHandlers:function() {
_i_("269:9ca1732c"), this.$el.find('[data-return-bar-dismiss], [data-return-bar-dismiss=""]').bind("click", this.dismiss.bind(this)), _r_();
},
dismiss:function(e) {
_i_("269:de669f6b"), ("msie" !== B.env.b_browser || B.env.b_browser_version > 9) && (this.$el.empty(), e.preventDefault(), history.replaceState({}, document.title, $(e.target).attr("href"))), _r_();
}
}), _r_();
}), B.define("component/tooltip-loc", function(e, t, i) {
"use strict";
_i_("269:970ba861");
var n = e("component"), o = e("jquery");
i.exports = n.extend({
DEFAULTS:{
template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
placement:"top",
alignment:"center",
trigger:"hover focus",
animation:"true"
},
init:function() {
_i_("269:610aec21"), this._buildOptions(), this._createTooltip(), this._attachEvents(), this.$el.trigger("ready.B.tooltip", [ this.$tip ]), _r_();
},
_buildOptions:function() {
_i_("269:9ddbfae8"), this.options = o.extend({}, this.DEFAULTS, this.$el.data()), this.options.intangible = "intangible" in this.options, this.options.target && (this.options.target = o(this.options.target).first()), this.options.content || (this.options.content = this.options.title || this.el.title), _r_();
},
_createTooltip:function() {
_i_("269:41ae04fe");
var e = "tooltip-" + this.options.placement + " tooltip-align-" + this.options.alignment;
this.options.extraClass && (e = e + " " + this.options.extraClass), "true" === this.options.animation && (e += " tooltip-animate"), this.$tip = o(this.options.template), this.$tip.addClass(e), this._attachContent(), this.$tip.appendTo(o("body")), this.$el.trigger("inserted.B.tooltip", [ this.$tip ]), _r_();
},
_attachContent:function() {
_i_("269:48323c54");
var e = this.$tip.find(".tooltip-inner");
this.options.target ? e.append(this.options.target.clone()) :(this.options.target = [], e.text(this.options.content)), _r_();
},
_positionTooltip:function() {
_i_("269:7d3c37e5"), this._defineAlignmentVars(), this._placeTooltip(), this._alignTooltip(), this.$tip.css({
left:this.left,
top:this.top
}), _r_();
},
_defineAlignmentVars:function() {
_i_("269:79a44411"), this.elOffset = this.$el.offset(), this.position = "left", this.dimension = "outerWidth", this.options.placement.match(/top|bottom/) && (this.position = "top", this.dimension = "outerHeight"), _r_();
},
_accountForRTL:function(e) {
if (_i_("269:815c5c97"), !B.env.rtl) return _r_(e);
if ("left" === e) return _r_("right");
if ("right" === e) return _r_("left");
return _r_(e);
},
_placeTooltip:function() {
_i_("269:ab5a83db");
var e = this._accountForRTL(this.position), t = this.dimension;
this._accountForRTL(this.options.placement) === e ? this[e] = this.elOffset[e] - this.$tip[t]() :this[e] = this.elOffset[e] + this.$el[t](), _r_();
},
_alignTooltip:function() {
_i_("269:e5dfbb2b");
var e, t;
switch ("left" === this.position ? (e = "top", t = "outerHeight") :(e = "left", t = "outerWidth"), this._accountForRTL(this.options.alignment)) {
case e:
this[e] = this.elOffset[e];
break;

case "center":
this[e] = this.$el[t]() / 2 + this.elOffset[e] - this.$tip[t]() / 2;
break;

default:
this[e] = this.elOffset[e] + this.$el[t]() - this.$tip[t]();
}
_r_();
},
_attachEvents:function() {
if (_i_("269:c4be165f"), this.options.trigger.match(/manual/)) return _r_();
var e, t, i, n = this.options.trigger.split(" "), r = n.length, _ = this.$el.add(this.$tip);
for (this.options.intangible && (_ = this.$el), r; r--; ) e = n[r], "click" === e ? this.$el.on("click", o.proxy(this.toggle, this)) :(t = "hover" == e ? "mouseenter" :"focusin", i = "hover" == e ? "mouseleave" :"focusout", _.on(t, o.proxy(this.show, this)), _.on(i, o.proxy(this.hide, this)));
_r_();
},
_trackTransitionEnd:function(e) {
_i_("269:1ec652bb");
var t = this.$el;
this.$tip.one("transitionend", function(i) {
_i_("269:124e5a85"), t.trigger(e, [ this ]), _r_();
}), _r_();
},
show:function() {
_i_("269:be0b1075"), this.$el.trigger("show.B.tooltip", [ this.$tip ]), this._trackTransitionEnd("shown.B.tooltip"), this.$el.attr("aria-describedby", this.el.id), this._positionTooltip(), this.$tip.addClass("on").removeClass("off"), _r_();
},
hide:function() {
_i_("269:3e97dd72"), this.$el.trigger("hide.B.tooltip", [ this.$tip ]), this._trackTransitionEnd("hidden.B.tooltip"), this.$el.removeAttr("aria-describedby"), this.$tip.removeClass("on").addClass("off"), _r_();
},
toggle:function() {
_i_("269:e75904c1"), this.$tip.is(".on") ? this.hide() :this.show(), _r_();
}
}), _r_();
}), B.define("read-data-options", function(e, t, i) {
_i_("269:b2e7a21d"), i.exports = function(e, t) {
_i_("269:9b133c1b");
var i = {};
return e.jquery && (e = e[0]), Object.keys(t).forEach(function(n) {
_i_("269:dcce8877");
var o = t[n], r = "data-" + n, _ = null;
if ("function" == typeof o && (o = {
type:o
}), "string" == typeof o.name && (r = "data-" + o.name), !e.attributes[r]) {
if (o.hasOwnProperty("defaultValue")) i[n] = o.defaultValue; else if (o.hasOwnProperty("required")) throw new Error("read-data-options: missing required " + r + " attribute");
return _r_();
}
var _ = e.getAttribute(r);
if (o.type === Boolean) _ = !/^0|false|no|off$/.test(_); else if (o.type === String) _ = _ || o.defaultValue; else {
if (o.type !== Number) throw new Error("data-options: Invalid option type for " + n);
_ = parseFloat(_, 10), isNaN(_) && (_ = o.defaultValue);
}
i[n] = _, _r_();
}), _r_(i);
}, _r_();
}), B.define("leaving-users-lightbox", function() {
_i_("269:24430a76");
var e = function() {}, t = {
customMaskClassName:"b_leaving_users_light_box_mask",
messageDelay:600,
lightboxRootClass:"b_leaving_users_light_box"
};
return e.prototype.init = function(e) {
if (_i_("269:3ca03d97"), "object" != typeof e || !e.hasOwnProperty("lightboxContentBlock")) throw new Error("leaving-users-lightbox: `params` is not an object or it's missing required property: `lightboxContentBlock`!");
if (this.params = $.extend(t, e), this.page_ = $(document.documentElement), this.lightboxContentBlock_ = $(e.lightboxContentBlock), 0 === this.lightboxContentBlock_.length) return _r_();
this.lastMouseYCoords_ = [], this.messageTimeoutId_ = 0, this.lightbox_ = booking.lightbox, this.windowFocused_ = !0, this.attachEvents_(), _r_();
}, e.prototype.isInitiated = function(e) {
return _i_("269:640dd173"), _r_("undefined" != typeof this.lastMouseYCoords_);
}, e.prototype.attachEvents_ = function() {
_i_("269:339a2690");
var e = this;
this.page_.bind({
"mousemove.LeavingUsersLightbox":function(t) {
_i_("269:f5739a10"), e.onPageMouseMove_(t), _r_();
},
"mouseleave.LeavingUsersLightbox":$.proxy(this.onPageMouseLeave_, this)
}), $(window).focus(function() {
_i_("269:7f9eb59e"), e.windowFocused_ = !0, _r_();
}).blur(function() {
_i_("269:cd927c9a"), e.windowFocused_ = !1, _r_();
}), _r_();
}, e.prototype.detachEvents_ = function() {
_i_("269:b98dbd9b"), this.page_.unbind(".LeavingUsersLightbox"), _r_();
}, e.prototype.onPageMouseMove_ = function(e) {
_i_("269:e847bd65"), clearTimeout(this.messageTimeoutId_), this.writeMouseCoords_(e), _r_();
}, e.prototype.onPageMouseLeave_ = function(e) {
if (_i_("269:7e9fd78b"), !this.wasMouseMoveUpwards_() || !this.strictCheck_(e)) return _r_();
var t = this;
clearTimeout(this.messageTimeoutId_), this.messageTimeoutId_ = setTimeout(function() {
_i_("269:ba019033"), t.detachEvents_(), t.showLeavingMessage_(), _r_();
}, t.params.messageDelay), _r_();
}, e.prototype.showLeavingMessage_ = function() {
_i_("269:5d2d59f3");
var e = this;
if (this.priorityfixperiment) {
if (B.et.stage(this.priorityfixperiment, 1), this.lightbox_.isVisible() && (B.et.stage(this.priorityfixperiment, 2), B.et.track(this.priorityfixperiment))) return this.attachEvents_(), _r_();
B.et.customGoal(this.priorityfixperiment, 1);
}
this.lightbox_.hide(), this.lightbox_.show(this.lightboxContentBlock_, {
customWrapperClassName:this.params.lightboxRootClass,
customMaskClassName:this.params.customMaskClassName,
bAnimation:!1,
hideCallBack:function() {
_i_("269:7463757a"), B.events.emit("leaving-users-lightbox:hide", {
lightbox:e.lightbox_,
lightboxSelector:e.params.lightboxContentBlock
}), _r_();
}
}, function() {
_i_("269:aad3515e"), B.events.emit("leaving-users-lightbox:show", {
lightbox:e.lightbox_,
lightboxSelector:e.params.lightboxContentBlock
}), _r_();
}), _r_();
}, e.prototype.writeMouseCoords_ = function(e) {
_i_("269:b775bf8c"), this.lastMouseYCoords_.push(e.pageY), this.lastMouseYCoords_.length > 2 && this.lastMouseYCoords_.shift(), _r_();
}, e.prototype.wasMouseMoveUpwards_ = function() {
return _i_("269:075b5b70"), _r_(this.lastMouseYCoords_.length >= 2 && this.lastMouseYCoords_[0] > this.lastMouseYCoords_[1]);
}, e.prototype.strictCheck_ = function(e) {
if (_i_("269:1faa8eb2"), !this.strictCheck) return _r_(!0);
return _r_(e.clientY < 30);
}, _r_(new e());
}), B.define("component/core/lightbox/trigger", function(e, t, i) {
_i_("269:de9857ab");
var n = e("read-data-options"), o = e("lightbox");
i.exports = e("component").extend({
init:function() {
_i_("269:457b66e1");
var e = this.$el.data("event") || "click";
this.options = n(this.el, {
bCloseButton:{
name:"close-button",
type:Boolean
},
bCanScroll:{
name:"scrollable",
type:Boolean
},
bOverflowVisible:{
name:"overflow-visible",
type:Boolean
},
autoWidth:{
name:"auto-width",
type:Boolean
},
ajax:{
name:"ajax",
type:Boolean
},
iframe:{
name:"iframe",
type:Boolean
},
customWrapperClassName:{
name:"wrapper-class",
type:String
},
customMaskClassName:{
name:"mask-class",
type:String
},
bMaskClick:{
name:"mask-click",
type:Boolean
},
trigger:{
name:"trigger",
type:String
},
position:{
name:"position",
type:String
},
autoCenter:{
name:"auto-center",
type:Boolean
},
limitHeight:{
name:"limit-height",
type:Boolean
},
cloneElement:{
name:"clone-element",
type:Boolean
},
trapFocus:{
name:"trap-focus",
type:Boolean
},
modalLabeledById:{
name:"modal-labeled-by-id",
type:String
},
bAnimation:{
name:"animation",
type:Number
},
addDialogStartEndText:{
name:"add-dialog-start-end-text",
type:Boolean
}
}), "page-load" === e ? (this.target = this.$el, $(document).ready(function() {
_i_("269:9500b627"), setTimeout(this.open.bind(this), 150), _r_();
}.bind(this))) :(this.target = this.$el.attr("href") || this.$el.data("src") || this.target, this.$el.bind(e, this.open.bind(this))), _r_();
},
open:function(e) {
_i_("269:b08828d6"), e && e.preventDefault && e.preventDefault(), o.show(this.target, this.options), this.options.trigger && B.events.trigger(this.options.trigger, e, this.target), _r_();
}
}), _r_();
}), B.define("component/clickable-block", function(e, t, i) {
_i_("269:291c7e12");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("269:a668b673");
var e = this.$el, t = e.data("selector") || "a", i = e.data("exclude") || "", n = e.data("target") || "";
e.click(function(o) {
if (_i_("269:efd521f5"), !$(o.target).closest(t).length || !i || !$(o.target).closest(i).length) {
o.preventDefault();
var r = e.find(t + ":first"), _ = "_blank" == r.attr("target") || "blank" == n || "_blank" == n, a = r.attr("href") || r.data("href");
a && (_ ? window.open(a) :window.location = a);
}
_r_();
}), _r_();
}
}), _r_();
}), B.define("component/reviews/review-helpful", function(e, t, i) {
_i_("269:d2440246");
var n = e("jquery"), o = e("component"), r = e("jstmpl");
i.exports = o.extend({
init:function() {
_i_("269:81592755"), this.form = this.$el.find(".review-helpful__form"), this.submitButton = this.form.find("[type=submit]"), this.reviewURL = this.form.find("[name=review_url]").val(), this.currentCount = this.$el.data("current-count"), this.feedbackMessage = this.$el.find(".review-helpful__vote-feedback-message"), this.isAlreadyVoted() ? (this.disableSubmit(), this.updateMessage()) :this.attachEvents(), _r_();
},
attachEvents:function() {
_i_("269:355f48e4"), this.form.on("submit", this.formSubmit.bind(this)), _r_();
},
disableSubmit:function() {
_i_("269:68594388"), this.submitButton.prop("disabled", !0).removeClass("review-helpful__form-submit").addClass("review-helpful__form-submitted").val(r.translations("review_helpful_vote_button_confirmed") + " ✔"), _r_();
},
enableSubmit:function() {
_i_("269:ae1e6a3e"), this.submitButton.prop("disabled", !1).removeClass("review-helpful__form-submitted").addClass("review-helpful__form-submit").val(r.translations("review_helpful_vote_button_confirmed")), _r_();
},
updateMessage:function() {
_i_("269:1e6869a5");
var e = this.currentCount;
0 === e ? this.feedbackMessage.queue(function() {
_i_("269:7a3f6c71"), n(this).hide().dequeue(), _r_();
}).queue(function() {
_i_("269:76591ba6"), n(this).html(r.translations("review_helpful_vote_you_bold", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})).dequeue(), _r_();
}).queue(function() {
_i_("269:e205dda8"), n(this).fadeIn("fast").dequeue(), _r_();
}) :this.feedbackMessage.queue(function() {
_i_("269:46a0be48"), n(this).fadeOut("fast").dequeue(), _r_();
}).queue(function() {
_i_("269:969db841"), n(this).html(r.translations("review_helpful_vote_you_and_others_bold", e, {
number_people:e,
start_bold:"<strong>",
end_bold:"</strong>"
})).dequeue(), _r_();
}).queue(function() {
_i_("269:e205dda81"), n(this).fadeIn("fast").dequeue(), _r_();
}), _r_();
},
addVoteToCookie:function() {
_i_("269:ee95931f");
var e = [];
window.b_cookie = window.b_cookie || {}, window.b_cookie.rF && (e = window.b_cookie.rF.split(",")), e = n.grep(e, function(e) {
return _i_("269:71a8a140"), _r_(e && "undefined" !== e);
}), e.length > 49 && (e = e.slice(e.length - 49)), e.push(this.reviewURL), window.b_cookie.rF = e.toString(), JSON && JSON.stringify && n.cookie("b") && n.cookie("b", JSON.stringify(window.b_cookie), {
expires:30,
path:"/",
domain:".booking.com"
}), _r_();
},
isAlreadyVoted:function() {
_i_("269:84e81e90");
var e = [];
if (window.b_cookie && window.b_cookie.rF) e = window.b_cookie.rF.split(","); else if (JSON && JSON.parse && n.cookie("b")) {
var t = JSON.parse(n.cookie("b"));
t.rF && (e = t.rF.split(","));
}
if (e.length && -1 !== e.indexOf(this.reviewURL)) return _r_(!0);
return _r_(!1);
},
formSubmit:function(e) {
_i_("269:dd6f8ff4"), e && e.preventDefault(), this.disableSubmit(), n.ajax({
url:this.form.prop("action"),
data:this.form.serialize(),
method:"POST",
success:this.success.bind(this),
error:this.error.bind(this)
}), _r_();
},
success:function() {
_i_("269:fb756548"), this.updateMessage(), this.addVoteToCookie(), _r_();
},
error:function() {
_i_("269:9de3cf61"), this.enableSubmit(), _r_();
}
}), _r_();
}), B.define("component/track-location-aware", function(e, t, i) {
"use strict";
_i_("269:b148a06a");
var n = e("component/track");
i.exports = n.extend({
init:function() {
_i_("269:a5fdcd48");
var e = !1, t = this, i = arguments;
this.isLocationAware() ? n.prototype.init.apply(this, i) :B.events && B.events.on("user_location_aware", function() {
_i_("269:24328fdf"), e || (n.prototype.init.apply(t, i), e = !0), _r_();
}), _r_();
},
isLocationAware:function() {
return _i_("269:bd4359d3"), _r_(B.browserStorageHandler && B.browserStorageHandler.isLocalStorageSupported() && B.browserStorageHandler.getSessionValue("location_aware"));
}
}), _r_();
}), B.define("segment", [ "events", "jquery" ], function(e, t) {
"use strict";
_i_("269:5d55d017");
var i = {}, n = B.browserStorageHandler && B.browserStorageHandler.isLocalStorageSupported() && window.JSON && window.JSON.stringify || B.storage, o = "track_segments", r = function() {
if (_i_("269:d94a813a"), !n) return _r_({});
var e;
if (B.storage) e = B.storage({
location:"sessionstorage",
key:o
}); else if (e = B.browserStorageHandler.getSessionValue(o)) try {
e = t.parseJSON(e);
} catch (i) {}
return _r_(e || {});
}, _ = function(e) {
_i_("269:aa6e6246"), n && (B.storage ? B.storage({
location:"sessionstorage",
key:o,
value:e
}) :B.browserStorageHandler.addSessionValue(o, window.JSON.stringify(e))), _r_();
};
function a() {}
return a.prototype.init = function() {
_i_("269:e99d69ee");
var e = this.getStored();
e.fired && (this._fired = !0), _r_();
}, a.prototype.fire = function(t) {
if (_i_("269:18ed0821"), this._fired) return _r_();
this._fired = !0, this.store(t), e.trigger("track_segment_fire_" + this.name, t), _r_();
}, a.prototype.getStored = function() {
return _i_("269:9c589192"), _r_(r()[this.name] || {});
}, a.prototype.store = function(e) {
_i_("269:63b49a69");
var t = r();
t[this.name] = t[this.name] || {}, this._fired && (t[this.name].fired = !0), e && (t[this.name].data = e), _(t), _r_();
}, a.prototype.onFire = function(t) {
return _i_("269:d2bd2d95"), this._fired ? t() :e.on("track_segment_fire_" + this.name, t), _r_(this);
}, a.getInstance = function(e) {
return _i_("269:191aea89"), i[e] || (i[e] = new a(), i[e].name = e, i[e].init()), _r_(i[e]);
}, a.segmentExists = function(e) {
return _i_("269:6b057c24"), _r_(!!i[e]);
}, _r_(a);
}), B.when({
action:"searchresults",
events:"ready",
condition:!B.env.b_is_tdot_traffic
}).require([ "searchresults/events", "segment" ], function(e, t) {
_i_("269:2945b1b1");
var i = t.getInstance("location-aware"), n = {
sortByDistance:B.env.b_order && /^distance.*/.test(B.env.b_order),
filterDistricts:r(),
searchDistrict:"district" === B.env.b_dest_type
};
e.on(e.UI_SORTING_CHANGED, function(e) {
_i_("269:5116139d"), setTimeout(function() {
_i_("269:005617c4"), $(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length && (n.sortByDistance = !0, o()), _r_();
}, 10), _r_();
}), e.on(e.UI_FILTER_CHANGED, function() {
_i_("269:91405e5d"), r() && (n.filterDistricts = !0, o()), _r_();
}), o();
function o() {
_i_("269:6fec1959");
var e = {}, t = 0;
$.each(n, function(i, n) {
_i_("269:2f558350"), n && (e[i] = !0, t++), _r_();
}), t && i.fire(e), _r_();
}
function r() {
_i_("269:e16b801f");
var e = !1;
return $("#filterbox_options .filterelement.active").each(function() {
_i_("269:37e3d1d8");
var t = $(this).data("name"), i = $(this).data("value");
if ("di" === t || "bf" === t && +i >= 8857 && 10937 >= +i) return e = !0, _r_(!1);
_r_();
}), _r_(e);
}
_r_();
}), B.require([ "segment", "jquery" ], function(e, t) {
_i_("269:0d30bcc4");
var i = e.getInstance("location-aware-map"), n = {
openMap:!1
};
B.when({
action:"searchresults",
events:"ready",
condition:!B.env.b_is_tdot_traffic
}).require([ "searchresults/events" ], function(e) {
_i_("269:68d512af"), n = Object.assign(n, {
sortByDistance:B.env.b_order && /^distance.*/.test(B.env.b_order),
filterDistricts:i(),
searchDistrict:"district" === B.env.b_dest_type
}), e.on(e.UI_SORTING_CHANGED, function() {
_i_("269:fbdc31f5"), setTimeout(function() {
_i_("269:d44c8eb5"), t(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length && (n.sortByDistance = !0, o()), _r_();
}, 10), _r_();
}), e.on(e.UI_FILTER_CHANGED, function() {
_i_("269:218fb545"), i() && (n.filterDistricts = !0, o()), _r_();
}), o();
function i() {
_i_("269:e6fc3c76");
var e = !1;
return t("#filterbox_options .filterelement.active").each(function() {
_i_("269:7357c236");
var i = t(this).data("name"), n = t(this).data("value");
if ("di" === i || "bf" === i && +n >= 8857 && 10937 >= +n) return e = !0, _r_(!1);
_r_();
}), _r_(e);
}
_r_();
}), B.when({
action:[ "hotel", "searchresults", "city", "region", "country" ],
events:"ready"
}).run(function() {
_i_("269:a00abb82");
var e = "map_opened";
t(".show_map").on("click", function() {
_i_("269:3a31d5c2"), n.openMap = !0, o(), _r_();
}), location.hash.indexOf(e) > -1 && (n.openMap = !0, o()), _r_();
});
function o() {
_i_("269:f252f640");
var e = {}, o = 0;
t.each(n, function(t, i) {
_i_("269:2f5583501"), i && (e[t] = !0, o++), _r_();
}), o && i.fire(e), _r_();
}
_r_();
}), B.require([ "segment" ], function(e) {
_i_("269:2a5ca7c4");
var t = e.getInstance("facilities-aware"), i = {};
B.when({
action:"searchresults",
events:"ready",
condition:!B.env.b_is_tdot_traffic
}).require([ "searchresults/events" ], function(e) {
_i_("269:01982486"), i = Object.assign(i, {
filterFacilities:t()
}), e.on(e.UI_FILTER_CHANGED, function() {
_i_("269:eed717c2"), t() && (i.filterFacilities = !0, n()), _r_();
}), n();
function t() {
return _i_("269:363faa3b"), _r_($("#filterbox_options").find(".filterelement.active ").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length > 0);
}
_r_();
}), B.when({
action:"hotel",
events:"click .hp_nav_facilities_link",
condition:!B.env.b_is_tdot_traffic
}).run(function() {
_i_("269:8a87fbd9"), i.clickFacilitiesTab = !0, n(), _r_();
});
function n() {
_i_("269:f252f6401");
var e = {}, n = 0;
$.each(i, function(t, i) {
_i_("269:2f5583502"), i && (e[t] = !0, n++), _r_();
}), n && t.fire(e), _r_();
}
_r_();
}), B.require([ "segment" ], function(e) {
_i_("269:2413f9f7");
var t = e.getInstance("facilities-filter"), i = {};
B.when({
action:"searchresults",
events:"ready",
condition:!B.env.b_is_tdot_traffic
}).require([ "searchresults/events" ], function(e) {
_i_("269:375b40bf"), i = Object.assign(i, {
filterFacilities:t()
}), e.on(e.UI_FILTER_CHANGED, function() {
_i_("269:56a52134"), t() && (i.filterDistricts = !0, n()), _r_();
}), n();
function t() {
return _i_("269:4187ceed"), _r_($("#filterbox_options").find(".filterelement.active").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length > 0);
}
_r_();
});
function n() {
_i_("269:f252f6402");
var e = {}, n = 0;
$.each(i, function(t, i) {
_i_("269:2f5583503"), i && (e[t] = !0, n++), _r_();
}), n && t.fire(e), _r_();
}
_r_();
}), B.define("component/track-segment", function(e, t, i) {
"use strict";
_i_("269:8834234d");
var n = e("component"), o = e("segment"), r = e("et");
i.exports = n.extend({
init:function() {
_i_("269:b6582acb");
var e = this;
$.each((this.$el.attr("data-segment") || "").split(/ +/), function(t, i) {
_i_("269:3a24c3ef"), i && o.getInstance(i).onFire($.proxy(e.track, e)), _r_();
}), _r_();
},
track:function() {
if (_i_("269:bf7e9306"), this.isTracked) return _r_();
var e = this.$el.attr("data-hash");
if (!e) return _r_();
var t, i = this.$el.attr("data-track") || "click", n = this.$el.attr("data-segment-custom-goal"), o = this.$el.attr("data-segment-stage");
n || o || (n = this.$el.attr("data-custom-goal"), o = this.$el.attr("data-stage")), t = "load" === i ? r :r.on(i, this.$el), n ? t.customGoal(e, n) :o ? t.stage(e, o) :t.track(e), this.isTracked = !0, _r_();
}
}), _r_();
}), B.define("component/onview-animate", function(e, t, i) {
_i_("269:f8cde9cb");
var n, o = e("component");
n = B.tools && B.tools.dom && "function" == typeof B.tools.dom.watchIfBlockVisibleInViewport ? B.tools.dom.watchIfBlockVisibleInViewport :e("core/utils/onview").run;
function r() {
return _i_("269:4ebec180"), _r_(Math.floor(400 * Math.random() + 300) + 500);
}
var _ = o.extend({
init:function() {
_i_("269:c733f540");
var e = this, t = e.$el, i = t.attr("data-anim-type") || "", o = t.attr("data-onview-cls") || "", _ = t.attr("data-onview-cls-remove") || "", a = t.attr("data-rollup-time") || 1500, s = t.attr("data-anim-trigger") || "onview";
function l(e) {
_i_("269:dea19eef");
var n = e && e.type;
switch (i) {
case "rollover":
setTimeout(function() {
_i_("269:6d73cf65"), t.addClass("rollover-anim"), setTimeout(function() {
_i_("269:d5db5f5e"), t.removeClass("rollover-anim"), _r_();
}, a), _r_();
}, "string" == typeof n ? 10 :r());
break;

default:
setTimeout(function() {
_i_("269:8fef69ed"), _.length && t.removeClass(_), t.addClass(i).addClass(o).trigger("complete.anim"), _r_();
}, Math.floor(250 * Math.random()) + 500);
}
_r_();
}
function c(e) {
switch (_i_("269:31b8f2f2"), e) {
case "mouseenter":
if ("rollover" == i) {
var o;
t.on("mouseenter", function() {
_i_("269:b40274fb"), clearTimeout(o), o = setTimeout(function() {
_i_("269:7b3c01c8"), t.addClass("rollover-anim"), _r_();
}, 100), _r_();
}), t.on("mouseleave", function() {
_i_("269:b0534ba0"), clearTimeout(o), o = setTimeout(function() {
_i_("269:377e5cdf"), t.removeClass("rollover-anim"), _r_();
}, 100), _r_();
});
} else t.on("mouseenter", l);
break;

case "manual":
t.on("anim.onview", l);
break;

case "click":
t.on("click", l);
break;

case "onview":
default:
n(t, l);
}
_r_();
}
s.trim().split(/\s+/).forEach(function(e) {
_i_("269:0278d06e"), c(e.trim()), _r_();
}), _r_();
}
});
i.exports = _, _r_();
}), B.define("ga-events-tracker", function(e, t, i) {
_i_("269:1b52fdbe");
var n = e("ga-tracker"), o = e("promise"), r = e("when/events-view");
function _(e) {
_i_("269:a8c56ec0"), this.events[e].forEach(function(t) {
_i_("269:41d132f9"), o.all(a.call(this, t.trigger)).then(function() {
_i_("269:1b07bce3");
var i = null;
"function" == typeof t.value && (i = t.value()), "number" == typeof t.value && (i = t.value), n.trackEvent(this.categoryName, e, t.label, i), _r_();
}.bind(this)), _r_();
}.bind(this)), _r_();
}
function a(e) {
if (_i_("269:9b1908ac"), !Array.isArray(e)) return _r_(a.call(this, [ e ]));
return _r_(e.map(function(e) {
return _i_("269:abbafe74"), _r_(new o(function(t) {
if (_i_("269:e1a276b2"), "boolean" == typeof e) return e && t(!0), _r_();
var i = e.split(/\s+/), n = i.shift(), o = i.join(" ");
switch (n) {
case "ready":
$(function() {
_i_("269:daa0dbee"), t(!0), _r_();
});
break;

case "presence":
$(o).length > 0 && t(!0);
break;

case "view":
r(o, function() {
_i_("269:de3992a7"), t(!0), _r_();
});
break;

case "hover":
n = "mouseenter";

case "click":
case "mousedown":
case "mouseup":
case "focus":
case "change":
case "input":
case "submit":
$("body").one(n, o, function() {
_i_("269:daa0dbee1"), t(!0), _r_();
});
break;

case "event":
this.emitter.one(o, function(e) {
_i_("269:1e65626c"), t(e), _r_();
});
}
_r_();
}.bind(this)));
}.bind(this)));
}
function s(t) {
if (_i_("269:ea97b0fc"), !t.categoryName) throw Error("ga-events-tracker: you must define a categoryName");
if (!t.eventsMap) throw Error("ga-events-tracker: you must define an eventsMap");
this.emitter = t.emitter || e("events"), this.events = t.eventsMap, this.categoryName = t.categoryName, Object.keys(this.events).forEach(_.bind(this)), _r_();
}
var l = {};
l.setup = function(e) {
return _i_("269:33c47c48"), _r_(new s(e));
}, i.exports = l, _r_();
}), B.define("page-scroll-block", function(e, t, i) {
"use strict";
_i_("269:3719abcc");
var n, o = e("jquery"), r = o(window), _ = document.body, a = !1;
function s() {
if (_i_("269:3e819b91"), "undefined" != typeof n) return _r_(n);
return _r_(this.scrollWidth = n = d());
}
function l() {
if (_i_("269:3681b6a2"), _.style.overflow = "hidden", !n) return _r_();
h() && (_.style.paddingRight = n + "px"), u(!0), _r_();
}
function c() {
if (_i_("269:6fd90216"), _.style.overflow = "", !n) return _r_();
_.style.paddingRight = "", u(!1), _r_();
}
function d() {
_i_("269:329c670f");
var e, t = document.createElement("div");
return t.setAttribute("style", [ "width: 100px", "height: 100px", "overflow: scroll", "position: absolute", "top: -9999px" ].join(";")), _.appendChild(t), e = t.offsetWidth - t.clientWidth, _.removeChild(t), _r_(e);
}
function h() {
return _i_("269:02e1130a"), _r_(_.scrollHeight > document.documentElement.clientHeight);
}
function u(e) {
_i_("269:1f55eb15"), e ? r.on("resize.pageScrollBlock", f) :r.off("resize.pageScrollBlock"), _r_();
}
function f() {
if (_i_("269:6ef37904"), a) return _r_();
h() ? _.style.paddingRight = n + "px" :_.style.paddingRight = "", a = !0, window.setTimeout(function() {
_i_("269:3be8fe9e"), a = !1, _r_();
}, 150), _r_();
}
t.init = s, t.freeze = l, t.unfreeze = c, t.getScrollWidth = function() {
return _i_("269:3ea28370"), _r_(this.scrollWidth);
}, _r_();
}), B.define("component/core/et-scroll-observer", function(e, t, i) {
_i_("269:4f898e5d");
var n = B.eventEmitter, o = "et-scroll-observer:scroll";
i.exports = e("component").extend({
init:function() {
_i_("269:30d59e4c"), this.$el.on("mousewheel DOMMouseScroll scroll", this.handler), _r_();
},
handler:function(e) {
_i_("269:70b01956"), n.trigger(o, e), _r_();
}
}), _r_();
}), B.define("sliding-panel-model", function(e, t, i) {
_i_("269:7f42b605");
var n, o = e("event-emitter"), r = {}, _ = {
show:"sliding-panel/show",
hide:"sliding-panel/hide",
dataLoadStart:"sliding-panel/dataLoad:start",
dataLoadAborted:"sliding-panel/dataLoad:abort",
dataShown:"sliding-panel/dataShown",
dataLoaded:"sliding-panel/dataLoad:success",
dataLoadFail:"sliding-panel/dataLoad:fail",
dataShowStart:"sliding-panel/showData:start",
dataShowEnd:"sliding-panel/showData:success",
ajaxInited:"sliding-panel/ajaxInited"
};
function a() {
_i_("269:a2c5d940"), this.isShown = 0, this.ajaxLoader = null, this.ajaxEnabled = !1, this.ajaxLoaded = !1, this.ajaxLoading = !1, this.ajaxLoadedUrl = "", this.dynamicData = {}, o.extend(this), _r_();
}
a.prototype.isPanelShown = function() {
return _i_("269:0ec51808"), _r_(this.isShown);
}, a.prototype.hide = function() {
_i_("269:03dad44b"), this.isShown && (this.isShown = 0, this.emit(_.hide)), _r_();
}, a.prototype.show = function() {
if (_i_("269:0171d1fe"), this.isShown) return _r_();
this.isShown = 1, this.emit(_.show), _r_();
}, a.prototype.ajaxLoad = function(e) {
_i_("269:94aa3b34"), this.ajaxLoadedUrl && this.ajaxLoadedUrl == e.url ? this.dynamicDataAborted() :this.ajaxLoader.load(e), _r_();
}, a.prototype.beginLoading = function(e) {
_i_("269:34bd95f1"), this.ajaxLoading = !0, this.emit(_.dataLoadStart, e), _r_();
}, a.prototype.dataLoaded = function(e, t) {
_i_("269:eecc4c28"), this.emit(_.dataLoaded, t), this.dynamicData = {
content:e,
requestParams:t
}, this.setAjaxLoaded(t.url), this.showData(t), _r_();
}, a.prototype.dataFailed = function(e) {
_i_("269:09d36cba"), this.emit(_.dataLoadFail, e), this.setAjaxLoaded(""), _r_();
}, a.prototype.showData = function() {
_i_("269:6d775629"), this.emit(_.dataShowStart), _r_();
}, a.prototype.isAjaxYetLoading = function() {
return _i_("269:251b3948"), _r_(this.ajaxLoading);
}, a.prototype.getDynamicLoadedUrl = function() {
return _i_("269:076e7826"), _r_(this.ajaxLoadedUrl);
}, a.prototype.setAjaxLoaded = function(e) {
_i_("269:b8f8198e"), this.ajaxLoadedUrl = e, this.ajaxLoading = !1, _r_();
}, a.prototype.dynamicDataAborted = function() {
_i_("269:801eb086"), this.emit(_.dataLoadAborted), _r_();
}, a.prototype.toggleAjaxEnabled = function(t) {
if (_i_("269:7fdf7313"), !t) return _r_();
"on" == t && (this.ajaxEnabled = !0, this.ajaxLoader || (n = e("sliding-panel-ajax"), this.ajaxLoader = n.get(this.id), this.setDataPreprocessor(), this.emit(_.ajaxInited))), "off" == t && (this.ajaxEnabled = !1), _r_();
}, a.prototype.getDynamicData = function() {
return _i_("269:2f4177ac"), _r_(this.dynamicData);
}, a.prototype.setDataPreprocessor = function(e) {
_i_("269:876300ce"), e && (this.preprocessor = e), this.ajaxLoader && this.preprocessor && (this.ajaxLoader.preprocessData = this.preprocessor), _r_();
}, i.exports = {
EVENTS:_,
get:function(e) {
if (_i_("269:55ad9802"), "string" != typeof e || 0 === e.length) throw new Error("sliding-panel-model: invalid .get() argument!");
return r.hasOwnProperty(e) || (r[e] = new a(), r[e].id = e), _r_(r[e]);
},
hideAll:function() {
_i_("269:41b07915");
for (var e in r) r[e].hide();
_r_();
}
}, _r_();
}), B.define("component/core/sliding-panel-core", function(e, t, i) {
_i_("269:cdc9a596");
var n = e("jquery"), o = e("et"), r = e("server-data"), _ = e("events"), a = e("component"), s = e("sliding-panel-model"), l = "is-hidden", c = "is-shown", d = n(window), h = !0;
i.exports = a.extend({
init:function() {
if (_i_("269:682572ba"), this.id = this.$el.data("id"), "string" != typeof this.id) throw new Error("core/sliding-panel: `data-id` is invalid or undefined!");
"undefined" == typeof this.useScrollBlocker && (this.useScrollBlocker = !0), this.$close = this.$el.find("[data-close-button]"), this.model = s.get(this.id), this.initHandlers(), _r_();
},
initHandlers:function() {
_i_("269:b941aad0"), this.useScrollBlocker && (this.scrollBlocker = e("page-scroll-block"), this.scrollBlocker.init()), this.model.on(s.EVENTS.show, this.show.bind(this)), this.model.on(s.EVENTS.hide, this.hide.bind(this)), this.model.on(s.EVENTS.dataShowStart, this.renderDynamicContent.bind(this)), this.model.on(s.EVENTS.dataLoadStart, this.showDynamicLoading.bind(this)), this.model.on(s.EVENTS.dataLoadFail, this.showDynamicFail.bind(this)), this.$el.on("click", this.onContainerClick.bind(this)), this.$el.on("click", "[data-content]", this.onContentClick.bind(this)), this.model.isPanelShown() && this.show(), _r_();
},
eventsOn:function() {
_i_("269:a4e9a349"), this.$close.on("click.slidingPanel", this.onCloseClick.bind(this)), d.on("keydown.slidingPanel", this.onKeyDown.bind(this)), _r_();
},
eventsOff:function() {
_i_("269:db8538fd"), this.$close.off("click.slidingPanel"), d.off("keydown.slidingPanel"), _r_();
},
onKeyDown:function(e) {
_i_("269:b6fb4416"), 27 === e.which && (this.model.hide(), this.onHideEvents("escape")), _r_();
},
onCloseClick:function() {
_i_("269:d96c9fb3"), this.model.hide(), this.onHideEvents("close-button"), _r_();
},
onOverlayClick:function() {
_i_("269:fc5e13dc"), this.model.hide(), this.onHideEvents("overlay"), _r_();
},
onHideEvents:function(e) {
_i_("269:8f92f4ce"), _.emit("sliding-panel/on:hide", e), _.emit("sliding-panel/" + this.id + "/on:hide", e), _r_();
},
onShowEvents:function() {
_i_("269:5e24804f"), _.emit("sliding-panel/on:show", this.id), _.emit("sliding-panel/" + this.id + "/on:show"), "tdot" === r.b_site_type && o.stage("VKZOFTOTdCIPPQFFZFeNBKKYcMEAVAPOSae", 1), _r_();
},
onDataShowEvents:function() {
_i_("269:0e9e83aa"), _.emit("sliding-panel/on:data_shown", this.id), _.emit("sliding-panel/" + this.id + "/on:data_shown"), _r_();
},
show:function() {
_i_("269:b743bedc"), this.$el.removeClass(l).addClass(c).show(), this.useScrollBlocker && this.scrollBlocker.freeze(), this.onShowEvents(), this.eventsOn(), _r_();
},
hide:function() {
_i_("269:3e1522e3");
var e = this, t = this.$el;
this.$el.removeClass(c).addClass(l), this.wait(400, function() {
_i_("269:16b8b910"), t.css("display", "none"), e.useScrollBlocker && e.scrollBlocker.unfreeze(), _r_();
}), _.emit("sliding-panel/is-hidden", this.id), this.eventsOff(), _r_();
},
showDynamicLoading:function() {
_i_("269:61119b58"), this._setupDynamicElements(), this.$dynamicContainer.hide(), this.$dynamicLoadingBlock.show(), this.$dynamicFailBlock.hide(), _r_();
},
showDynamicFail:function() {
_i_("269:7c4103b0"), this.$dynamicContainer.hide(), this.$dynamicLoadingBlock.hide(), this.$dynamicFailBlock.show(), _r_();
},
showDynamicContainer:function() {
_i_("269:cfbdf103"), this.$dynamicContainer.show(), this.$dynamicLoadingBlock.hide(), this.$dynamicFailBlock.hide(), this.onDataShowEvents(), _r_();
},
_setupDynamicElements:function() {
_i_("269:46b91372"), (!this.$dynamicContainer || this.$dynamicContainer.length) && (this.$dynamicContainer = this.$el.find(".sliding-panel__ajax-container"), this.$dynamicLoadingBlock = this.$el.find(".sliding_panel__ajax_loading"), this.$dynamicFailBlock = this.$el.find(".sliding_panel__ajax_fail")), _r_();
},
renderDynamicContent:function() {
_i_("269:432d5428"), this._setupDynamicElements();
var e = this.model.getDynamicData().content;
this.$dynamicContainer.html(e), this.showDynamicContainer(), _r_();
},
onContainerClick:function() {
_i_("269:b90672b1"), h && (this.model.hide(), this.onHideEvents("overlay")), h = !0, _r_();
},
onContentClick:function() {
_i_("269:4909055c"), h = !1, _r_();
},
wait:function(e, t) {
_i_("269:efc4d038"), window.setTimeout(t, e), _r_();
}
}), _r_();
}), B.define("component/core/sliding-panel-core-a11y", function(e, t, i) {
_i_("269:6b94c503");
var n = e("component/core/sliding-panel-core"), o = e("trap-focus");
i.exports = n.extend({
show:function() {
_i_("269:167322d4"), n.prototype.show.apply(this, arguments);
var e = this;
e.$el.attr("tabindex", "0").attr("aria-hidden", "false"), n.prototype.wait.call(e, 400, function() {
_i_("269:0f64d7cd"), o.trap(e.el), _r_();
}), setTimeout(function() {
_i_("269:6c649b92"), e.$el.find("*").blur(), _r_();
}, 400), _r_();
},
hide:function() {
_i_("269:96d3a0b1"), n.prototype.hide.apply(this, arguments), this.$el.attr("tabindex", "-1").attr("aria-hidden", "true"), _r_();
},
eventsOn:function() {
_i_("269:e498ee4f"), n.prototype.eventsOn.apply(this), this.$close.on("keydown.slidingPanel", this.onEnterClose.bind(this)), _r_();
},
eventsOff:function() {
_i_("269:d0b668f3"), n.prototype.eventsOff.apply(this, arguments), this.$close.off("keydown.slidingPanel"), _r_();
},
onEnterClose:function(e) {
_i_("269:2d13d5d6");
var t = e.which || e.keyCode;
13 == t && this.$close.trigger("click"), _r_();
}
}), _r_();
}), B.define("component/core/sliding-panel-trigger", function(e, t, i) {
_i_("269:04bce504");
var n = e("component"), o = e("sliding-panel-model");
i.exports = n.extend({
init:function() {
if (_i_("269:8a6e368b"), this.target = this.$el.data("target"), this.panelTarget = this.$el.data("target"), "string" != typeof this.target) throw new Error("core/sliding-panel: `data-target` is invalid or undefined!");
this.shouldToggle = this.$el.data("toggle") || !1, this.activeClass = this.$el.data("active-class") || "is-selected", this.preventDefault = "undefined" != typeof this.$el.data("prevent-default") ? this.$el.data("prevent-default") :!0, this.model = o.get(this.target), this._initAjaxOptions(), this._attachEvents(), _r_();
},
_attachEvents:function() {
_i_("269:cccbd21f"), this.shouldToggle ? this.$el.on("click", this.onClickToggle.bind(this)) :this.$el.on("click", this.onClick.bind(this)), this.model.on(o.EVENTS.hide, this.onSlidingHide.bind(this)), this.model.on(o.EVENTS.show, this.onSlidingShow.bind(this)), _r_();
},
onSlidingHide:function() {
_i_("269:0265ab35"), this.removeActiveClass(), _r_();
},
onSlidingShow:function() {
_i_("269:3d2b9573"), this.addActiveClass(), _r_();
},
onClick:function(e) {
_i_("269:8d320b32"), this.preventDefault && e.preventDefault(), this.model.show(), this.addActiveClass(), this.target = $(e.target).is("a") ? $(e.target) :$(e.target).closest("a"), this.ajaxURL && this.model.ajaxLoad(this.ajaxOptions), _r_();
},
onClickToggle:function(e) {
_i_("269:110fc8c6"), this.preventDefault && e.preventDefault(), this.target = $(e.target).is("a") ? $(e.target) :$(e.target).closest("a"), this.model.isPanelShown() ? (this.model.hide(), this.removeActiveClass()) :(this.model.show(), this.addActiveClass(), this.ajaxURL && this.model.ajaxLoad(this.ajaxOptions)), _r_();
},
removeActiveClass:function() {
_i_("269:245b5fdf"), this.$el.removeClass(this.activeClass);
var e = this;
setTimeout(function() {
_i_("269:e2dafa4f"), e.target && e.target.focus && e.target.focus(), _r_();
}, 500), _r_();
},
addActiveClass:function() {
_i_("269:28970c2f"), this.$el.addClass(this.activeClass), _r_();
},
_initAjaxOptions:function() {
_i_("269:1f88b505"), this.$el.data("ajaxUrl") && (this.ajaxURL = this.$el.data("ajaxUrl"), this.ajaxOptions = {
url:this.$el.data("ajaxUrl") + "?" + this.$el.data("ajaxParams"),
ajaxTmpl:this.$el.data("ajaxTmpl")
}, this.model.toggleAjaxEnabled("on")), _r_();
}
}), _r_();
}), B.define("hotel/events", function(e, t, i) {
_i_("269:ce10a5bd");
var n = e("event-emitter"), o = new n();
return o.UI_SCROLL_STARTED = "ui_scroll_started", o.UI_SCROLL_COMPLETED = "ui_scroll_completed", _r_(o);
});

var fmTimer = null, fmbg = !1, num = 3, cnt = 0, currentAnimaingElements = [];

window.fminit = function(e, t, i, n, o, r) {
if (_i_("269:795b1a0e"), $("#maxotel_rooms").removeClass("error"), $("#errorNoRoomSelected").hide(), "object" == typeof e) oElem = e; else {
if (!e || !document.getElementById(e)) return _r_(!1);
oElem = document.getElementById(e);
}
if (-1 !== currentAnimaingElements.indexOf(oElem) && "undefined" == typeof r && (window.clearTimeout(fmTimer), cnt = 0), -1 === currentAnimaingElements.indexOf(oElem) && currentAnimaingElements.push(oElem), i) var _ = i; else _ = "#ffffff";
if (cnt++ > num) {
cnt = 0;
var a = currentAnimaingElements.indexOf(oElem);
return -1 !== a && currentAnimaingElements.splice(a, 1), t && $(oElem).css("background-color", _), _r_();
}
o && o.length > 1 ? (fmb1 = o[0], fmb2 = o[1], fmb3 = o[2]) :(fmb1 = 230, fmb2 = 237, fmb3 = 246), n && n.length > 1 ? (fmb4 = n[0], fmb5 = n[1], fmb6 = n[2]) :(fmb4 = 197, fmb5 = 212, fmb6 = 233);
var s = fmb1 > fmb4 ? fmb1 - fmb4 :fmb4 - fmb1, l = fmb2 > fmb5 ? fmb2 - fmb5 :fmb5 - fmb2, c = fmb3 > fmb6 ? fmb3 - fmb6 :fmb6 - fmb3, d = 330 / Math.max(s, l, c);
fmbg || (fmtemp = fmb1, fmb1 = fmb4, fmb4 = fmtemp, fmtemp = fmb2, fmb2 = fmb5, fmb5 = fmtemp, fmtemp = fmb3, fmb3 = fmb6, fmb6 = fmtemp), fmbg = !fmbg, fmFade(oElem, t, i, n, o, d), _r_();
};

function fmToHex(e) {
_i_("269:f2f28b57");
var t = "0123456789ABCDEF";
if (0 === e) return _r_("00");
for (var i, n = ""; 0 !== e; ) i = e % 16, e = (e - i) / 16, n = t.charAt(i) + n;
return n.length < 2 && (n = "0" + n), _r_(n);
}

function fmFade(e, t, i, n, o, r) {
_i_("269:02bcb38b");
var _ = "#" + fmToHex(fmb1) + fmToHex(fmb2) + fmToHex(fmb3), a = $(e).length;
if (a > 0) {
if (a > 1) $(e).each(function() {
_i_("269:da431b48"), this.style.backgroundColor = _, _r_();
}); else if (e.style) e.style.backgroundColor = _; else try {
oUseElem = $(e).get(0), oUseElem.style.backgroundColor = _;
} catch (s) {}
if (1 == a && e.id && "bookNow1" == e.id && document.getElementById("bookNow2") && (document.getElementById("bookNow2").style.backgroundColor = _), fmb1 != fmb4 && (fmb4 > fmb1 ? fmb1++ :fmb1--), fmb2 != fmb5 && (fmb5 > fmb2 ? fmb2++ :fmb2--), fmb3 != fmb6 && (fmb6 > fmb3 ? fmb3++ :fmb3--), fmb1 == fmb4 && fmb2 == fmb5 && fmb3 == fmb6) window.clearTimeout(fmTimer), fminit(e, t, i, n, o, !0); else {
var l = e, c = t, d = i, h = n, u = o, f = r;
fmTimer = window.setTimeout(function() {
_i_("269:b72a6375"), fmFade(l, c, d, h, u, f), _r_();
}, f);
}
}
_r_();
}

B.ensureNamespaceExists("hotel"), B.hotel.hashedTabs = function(e, t) {
_i_("269:95ce5462");
var i = e.require("jquery"), n = i("body"), o = e.events, r = t.location, _ = n.find("[data-tab]"), a = "[data-tab-link]", s = n.find(a), l = [], c = {}, d = function() {
_i_("269:00e4a9ef");
var e = k();
m(), M(), s.each(function() {
_i_("269:7f903c8a"), i(this).data("default-html", i(this).html()).data("default-tab", i(this).attr("rel")), _r_();
}), _.not(":first").not("[data-keep-tab-block-visible]").hide(), e ? (h(e), "" !== r.hash.slice(1) && i(t).hashchange()) :i(t).hashchange(), _r_();
}, h = function(e) {
_i_("269:98c4acd3");
var n, r;
if (B(e) ? (r = parseInt(e, 10), e = l[r]) :r = i.inArray(e, l), n = _.filter("[data-tab='" + e + "']"), n.length) return n.show(), v(e), C(e, r), o.trigger("tab-opened", {
tab:e
}), o.trigger(e + "-tab-opened", {
tab:e
}), i(t).resize(), r > -1 && o.trigger("BLOCKDISPLAY" + r + ".OPEN"), _r_(!0);
_r_();
}, u = function() {
return _i_("269:82e18a72"), _r_(_.filter(":visible"));
}, f = function(e) {
_i_("269:b34f15a9");
var t, n = i(e.currentTarget), o = n.attr("rel"), r = n.attr("href") ? n.attr("href").slice(1) :"", _ = n.attr("data-scroll"), a = n.attr("data-scroll-offset");
if (e.preventDefault(), "" !== r && E(r)) return h(o), x(r, {
offset:a
}), _r_();
g(o), _ && (t = i(_), t.length && i("html, body").animate({
scrollTop:t.offset().top
}, 500, "easeOutCubic")), _r_();
}, p = function() {
_i_("269:99f08c47");
var e, t, i = w(), n = r.hash.slice(1);
if (i) return h(i), _r_();
if (e = E(n), "" !== n && e) {
if (t = e.closest("[data-tab]"), t.length) {
if (!h(t.data("tab"))) return _r_(!0);
return T(n), _r_();
}
} else "" === n && h("main");
_r_();
}, b = function(e, t) {
_i_("269:8804c672"), t = t || e.tab, g(t), _r_();
}, m = function() {
_i_("269:6e1cad45"), n.on("click", a, f), i(t).hashchange(p), o.on("open-tab", b), _r_();
}, g = function(e) {
_i_("269:7bb46a0b"), r.hash = B(e) ? "hash-blockdisplay" + e :"tab-" + e, _r_();
}, v = function(e) {
_i_("269:b64717ce"), s.each(function() {
_i_("269:b2fd9ebc"), y(i(this), e), _r_();
}), _r_();
}, y = function(e, t) {
if (_i_("269:01bad871"), e.data("default-tab") === t) return e.data("return-tab") && e.attr("rel", e.data("return-tab")), e.data("return-html") && e.html(e.data("return-html")), _r_(e.addClass("selected"));
e.attr("rel", e.data("default-tab")).removeClass("selected"), e.data("return-html") && e.html(e.data("default-html")), _r_();
}, w = function() {
_i_("269:054ba012");
var e = r.hash.match(/tab-(.+)/), t = r.hash.match(/hash-blockdisplay(\d)/);
if (e) return _r_(e[e.length - 1]);
if (t) return _r_(t[t.length - 1]);
return _r_(!1);
}, M = function() {
_i_("269:dcd6bd91");
for (var e, t = 0; t < _.length; t++) e = parseInt(_[t].id.match(/\d/)[0], 10), l[e] = i(_[t]).data("tab");
return _r_(l);
}, k = function() {
_i_("269:5d66f850");
var e = /[^_]tab=([^&;]*)/g, t = r.search, i = t.match(e);
if (i) return _r_(i[i.length - 1].split("=")[1]);
return _r_(!1);
}, B = function(e) {
return _i_("269:0505e5a1"), _r_(/^\d+$/.test(e + ""));
}, C = function(e, t) {
_i_("269:33e3fc06"), n.removeClass((n[0].className.match(/blockdisplay\d-opened/) || [ "" ])[0]).removeClass((n[0].className.match(/tab-.+-opened/) || [ "" ])[0]).addClass("tab-" + e + "-opened"), t && t > -1 && n.addClass("blockdisplay" + t + "-opened"), _r_();
}, T = function(e, t, n) {
_i_("269:773af5b7");
var o = E(e), r = t || function() {}, a = 0;
if (!o) return _r_(!1);
if (_.filter(o).length) return _r_(!1);
n = n || {}, i("html, body").animate({
scrollTop:o.offset().top - a - (n.offset || 0)
}, 500, "easeOutCubic", r), _r_();
}, x = function(e, t) {
_i_("269:19f7ff55"), T(e, function() {
_i_("269:f5706066"), r.hash = e, _r_();
}, t), _r_();
}, E = function(e) {
_i_("269:66208adf"), e = encodeURI(e);
var t = c[e];
if ("" === e) return _r_(!1);
if (t && t.length) return _r_(t);
try {
t = i("#" + e), t = t.length ? t :i("a[name='" + e + "']");
} catch (n) {
return _r_(!1);
}
if (t.not("[data-tab]").length) return c[e] = t, _r_(t);
return _r_(!1);
};
return _r_({
init:d,
getVisibleTab:u,
showTab:h
});
}(B, window), B.hotel.hashedTabs.init(), B.define("utils/debounce", function(e, t, i) {
_i_("269:d27ec383");
function n(e, t, i) {
_i_("269:987315f9");
var n;
return _r_(function() {
_i_("269:d421fd91");
var o = this, r = arguments;
i === !0 && void 0 === n && e.apply(o, r), clearTimeout(n), n = setTimeout(function() {
_i_("269:d43ea598"), e.apply(o, r), _r_();
}, t), _r_();
});
}
i.exports = n, _r_();
}), B.define("hotel/track/goals_sort_hotel_history", function(e) {
_i_("269:8b40422a");
var t = e("utils/debounce"), i = e("jquery"), n = 1e3, o = !1, r = {}, _ = {
hp_featured_review_arrows_clicked:"g0",
hp_gallery_arrows_clicked:"g1",
hp_my_viewed_hotel_click:"g2",
hp_room_select:"g3",
hp_room_select_error:"g4",
hp_rt_conditions_tooltip_viewed:"g5",
hp_searched_in_browser:"g6",
hp_sold_out_rooms_viewed:"g7",
rt_onview:"g8",
hp_facilities_block_seen:"g9",
hp_surroundings_block_seen:"g10",
hp_policies_block_seen:"g11",
room_facilities:"g12",
hp_rt_hovering_price:"g13",
hp_rt_hovering_occupancy:"g14",
hp_rt_hovering_mealplan:"g15",
hp_rt_room_deselect:"g16",
hp_lb_gallery_clicks_arrows:"g17",
hp_lb_gallery_clicks_photo:"g18",
hp_lb_gallery_used_thumbs:"g19",
hp_gallery_thumbs_used:"g20",
hp_gallery_photos_all_viewed:"g21",
hp_rt_roomtype_lightbox_opened:"g22"
}, a = function() {
if (_i_("269:daf9921f"), !o && B.env) {
var e = i.extend({}, r);
r = {}, o = !0, e.hotelId = B.env.b_hotel_id, i.ajax({
url:"/goals_sort_hotel_history",
data:e,
success:function() {
_i_("269:ab4a29bd"), o = !1, _r_();
},
error:function() {
_i_("269:347757b7"), s(e), o = !1, _r_();
}
});
}
_r_();
};
a = t(a, n);
function s(e) {
_i_("269:e4d1e546");
for (var t in e) "hotelId" !== t && (r[t] = r[t] || 0, r[t] += e[t]);
_r_();
}
function l(e) {
_i_("269:517127b6");
var t = _[e];
t && (r[t] = r[t] || 0, r[t]++, a()), _r_();
}
return i(document).on("ready", function() {
if (_i_("269:d4d46247"), B.env.b_save_user_hotel_interactions) {
var t = e("events");
t.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function() {
_i_("269:2dad39b1"), l(B.hotel.Events.RT.LIGHTBOX_OPEN), _r_();
});
var n = e("utils/debounce"), o = [ {
goal:"rt_onview",
position:i(".roomstable").position()
}, {
goal:"hp_facilities_block_seen",
position:i(".t-hp-section--facilities").position()
}, {
goal:"hp_surroundings_block_seen",
position:i(".t-hp-section--nearby,.t-hp-section--area_info").position()
}, {
goal:"hp_policies_block_seen",
position:i(".t-hp-section--policies").position()
} ], r = i(window), _ = r.height(), a = o.length;
r.on("scroll", n(function() {
_i_("269:6ffd4cd3");
for (var e = r.scrollTop() + _, t = 0; a > t; t++) {
var i = o[t];
i.goal && i.position && i.position.top && e > i.position.top && l(i.goal);
}
_r_();
}, 1e3));
}
_r_();
}), _r_({
track:l
});
}), B.define("hotel/core/back_is_back", function(e) {
_i_("269:e2aeb2b3");
var t = e("jquery");
if (!B.env.b_run_hp_back_is_back) return _r_();
var i = t(window), n = window.history && window.history.pushState, o = B.env.b_back_is_back_for_landers, r = t(".js-back_to_searchresults_for_browser").attr("href") || B.env.b_back_is_back_url;
if (!r) return _r_();
function _() {
_i_("269:73a9364d"), n ? (o || window.history.back(), window.location.reload()) :window.location.replace(r), _r_();
}
function a() {
_i_("269:872926a3"), setTimeout(_, 300), _r_();
}
if (n) {
if (null === window.history.state && ("searchresults" === B.env.b_from_action || o)) {
var s;
window.location.hash && (s = window.location.hash);
var l = r;
l.indexOf("#") > -1 && (l += "-back"), window.history.replaceState({
action:"hotel-origin",
fakeBack:!0
}, "Search Results", l), window.history.pushState({
action:"hotel",
fakeBack:!0
}, "Hotel Page", booking.env.b_this_url), s && (window.location.hash = s);
}
i.bind("popstate", function(e) {
_i_("269:c90cd770"), e.originalEvent.state && "hotel-origin" === e.originalEvent.state.action && a(), _r_();
});
} else "" !== window.location.hash || "searchresults" !== B.env.b_from_action && !o || (window.location.hash = "hotel-origin", setTimeout(function() {
_i_("269:987120ba"), window.location.hash = "hotel", _r_();
}, 1e3)), i.bind("hashchange", function(e) {
_i_("269:a1d8c58a"), window.location.hash && window.location.hash.match("hotel-origin") && e.originalEvent && e.originalEvent.oldURL && e.originalEvent.oldURL.match(/#hotel$/) && a(), _r_();
});
_r_();
}), B.define("hotel/core/fix_for_facilities_ie789", function(e) {
_i_("269:5f48be9f");
for (var t = e("jquery"), i = t("#hp_facilities_box"), n = i.children(":last-child"), o = i.find(".facilitiesChecklistSection"), r = 3, _ = o.length / r, a = null, s = 0; r > s; s++) a = t("<div>", {
style:"width: 30%; float: left; padding: 0 1.5%; clear: none;"
}).addClass("facilitiesChecklist").addClass("facilities-ie-column").appendTo(i), o.slice(s * _, (s + 1) * _).appendTo(a);
n.appendTo(i), _r_();
}), B.define("hotel/track/ga/ctrlf", function(e) {
_i_("269:891e703c");
var t = e("ga-tracker");
window.onkeydown = function(e) {
_i_("269:9f804441");
var i = e.keyCode ? e.keyCode :e.which;
(e.ctrlKey || e.metaKey) && 70 === i && t.trackEvent("Hotel Page", "Key presses", "CTRL + F"), _r_();
}, _r_();
}), B.define("hotel/track/ga/deals_label_content_icon", function(e) {
_i_("269:f6dd7695");
var t, i = e("jquery"), n = e("ga-tracker"), o = i(".deals_label_content_icon");
o.length && (t = i.trim(o.get(0).className.replace("deals_label_content_icon", "")), n.trackEvent(n.viewTracker, "Deals", t + " " + B.env.b_hotel_id)), _r_();
}), B.define("hotel/track/ga/hp_changedates_aborted_completed", function(e) {
_i_("269:03ed0f21");
var t = e("jquery"), i = e("ga-tracker"), n = t(window), o = !1, r = !1, _ = !1, a = !1, s = t("#hotelpage_availform"), l = t("#hp_availability_style_changes").find("a.b_change_dates");
n.bind("beforeunload", function() {
_i_("269:e79713a8"), !o && r && _ && !a && (i.trackEvent("Submit", "Hotel: Aborted change dates form", "hp_changedates_aborted"), o = !0), !o && r && _ && a && (i.trackEvent("Submit", "Hotel: Aborted change dates form - completed", "hp_changedates_compeleted"), o = !0), _r_();
}), s.delegate("select", "change", function() {
_i_("269:71d89d8e"), _ = !0, _r_();
}).delegate("input.avail-date-submit", "click", function() {
_i_("269:9dbb1170"), a = !0, _r_();
}), l.bind("click", function() {
_i_("269:02beee58"), r = !0, _r_();
}), _r_();
}), B.define("hotel/track/ga/hp_hotel_not_bookable", function(e) {
_i_("269:1695ad59");
var t = e("ga-tracker");
B.env.b_hp_hotel_not_bookable && t.trackEvent("View", "Hotel: Non-bookable | " + B.env.b_hotel_id + " | " + B.env.b_hotel_name, "b_hp_hotel_not_bookable"), _r_();
}), B.define("hotel/track/ga/hp_max_number_room_booked_error", function(e) {
_i_("269:562c3735");
var t = e("ga-tracker");
B.env.b_hp_max_number_room_booked_error && t.trackEvent("View", "Hotel: Max number of rooms booked error", "b_hp_max_number_room_booked_error"), _r_();
}), B.define("hotel/track/ga/review_info_tag", function(e) {
_i_("269:af725086");
var t = e("jquery"), i = e("ga-tracker"), n = function() {
_i_("269:a5f35ac9"), i.trackEvent(i.clickTracker, "Action: reviewlist", "Review info tag"), _r_();
};
t(".review_list_wrapper").delegate(".review_info_tag", "click", n), _r_();
}), B.define("hotel/track/ga/reviewer_type_filter", function(e) {
_i_("269:25a1212c");
var t = e("jquery"), i = e("ga-tracker"), n = t("#reviewer_type_filter"), o = function() {
_i_("269:ca919f48");
var e = n.find(":selected").data("customer-type");
i.trackEvent(i.clickTracker, "Action: reviewlist", "Review list filter: " + e), _r_();
}, r = function() {
_i_("269:9d19b60b"), n.bind("change", o), _r_();
};
r(), _r_();
}), B.define("hotel/track/ga/rt", function(e) {
_i_("269:078b3808");
var t = e("jquery"), i = e("ga-tracker"), n = t("#rooms_table"), o = null, r = 500;
n.on("change", ".bed_preference_select", function() {
_i_("269:228725ba");
var e = t(this), n = e.find("option:selected").attr("data-name-en");
i.trackEvent(i.hotelPageTracker, "RT: Bed Preference", "Changed: " + n), _r_();
}), n.on("click", ".bed_preference_select", function() {
_i_("269:85cd6c65"), i.trackEvent(i.hotelPageTracker, "RT: Bed Preference", "Toggled"), _r_();
}), n.on("change", ".b_room_selectbox", function() {
_i_("269:a2dcb53b"), i.trackEvent(i.hotelPageTracker, "RT: Room Select", "Changed: " + t(this).val()), _r_();
}), n.on("click", ".b_room_selectbox", function() {
_i_("269:509e51db"), i.trackEvent(i.hotelPageTracker, "RT: Room Select", "Toggled"), _r_();
});
function _() {
_i_("269:a94157c2");
var e = t("#room_availability_container").data("ratr");
if (!e) return _r_();
i.trackEvent(i.viewTracker || "View", "Rooms Table", "[" + e.nr + "]-" + e.nc), _r_();
}
_(), n.on("mouseenter", ".js-occupancy-tracker", function(e) {
_i_("269:4e78a838"), clearTimeout(o), o = setTimeout(function() {
_i_("269:22efcd0d"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "RT: Occupancy", "Hover: Occupancy"), _r_();
}, r), _r_();
}).on("mouseleave", ".js-occupancy-tracker", function() {
_i_("269:dd0d6cd4"), clearTimeout(o), _r_();
}), n.on("mouseenter", "ul.hp-rt__policy-list li.hp-rt__policy__item", function(e) {
_i_("269:299c80a3"), clearTimeout(o), o = setTimeout(function() {
_i_("269:af659ec3"), void 0 !== e.originalEvent && t(e.currentTarget).data("policy-type") && i.trackEvent(i.hotelPageTracker, "RT: Hover Tooltips", t(e.currentTarget).data("policy-type")), _r_();
}, r), _r_();
}).on("mouseleave", "ul.hp-rt__policy-list li.hp-rt__policy__item", function() {
_i_("269:dd0d6cd41"), clearTimeout(o), _r_();
}), n.on("mouseenter", ".room_table_conditions_tooltip", function(e) {
_i_("269:5113e13f"), clearTimeout(o), o = setTimeout(function() {
_i_("269:1dc19632"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "RT: Hover Tooltips", "conditions_tooltip"), _r_();
}, r), _r_();
}).on("mouseleave", ".room_table_conditions_tooltip", function() {
_i_("269:dd0d6cd42"), clearTimeout(o), _r_();
}), n.on("mouseenter", ".hp-rt-room-deal-icons .d-deal--smart", function(e) {
_i_("269:459ff756"), clearTimeout(o), o = setTimeout(function() {
_i_("269:14dfb893"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "RT: Hover Tooltips", "Value Deal"), _r_();
}, r), _r_();
}).on("mouseleave", ".hp-rt-room-deal-icons .d-deal--smart", function() {
_i_("269:8347ca38"), clearTimeout(o), _r_();
}), n.on("change", ".bed-types-wrapper input", function(e) {
_i_("269:2f1d3d2d"), void 0 !== e.originalEvent && t(e.currentTarget).data("bed-type") && i.trackEvent(i.hotelPageTracker, "RT: Bed Type", t(e.currentTarget).data("bed-type")), _r_();
}), t(".property_hightlights_wrapper .js-ph__cta").on("click", function(e) {
_i_("269:4c147c00"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "Reserve", "Click: highligthed facilities"), _r_();
}), n.on("click", ".js-express-booking-button", function(e) {
_i_("269:34f4dda8"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "Express booking", "Click: Room table"), _r_();
}), t("#hotel_main_content").on("click", ".js-group-recommendation-reserve-btn", function(e) {
_i_("269:c5b64344"), void 0 !== e.originalEvent && i.trackEvent(i.hotelPageTracker, "Reserve", "Click: Group Recommendation"), _r_();
}), _r_();
}), B.define("hotel/track/ga/lightbox", function(e) {
_i_("269:5a85ac81");
var t = e("jquery"), i = e("events"), n = e("ga-tracker");
i.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(e, t) {
_i_("269:7a5cc519");
var i = o(e), r = i.data("room-name-en");
r && n.trackEvent(n.hotelPageTracker, "Lightbox Opened by Room Name", r), _r_();
}), i.on(B.hotel.Events.RT.LIGHTBOX_CLOSE, function(e, t, i) {
_i_("269:4f97d04f");
var r, _;
i && (r = o(e), _ = r.data("room-name-en"), _ && n.trackEvent(n.hotelPageTracker, "Lightbox Closed - " + i, _)), _r_();
});
function o(e) {
return _i_("269:e1468e5b"), _r_(t('a.togglelink.jqrt[href="#' + e + '"]'));
}
_r_();
}), B.define("hotel/track/ga/touch_device", function(e) {
_i_("269:038953f7");
var t = e("ga-tracker");
if ("ontouchstart" in window) try {
window.addEventListener("touchstart", function n() {
_i_("269:71a59a21"), t.trackEvent(t.hotelPageTracker, "Touch Device User", "touch_device_user"), window.removeEventListener("touchstart", n), _r_();
}, !1);
} catch (i) {}
_r_();
}), B.define("hotel/track/ga/room_facilities", function(e) {
_i_("269:cda7cae7");
var t = e("jquery"), i = e("ga-tracker"), n = /bicon-(.*?)(\s|$)/, o = /highlighted_facilities_(.*?)(\s|$)/, r = {}, _ = null, a = 600;
t("#rooms_table").on("mouseenter", ".highlighted_facilities_reinforcement span", function() {
_i_("269:b8826757"), clearTimeout(_), _ = setTimeout(function() {
_i_("269:7925b6a9");
var e = t(this), _ = e.find("i");
if (_.length > 0) {
var a = _.get(0).className.match(n);
if (a) {
var s = a[1];
r.hasOwnProperty(s) || (r[s] = !0, i.trackEvent(i.hotelPageTracker, "Highlighted Facility", s));
} else {
var l = _.get(0).className.match(o);
if (l) {
var c = l[1];
r.hasOwnProperty(c) || (r[c] = !0, i.trackEvent(i.hotelPageTracker, "Legacy Facility", c));
}
}
} else {
var d = e.data("name-en");
d && (r.hasOwnProperty(d) || (r[d] = !0, i.trackEvent(i.hotelPageTracker, "Regular Facility", d)));
}
_r_();
}.bind(this), a), _r_();
}).on("mouseleave", ".highlighted_facilities_reinforcement span", function() {
_i_("269:bca983661"), clearTimeout(_), _r_();
}).on("click", ".rt-show-more-facilities", function() {
_i_("269:84b865ed"), i.trackEvent(i.hotelPageTracker, "Show More Facilities", t(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden") ? "Expand" :"Collapse"), _r_();
}), t("#rooms_table").on("mouseenter", ".hprt-facilities-facility", function() {
_i_("269:329d8996"), clearTimeout(_), _ = setTimeout(function() {
_i_("269:06cd4c10");
var e = t(this), _ = e.find("i"), a = e.data("name-en"), s = "";
if (_.length > 0) {
var l = _.get(0).className.match(n);
if (l) s = l[1]; else {
var c = _.get(0).className.match(o);
c && (s = c[1]);
}
}
if (s) {
var d = a || s;
r.hasOwnProperty(d) || (r[d] = !0, i.trackEvent(i.hotelPageTracker, "Highlighted Facility", d));
} else a && (r.hasOwnProperty(a) || (r[a] = !0, i.trackEvent(i.hotelPageTracker, "Regular Facility", a)));
_r_();
}.bind(this), a), _r_();
}).on("mouseleave", ".hprt-facilities-facility", function() {
_i_("269:bca98366"), clearTimeout(_), _r_();
}), function() {
_i_("269:11a7ee36");
var e;
t(".js_hp_rt_lightbox_facilities").on("mouseover", "[data-name-en]", function() {
_i_("269:8e0efcb7");
var n = t(this).data("name-en");
n && (e = setTimeout(function() {
_i_("269:423cbf57"), i.trackEvent(i.hotelPageTracker, "Lightbox Facility", n), _r_();
}, 300)), _r_();
}).on("mouseleave", "[data-name-en]", function() {
_i_("269:476b78b9"), clearTimeout(e), _r_();
}), _r_();
}(), function() {
_i_("269:67aabb98");
var e;
t(".js_hp_ph_common_rooms_facilities").on("mouseover", "[data-name-en]", function() {
_i_("269:306de687");
var n = t(this).data("name-en");
e = setTimeout(function() {
_i_("269:60c31890"), i.trackEvent(i.hotelPageTracker, "Common Facility", n), _r_();
}, 300), _r_();
}).on("mouseleave", "[data-name-en]", function() {
_i_("269:476b78b91"), clearTimeout(e), _r_();
}), _r_();
}(), _r_();
}), B.define("hotel/track/ga/room_name_copy", function(e) {
_i_("269:08f24085");
var t = e("jquery"), i = e("ga-tracker");
t("#hp_hotel_name").on("copy", function() {
_i_("269:27eaa314"), i.trackEvent(i.hotelPageTracker, "User copied the room name", "hp_room_name_oncopy"), _r_();
}), _r_();
}), B.define("hotel/track/ga/hotel_facilities", function(e) {
_i_("269:87ad71ba");
var t = e("jquery"), i = e("ga-tracker"), n = null, o = 600;
t("#hp_facilities_box").on("mouseenter", "[data-name-en]", function() {
_i_("269:16b07f75");
var e = t(this), r = e.data("name-en");
if (!r) return _r_();
n = setTimeout(function() {
_i_("269:41c06e12"), r && i.trackEvent(i.hotelPageTracker, "Hotel Regular Facility", r), _r_();
}, o), _r_();
}).on("mouseleave", "[data-name-en]", function() {
_i_("269:8347ca381"), clearTimeout(n), _r_();
}), t(".hp_desc_important_facilities").on("mouseenter", "[data-name-en]", function() {
_i_("269:8c073688");
var e = t(this), r = e.data("name-en");
if (!r) return _r_();
n = setTimeout(function() {
_i_("269:7128bd4e"), r && i.trackEvent(i.hotelPageTracker, "Hotel Important Facility", r), _r_();
}, o), _r_();
}).on("mouseleave", "[data-name-en]", function() {
_i_("269:8347ca382"), clearTimeout(n), _r_();
}), t(".hp-facilities-sliding-wrapper").on("mouseenter", ".hp_desc_important_facilities [data-name-en]", function() {
_i_("269:8c0736881");
var e = t(this), r = e.data("name-en");
if (!r) return _r_();
n = setTimeout(function() {
_i_("269:7128bd4e1"), r && i.trackEvent(i.hotelPageTracker, "Hotel Important Facility", r), _r_();
}, o), _r_();
}).on("mouseleave", "[data-name-en]", function() {
_i_("269:8347ca383"), clearTimeout(n), _r_();
}), _r_();
}), B.define("hotel/track/ga/bp_to_hp", function(e) {
_i_("269:d5ca2004");
var t = e("ga-tracker");
window.location.search && -1 !== window.location.search.indexOf(";from_bs2_modify=1") && t.trackEvent(t.hotelPageTracker, "User clicked Change Info in Book Process", "from_bs2_modify"), _r_();
}), B.define("hotel/track/ga/faq_link", function(e) {
_i_("269:33e7663f");
var t = e("jquery"), i = e("ga-tracker"), n = {};
t("#faq_area").on("click", "a", function(e) {
_i_("269:92810593");
var o = t(this), r = o.data("href");
r = r ? r :o.attr("href"), r && (r = r.substr(1), n[r] || (i.trackEvent(i.hotelPageTracker, "FAQ clicked", r), n[r] = !0)), _r_();
}), _r_();
}), B.define("hotel/track/ga/header", function(e) {
_i_("269:5029613b");
var t = e("jquery"), i = e("ga-tracker"), n = {}, o = "Hotel: Header Block";
t("#wrap-hotelpage-top").on("click mouseover", function(e) {
_i_("269:4be372c5");
var i, n = t(e.target), _ = "click" === e.type, a = _ ? "Click" :"Hover";
_ && n.is("#hp_hotel_name") ? i = "Hotel name" :n.is(".icon_deal_smart") ? i = "Thumb: " + a :_ && n.is(".share_center_url") ? i = "Share: Link" :_ && (n.find(".bicon-bookingdotgenius,.ge-discount-rate").length || n.is(".bicon-bookingdotgenius,.ge-discount-rate")) ? i = "Genius Block: " + a :n.is(".bicon-bookingdotgenius,.ge-discount-rate") || n.closest(".bicon-bookingdotgenius,.ge-discount-rate").legth ? i = "Genius Block: " + a :_ && n.closest(".d-deal").length && (i = "Value deal: Click"), r(o, i), _r_();
}), t("#hotel_share_center a").on("click", function(e) {
_i_("269:78fffdbb");
var i, n = t(this);
n.parent().is(".sc_facebook") ? i = "Share: FB" :n.parent().is(".sc_twitter") ? i = "Share: Twitter" :n.parent().is(".sc_google") ? i = "Share: G+" :n.is(".close") && (i = "Share: Close"), r(o, i), _r_();
}), t(".bicon-share").on("click", function() {
_i_("269:c9c8b1d2");
var e = "Share Button";
r(o, e), _r_();
});
function r(e, t) {
_i_("269:992f34bd"), t && !n[t] && (i.trackEvent(i.hotelPageTracker, e, t), n[t] = !0), _r_();
}
_r_();
}), B.define("hotel/track/ga/reserve", function(e) {
_i_("269:fe14e811");
var t = e("jquery"), i = e("ga-tracker"), n = {}, o = "Reserve";
t(".book_now_button_handler").on("click mouseover", function(e) {
_i_("269:6c58783d");
var i = t(e.target), n = "click" === e.type, _ = n ? "Click" :"Hover";
i.closest("#wrap-hotelpage-top").length ? n && r(o, _ + ": Top Right") :i.closest(".hp-lists-reserve").length ? n && r(o, _ + ": Top left") :i.closest(".property-highlights") && r(o, _ + ": Property Highlights"), _r_();
}), t(".js-rt__summary__reserve-button").on("click", function(e) {
_i_("269:4ad516d7");
var i = t(e.target);
i.closest(".lightbox-reserve-button").length && r(o, "Click: RT: Lightbox"), i.closest("#room_availability_container").length && r(o, "Click: Room table"), _r_();
}), t("[id=rate_guarantee]").on("click mouseover", function(e) {
_i_("269:16356218");
var i = t(e.target), n = "click" === e.type, o = n ? "Click" :"Hover", _ = "We Price Match";
i.closest(".hp-section-header").length && r(_, o + ": Availability Block"), i.closest(".rlt-left").length && r(_, o + ": Top Left"), _r_();
});
function r(e, t) {
_i_("269:7c4b0615"), t && !n[e + t] && (i.trackEvent(i.hotelPageTracker, e, t), n[e + t] = !0), _r_();
}
_r_();
}), B.define("hotel/track/ga/gallery", function(e) {
_i_("269:f5aa87d5");
var t = e("jquery"), i = e("ga-tracker"), n = {}, o = "Gallery";
t(".hp_review_score").on("click", function(e) {
_i_("269:2ce7d372"), r(o, "Click: Review: Score"), _r_();
});
function r(e, t) {
_i_("269:7c4b06151"), t && !n[e + t] && (i.trackEvent(i.hotelPageTracker, e, t), n[e + t] = !0), _r_();
}
_r_();
}), B.define("hotel/track/ga/description_block", function(e) {
_i_("269:8eeb48fa");
var t = e("jquery"), i = e("ga-tracker"), n = {}, o = "Description block";
t(".hp-description--property-name-top-ranked").on("mouseover", function() {
_i_("269:804d80ce"), r(o, "Hover: USP"), _r_();
}), t(".fe_banner").on("click", function() {
_i_("269:8f0c3156");
var e = t(this);
e.find(".bicon-openlock").length && r(o, "Click: Close Lock in a great place for your upcoming stay"), _r_();
});
function r(e, t) {
_i_("269:7c4b06152"), t && !n[e + t] && (i.trackEvent(i.hotelPageTracker, e, t), n[e + t] = !0), _r_();
}
_r_();
}), function(e) {
"use strict";
_i_("269:eb54a715"), e.define("hotel/track/ga/searchbox", [ "jquery", "ga-tracker" ], function(e, t) {
_i_("269:2a0fcaa8");
var i = e("#left #frm"), n = "Search box";
function o(e) {
_i_("269:834be7a6"), t.trackEvent(t.hotelPageTracker, n, e), _r_();
}
i.find(".sb-dates__col.--checkin-field .sb-searchbox__input").on("click", function() {
_i_("269:a1083583"), o("Click: Checkin"), _r_();
}), i.find(".sb-dates__col.--checkout-field .sb-searchbox__input").on("click", function() {
_i_("269:164d79de"), o("Click: Checkout"), _r_();
}), i.on("change", ".b-booker-type__input", function(t) {
_i_("269:10d8898e");
var i = e(t.target), n = i.val();
"business" === n ? o("Business: Yes") :"leisure" === n && o("Business: No"), _r_();
}), i.on("change", "#no_rooms, .no_rooms", function(t) {
_i_("269:54d7f23a");
var i = e(t.target);
o("Rooms: " + i.val()), _r_();
}), i.on("change", "#group_adults, .group_adults", function(t) {
_i_("269:665de28a");
var i = e(t.target);
o("Adults: " + i.val()), _r_();
}), i.on("change", "#group_children, .group_children", function(t) {
_i_("269:92d66485");
var i = e(t.target);
o("Children: " + i.val()), _r_();
}), i.on("click", ".sb-searchbox__button", function() {
_i_("269:7c2e3897"), o("Click: Change search"), _r_();
}), _r_();
}), _r_();
}(window.booking), function(e) {
"use strict";
_i_("269:835a4ca2"), e.define("hotel/track/ga/availability_block", [ "jquery", "ga-tracker" ], function(t, i) {
_i_("269:24704ef6");
var n = t(".av-summary"), o = t(".js-hp-availability-section"), r = "Availability Block";
function _(e) {
_i_("269:aba1b00e"), i.trackEvent(i.hotelPageTracker, r, e), _r_();
}
n.on("click", ".av-summary-checkin", function() {
_i_("269:a791e76c"), _("Click: Checkin"), _r_();
}).on("click", ".av-summary-checkout", function() {
_i_("269:cebf5e4e"), _("Click: Checkout"), _r_();
}).on("click", ".av-summary-guests", function() {
_i_("269:350c92c2"), _("Click: Guests"), _r_();
}).on("click", ".av-summary-button", function() {
_i_("269:d390e5f7"), _("Click: Change search"), _r_();
}), e.eventEmitter.bind("CALENDAR:opened", function(e, t) {
_i_("269:37096ea2");
var i = a(t);
"checkin" === i ? _("Lightbox: Checkin: Click") :"checkout" === i && _("Lightbox: Checkout: Click"), _r_();
}), e.eventEmitter.bind("CALENDAR:dayclick", function(e, t) {
_i_("269:92088aef");
var i = a(t);
"checkin" === i ? _("Lightbox: Checkin: Select") :"checkout" === i && _("Lightbox: Checkout: Select"), _r_();
}), o.on("click", '[name="no_rooms"]', function() {
_i_("269:3c9bc336"), _("Lightbox: Room: Click"), _r_();
}).on("change", '[name="no_rooms"]', function() {
_i_("269:d7f1fc3f");
var e = t(this).val();
e && _("Lightbox: Rooms:" + e), _r_();
}).on("click", '[name="group_adults"]', function() {
_i_("269:12fc3315"), _("Lightbox: Adults: Click"), _r_();
}).on("change", '[name="group_adults"]', function() {
_i_("269:c78121fc");
var e = t(this).val();
e && _("Lightbox: Adults:" + e), _r_();
}).on("click", '[name="group_children"]', function() {
_i_("269:1f16e823"), _("Lightbox: Children: Click"), _r_();
}).on("change", '[name="group_children"]', function() {
_i_("269:893df051");
var e = t(this).val();
e && _("Lightbox: Children:" + e), _r_();
}).on("click", 'button[type="submit"]', function() {
_i_("269:c8658ba3"), _("Lightbox: Check Avalilability"), _r_();
});
function a(e) {
_i_("269:b385f6ce");
var t, i = e && e.instance;
return i && i.$element && i.$element.closest(o).length && i.options && i.options.type && (t = i.options.type), _r_(t);
}
_r_();
}), _r_();
}(window.booking), function(e, t) {
"use strict";
_i_("269:dea36abd"), e.define("hotel/track/ga/host-info", [ "jquery", "ga-tracker" ], function(i, n) {
_i_("269:25f98749");
var o, r, _ = i("#host-info"), a = "Host profile box: ", s = 2e3;
if (!_.length) return _r_();
function l(e, t) {
_i_("269:32c63850"), n.trackEvent(n.hotelPageTracker, a + e, t), _r_();
}
function c(e) {
_i_("269:69d45ca3"), l("text copied", "User copied the host profile text: " + e), _r_();
}
_.on("click", function(e) {
_i_("269:801600e9");
var t = i(e.target), n = "click";
t.closest(".js-host-info__title").length && l(n, "Host profile title"), t.closest(".js-host-info__photo").length && l(n, "Host profile picture"), t.closest(".js-host-info__review-score").length && l(n, "Host review score"), t.closest(".js-host-info__languages").length && l(n, "Languages spoken"), _r_();
});
function d() {
_i_("269:3b05437b"), r = t.setTimeout(function() {
_i_("269:37a59377"), l("view", "Host profile language: " + e.env.b_host_info_lang + "|Website language: " + e.env.b_lang), o.off("mouseenter", d), o.off("mouseleave", h), _r_();
}, s), _r_();
}
function h() {
_i_("269:f0f4a59e"), t.clearTimeout(r), _r_();
}
o = _.find(".js-host-info__description"), o.on("mouseenter", d), o.on("mouseleave", h), _.find("[data-ga-id]").on("copy", function() {
if (_i_("269:e782ddcc"), "getSelection" in t && "function" == typeof t.getSelection) {
var e, n, o, r, _ = t.getSelection(), a = _.anchorNode, s = _.focusNode;
if (!a || !s) return _r_();
a = a.parentNode, s = s.parentNode, e = i(a), n = i(s), o = e.attr("data-ga-id"), r = n.attr("data-ga-id"), a === s ? c(o) :e.prev()[0] === s || e.next()[0] === s ? (c(o), c(r)) :(c("property"), c("host"), c("neighbourhood"));
}
_r_();
}), _r_();
}), _r_();
}(window.booking, window), B.define("hotel/track/ga", function(e) {
_i_("269:6680fb51"), e("hotel/track/ga/ctrlf"), e("hotel/track/ga/deals_label_content_icon"), e("hotel/track/ga/hp_changedates_aborted_completed"), e("hotel/track/ga/hp_hotel_not_bookable"), e("hotel/track/ga/hp_max_number_room_booked_error"), e("hotel/track/ga/review_info_tag"), e("hotel/track/ga/reviewer_type_filter"), e("hotel/track/ga/rt"), e("hotel/track/ga/searchbox"), e("hotel/track/ga/availability_block"), e("hotel/track/ga/room_name_copy"), e("hotel/track/ga/bp_to_hp"), e("hotel/track/ga/touch_device"), e("hotel/track/ga/room_facilities"), e("hotel/track/ga/hotel_facilities"), e("hotel/track/ga/faq_link"), e("hotel/track/ga/header"), e("hotel/track/ga/reserve"), e("hotel/track/ga/gallery"), e("hotel/track/ga/description_block"), e("server-data").b_host_info_can_be_shown && e("hotel/track/ga/host-info"), _r_();
}), B.define("hotel/track/navbar", function(e) {
_i_("269:877c0df4");
var t, i = e("jquery"), n = e("ga-tracker"), o = e("et"), r = i(".hp_nav_bar");
r.length && (t = [ {
cssClass:".hp_nav_availability_link",
title:"Availability",
gaEvent:"hp_nav_bar_availability"
}, {
cssClass:".hp_nav_facilities_link",
title:"Facilities",
gaEvent:"hp_nav_bar_facilities"
}, {
cssClass:".hp_nav_policies_link",
title:"Policies",
gaEvent:"hp_nav_bar_policies"
}, {
cssClass:".hp_nav_important_link",
title:"The Fine Print",
gaEvent:"hp_nav_bar_fine_print"
}, {
cssClass:'.hp_nav_reviews_link[rel="reviews"]',
title:"Reviews",
gaEvent:"hp_nav_bar_reviews",
excludeFromEt:!0
}, {
cssClass:'.hp_nav_reviews_link[rel="main"]',
title:"Reviews: Back To Description",
gaEvent:"hp_nav_bar_reviews"
} ], t.forEach(function(e) {
_i_("269:93d65999"), r.on("click", e.cssClass, function() {
_i_("269:b6825959"), n.trackEvent(n.hotelPageTracker, "Nav Bar", e.title + " Clicked"), e.excludeFromEt || e.tracked || (e.tracked = !0, o.goal(e.gaEvent)), _r_();
}), _r_();
})), _r_();
}), B.define("hotel/track/goals/hp_clicked_save_to_list_button", function(e) {
_i_("269:34f9c6e0");
var t = e("jquery"), i = e("events");
t(".whishlist_trigger_rounded_larger_button").bind("mousedown", function() {
_i_("269:dbc5b612"), i.trigger("hp:clicked_save_to_list_button"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_clicked_save_to_list_icon", function(e) {
_i_("269:508da2f1");
var t = e("jquery"), i = e("events");
t(".whishlist_trigger_rounded_smaller_button").bind("mousedown", function() {
_i_("269:52b23bd7"), i.trigger("hp:clicked_save_to_list_icon"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_featured_review_arrows_clicked", function(e) {
_i_("269:016297f5");
var t = e("jquery"), i = e("events"), n = !1;
t(document).ready(function() {
_i_("269:ca9d779b");
var o = t("._goalTracker_hp_featured_review_arrows_clicked");
function r() {
_i_("269:1c14c065"), n || (i.trigger("hp:featured_review_arrows_clicked"), n = !0), B.env.b_save_user_hotel_interactions ? e("hotel/track/goals_sort_hotel_history").track("hp_featured_review_arrows_clicked") :o.unbind("click", r), _r_();
}
o.bind("click", r), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_gallery_arrows_clicked", function(e) {
_i_("269:b4bd5de8");
var t = e("jquery"), i = e("events");
t(document).ready(function() {
_i_("269:82bb0c7e");
var e = t("a.large_image_slider");
function n() {
_i_("269:e5f6db20"), i.trigger("hp:gallery_arrows_clicked"), e.unbind("click", n), _r_();
}
e.bind("click", n), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_my_viewed_hotel_click", function(e) {
_i_("269:778ff2f7");
var t = e("jquery"), i = e("events");
t(".thumbLink, .hotel_history_lnk", "#LastViewedHotels").bind("mousedown", function() {
_i_("269:362425eb"), i.trigger("hp:my_viewed_hotel_click"), B.env.b_save_user_hotel_interactions && e("hotel/track/goals_sort_hotel_history").track("hp_my_viewed_hotel_click"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_room_select", function(e) {
_i_("269:160ef0bf");
var t = e("events");
t.on(B.hotel.Events.RT.ROOM_SELECTED, function() {
_i_("269:7d06bf4b"), t.trigger("hp:room_select"), B.env.b_save_user_hotel_interactions && e("hotel/track/goals_sort_hotel_history").track("hp_room_select"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_room_select_error", function(e) {
_i_("269:b0e11b97");
var t = e("events");
t.on(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT, function() {
_i_("269:b80b4f3e"), t.trigger("hp:room_select_error"), B.env && B.env.b_save_user_hotel_interactions && e("hotel/track/goals_sort_hotel_history").track("hp_room_select_error"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_conditions_tooltip_viewed", function(e) {
_i_("269:0bbbe1b7");
var t = e("jquery"), i = e("events"), n = !1, o = t("#rooms_table"), r = null, _ = 300, a = !1;
o.on("mouseenter.js-goal-tracking", "div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li", function() {
_i_("269:7efbe4aa"), n = !0, r = setTimeout(function() {
_i_("269:53a9cb0f"), n && (a || (i.trigger("hp:conditions_tooltip_viewed"), a = !0), B.env && B.env.b_save_user_hotel_interactions ? e("hotel/track/goals_sort_hotel_history").track("hp_rt_conditions_tooltip_viewed") :(o.off("mouseenter.js-goal-tracking"), o.off("mouseleave.js-goal-tracking"))), _r_();
}, _), _r_();
}), o.on("mouseleave.js-goal-tracking", "div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li", function() {
_i_("269:73ba361d"), n = !1, clearTimeout(r), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_searched_in_browser", function(e) {
_i_("269:d60ffafc");
var t = e("jquery"), i = e("events"), n = t(window), o = !1;
n.on("keydown", r);
function r(t) {
_i_("269:f9810900");
var _ = t.keyCode ? t.keyCode :t.which;
(t.ctrlKey || t.metaKey) && 70 === _ && (o || (i.trigger("hp:hp_searched_in_browser"), o = !0), B.env.b_save_user_hotel_interactions ? e("hotel/track/goals_sort_hotel_history").track("hp_searched_in_browser") :n.off("keydown", r)), _r_();
}
_r_();
}), B.define("hotel/track/goals/hp_sold_out_rooms_viewed", function(e) {
_i_("269:986b6962");
var t = e("jquery"), i = e("events"), n = "_goalTracker_hpSoldOutRoomsView", o = "hp:sold_out_rooms_viewed", r = !1, _ = !1, a = t("." + n), s = e("utils/debounce");
t(document).ready(function() {
_i_("269:03038f71");
var n = t(window);
function l() {
_i_("269:bc6bf0b8");
var s = n.scrollTop(), c = s + n.height(), d = !1;
a.each(function(e, i) {
_i_("269:4e029b8f");
var n, o;
if (i = t(i), n = i.offset().top, o = n + i.height(), c >= o && n >= s) return d = !0, _r_(!1);
_r_();
}), d ? (r || (i.trigger(o), r = !0), B.env.b_save_user_hotel_interactions ? _ || (e("hotel/track/goals_sort_hotel_history").track("hp_sold_out_rooms_viewed"), _ = !0) :n.unbind("scroll resize", l)) :_ = !1, _r_();
}
a.length && (n.bind("scroll resize", s(l, 1e3)), l()), _r_();
}), _r_();
}), B.define("hotel/track/goals/rt_onview", function(e) {
_i_("269:d94326b1");
var t = e("et");
t.on("view", ".roomstable").goal("rt_onview"), _r_();
}), B.define("hotel/track/goals/hp_facilities_block_seen", function(e) {
_i_("269:0d0e7797"), e("et").on("view", "#hp_facilities_box").goal("hp_facilities_block_seen"), _r_();
}), B.define("hotel/track/goals/hp_surroundings_block_seen", function(e) {
_i_("269:23d4f140"), e("et").on("view", ".property_page_surroundings_block").goal("hp_surroundings_block_seen"), _r_();
}), B.define("hotel/track/goals/hp_policies_block_seen", function(e) {
_i_("269:1c3d3a3e"), e("et").on("view", "#hp_policies_box").goal("hp_policies_block_seen"), _r_();
}), B.define("hotel/track/goals/room_facilities", function(e) {
_i_("269:eacabb12");
var t = e("jquery"), i = e("et");
t("#rooms_table").on("click", ".rt-show-more-facilities", function() {
_i_("269:739acc83");
var n = t(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden") ? "hp_room_facilities_more" :"hp_room_facilities_less";
i.goal(n), e("hotel/track/goals_sort_hotel_history").track(n), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_lightbox_opened_more_than_once", function(e) {
_i_("269:5c226017");
var t = e("et"), i = e("events"), n = {}, o = 0, r = !1, _ = !1, a = !1;
function s(e) {
_i_("269:8afde523"), r && _ && a || !e || (n[e] ? n[e] += 1 :(n[e] = 1, o += 1, r || (t.goal("hp_rt_roomtype_lightbox_opened"), r = !0)), !_ && n[e] > 1 && (t.goal("hp_lightbox_opened_more_than_once"), _ = !0), !a && o > 1 && (t.goal("hp_lightbox_opened_for_different_rooms"), a = !0)), _r_();
}
i.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(e, t) {
_i_("269:6ab54c9c"), s(e), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_hovering_price", function(e) {
_i_("269:4f5dafdb");
var t = B.require("jquery");
t("#rooms_table").one("mouseenter", ".js-track-hp-rt-room-price", function() {
_i_("269:cc841790"), B.et.goal("hp_rt_hovering_price"), e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_price"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_hovering_occupancy", function(e) {
_i_("269:079cc853");
var t = B.require("jquery");
t("#rooms_table").one("mouseenter", "._goalTracker_hpOccupancyHover, .js-track-hp-rt-unav-occupancy", function() {
_i_("269:3fe0f326"), B.et.goal("hp_rt_hovering_occupancy"), e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_occupancy"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_hovering_mealplan", function(e) {
_i_("269:0710939f");
var t = B.require("jquery");
t("#rooms_table").one("mouseenter", ".js-track-hp-rt-meal-plan", function() {
_i_("269:abaabfac"), B.et.goal("hp_rt_hovering_mealplan"), e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_mealplan"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_hovering_policies", function(e) {
_i_("269:ce14659f");
var t = B.require("jquery");
t("#rooms_table").one("mouseenter", ".js-track-hp-rt-nr", function() {
_i_("269:fef64fa5"), B.et.goal("hp_rt_hovering_non_refundable"), _r_();
}), t("#rooms_table").one("mouseenter", ".js-track-hp-rt-fc", function() {
_i_("269:2916d97c"), B.et.goal("hp_rt_hovering_free_cancellation"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_room_deselect", function(e) {
_i_("269:0a0f7fff");
var t = B.require("jquery");
t("#rooms_table").on("change.track_room_deselect", ".b_room_selectbox", function() {
_i_("269:0f302c30");
var i = t(this), n = i.find(":selected");
n.length && "0" === n[0].value && (B.et.goal("hp_rt_room_deselect"), e("hotel/track/goals_sort_hotel_history").track("hp_rt_room_deselect"), t("#rooms_table").off("change.track_room_deselect", ".b_room_selectbox")), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_lb_gallery_goals", function(e) {
_i_("269:f8753b92");
var t = "hp_lb_gallery_clicks_photo", i = "hp_lb_gallery_clicks_arrows", n = "hp_lb_gallery_used_thumbs", o = {};
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(r, _) {
_i_("269:cf18f21f");
var a = _.find(".hp-lightbox-gallery-container");
if (!o[t]) {
var s = a.find('[data-gallery=""]');
s.one("click.tracking", function() {
_i_("269:479d9712"), B.et.goal(t), e("hotel/track/goals_sort_hotel_history").track(t), o[t] = 1, _r_();
});
}
if (!o[i]) {
var l = a.find("a.hp-gallery-control");
l.on("click.tracking", function(t) {
_i_("269:e28923cd"), t.hasOwnProperty("originalEvent") && (B.et.goal(i), e("hotel/track/goals_sort_hotel_history").track(i), o[i] = 1, l.off("click.tracking")), _r_();
});
}
if (!o[n]) {
var c = a.find("a.hotel_thumbs_sprite");
c.on("mouseenter.tracking click.tracking", function() {
_i_("269:c6a38b96"), B.et.goal(n), e("hotel/track/goals_sort_hotel_history").track(n), o[n] = 1, c.off("mouseenter.tracking click.tracking"), _r_();
});
}
_r_();
}), B.events.on(B.hotel.Events.RT.LIGHTBOX_CLOSE, function(e, r) {
_i_("269:a59c1fa4");
var _ = r.find(".hp-lightbox-gallery-container");
if (!o[t]) {
var a = _.find('[data-gallery=""]');
a.off("click.tracking");
}
if (!o[i]) {
var s = _.find("a.hp-gallery-control");
s.off("click.tracking");
}
if (!o[n]) {
var l = _.find("a.hotel_thumbs_sprite");
l.off("mouseenter.tracking click.tracking");
}
_r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_hovering_room_name", function(e) {
_i_("269:71d53ddf");
var t = B.require("jquery");
t("#rooms_table").one("mouseenter", ".js-track-hp-rt-room-name", function() {
_i_("269:fa4d107e"), B.et.goal("hp_rt_hovering_room_name"), _r_();
}), _r_();
}), B.define("hotel/track/goals/hp_rt_books_x_room", function(e) {
_i_("269:b413e8b9");
var t = B.require("jquery"), i = t("#roomsForm").find("input[name=rt_pos_selected]"), n = function() {
_i_("269:b5bc7feb");
var e = [];
t(".b_room_selectbox").each(function() {
_i_("269:b893d9c8");
var i = t(this);
if ("0" !== i.val()) {
var n = i.parents("tr").attr("class").split(/\s+/);
t.each(n, function(i, n) {
_i_("269:e11e3d86");
var o = n.match(/room_loop_counter(\d+)/);
if (o) {
var r = o[1];
-1 === t.inArray(r, e) && e.push(r);
}
_r_();
});
}
_r_();
}), i.val(e.join("_")), _r_();
};
B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, n), B.events.on(B.hotel.Events.RT.SUMMARY_HIDE, n), _r_();
}), B.define("hotel/track/goals", function(e) {
_i_("269:6f5b6559");
var t, i = e("et"), n = e("events"), o = {
"BLOCKDISPLAY4.OPEN":"review_list",
"rt-lightbox-open":"hp_rt_roomtype_lightbox_opened",
"hp:my_viewed_hotel_click":"hp_my_viewed_hotel_click",
"hp:clicked_save_to_list_button":"hp_clicked_save_to_list_button",
"hp:clicked_save_to_list_icon":"hp_clicked_save_to_list_icon",
"hp:conditions_viewed":"hp_rt_conditions_viewed",
"hp:sold_out_rooms_viewed":"hp_sold_out_rooms_viewed",
"hp:featured_review_arrows_clicked":"hp_featured_review_arrows_clicked",
"hp:gallery_arrows_clicked":"hp_gallery_arrows_clicked",
"hp:gallery_thumbs_used":"hp_gallery_thumbs_used",
"hp:gallery_photos_all_viewed":"hp_gallery_photos_all_viewed",
"hp:room_select":"hp_room_select",
"hp:room_select_error":"hp_room_select_error",
"hp:conditions_tooltip_viewed":"hp_rt_conditions_tooltip_viewed",
"hp:hp_searched_in_browser":"hp_searched_in_browser"
};
for (t in o) o.hasOwnProperty(t) && n.one(t, function(e) {
return _i_("269:61e0b421"), _r_(function() {
_i_("269:16344356"), i.goal(e), _r_();
});
}(o[t]));
e("hotel/track/goals/hp_clicked_save_to_list_button"), e("hotel/track/goals/hp_clicked_save_to_list_icon"), e("hotel/track/goals/hp_featured_review_arrows_clicked"), e("hotel/track/goals/hp_gallery_arrows_clicked"), e("hotel/track/goals/hp_my_viewed_hotel_click"), e("hotel/track/goals/hp_room_select"), e("hotel/track/goals/hp_room_select_error"), e("hotel/track/goals/hp_rt_conditions_tooltip_viewed"), e("hotel/track/goals/hp_searched_in_browser"), e("hotel/track/goals/hp_sold_out_rooms_viewed"), e("hotel/track/goals/rt_onview"), e("hotel/track/goals/hp_facilities_block_seen"), e("hotel/track/goals/hp_surroundings_block_seen"), e("hotel/track/goals/hp_policies_block_seen"), e("hotel/track/goals/room_facilities"), e("hotel/track/goals/hp_lightbox_opened_more_than_once"), e("hotel/track/goals/hp_rt_hovering_price"), e("hotel/track/goals/hp_rt_hovering_occupancy"), e("hotel/track/goals/hp_rt_hovering_mealplan"), e("hotel/track/goals/hp_rt_hovering_policies"), e("hotel/track/goals/hp_rt_room_deselect"), e("hotel/track/goals/hp_lb_gallery_goals"), e("hotel/track/goals/hp_rt_hovering_room_name"), e("hotel/track/goals/hp_rt_books_x_room"), _r_();
}), B.define("hotel/track/print", function(e) {
_i_("269:36691e72");
var t = e("ga-tracker"), i = function() {
_i_("269:3beb06a2"), t.trackEvent(t.hotelPageTracker, "Print", "Printed the page"), _r_();
};
if (window.matchMedia) {
var n = window.matchMedia("print");
n.addListener(function(e) {
_i_("269:38f6371a"), e.matches && i(), _r_();
});
}
window.onbeforeprint = i, _r_();
}), B.define("hotel/track", function(e) {
_i_("269:eb7893c4"), e("hotel/track/ga"), e("hotel/track/navbar"), e("hotel/track/goals"), e("hotel/track/print"), e("hotel/track/goals_sort_hotel_history"), _r_();
}), B.define("hotel/core/no_dates_prefetch_sr_assets", function(e) {
_i_("269:9991f61e");
var t = e("jquery"), i = t("link[rel=_prefetch][data-hash=sr_assets]");
i.length > 0 && t(window).bind("load", function() {
_i_("269:d0260538"), setTimeout(function() {
_i_("269:06f4c76d"), i.each(function(e, i) {
_i_("269:767183b2"), t(i).attr("rel", "prefetch"), _r_();
}), _r_();
}, 3e4), _r_();
}), _r_();
}), B.define("hotel/av_calendar/get_dates_form", function(e) {
_i_("269:f7e74a56");
var t = e("jquery");
function i() {
_i_("269:2b75db56");
var e, i, n, o, r, _, a = t("#hotelpage_availform");
if (!a.find("select[name=checkin_year_month]").length) return _r_(!1);
return e = a.find("select[name=checkin_monthday]").val(), i = a.find("select[name=checkin_year_month]").val().split("-"), n = a.find("select[name=checkout_monthday]").val(), o = a.find("select[name=checkout_year_month]").val().split("-"), r = new Date(i[0], i[1] - 1, e), _ = new Date(o[0], o[1] - 1, n), _r_(_ > r);
}
t(document).ready(function() {
_i_("269:50b59fdf");
var n = 27;
t(window).scroll(function() {
_i_("269:f1e42ff2"), t("#form-wrapper").length && t("#form-wrapper").css("top", t(window).scrollTop() + 200 + "px"), _r_();
}), t("#maxotel_rooms span.js_price_button").click(function(e) {
_i_("269:1056e6c9");
var n = t("#availability_target"), o = t("#av-calendar-tracking-position");
e.preventDefault();
var r = n.length ? n.offset().top :o.offset().top;
return r -= B.env.b_hp_sticky_offset || 0, i() ? t("#hotelpage_availform").submit() :setTimeout(function() {
_i_("269:a03f246b"), alert(booking.env.valdateDates_msg), _r_();
}, 200), t("html, body").scrollTop(r), _r_(!1);
}), t("#hcta_simple, #hcta").click(function() {
_i_("269:4f7fc7eb");
var e = t(this), i = t("#availability_target"), n = i.length ? "#availability_target" :"#av-calendar-tracking-position", o = e.data("will-submit-form"), r = t(this).data("url");
return o || (r ? window.location = r :window.location = n), _r_(!1);
}), t("#roomsForm .bookNow1_top button, #bookNow1 input, #booknow_beneath input").click(function() {
if (_i_("269:cfb4dc07"), booking.env.no_rooms_selected = 0, t("#maxotel_rooms select").each(function() {
_i_("269:75478ca1"), t(this).hasClass("bed_preference_select") || (booking.env.no_rooms_selected += parseInt(this.value, 10)), _r_();
}), booking.env.no_rooms_selected < 1) {
var i = e("ga-tracker");
i.trackEvent(i.errorTracker, "JavaScript", "please_select_one_or_more_rooms_RT");
}
_r_();
}), t("#blockdisplay1 .top_link, #blockdisplay4 .top_link, #rm_cond_link_enter_dates").click(function() {
return _i_("269:54055b89"), window.location.href = "#availability_target", _r_(!1);
}), t(document).keyup(function(e) {
_i_("269:65e5b55e"), e.keyCode === n && t("#close").click(), _r_();
}), t(".b_change_dates").click(function() {
_i_("269:ce4d157c");
var e = {
customWrapperClassName:"modal-edit-dates"
};
e.bOverflowVisible = !0, booking.lightbox.show(t("#editDates"), e), _r_();
}), _r_();
}), _r_();
}), booking.jstmpl("select_availability_tooltip", function() {
_i_("269:aa1afa69");
var e = [ '\n    <div class="select_availability_tooltip_message">\n        <p>', '</p>\n        <span class="select_availability_tooltip__arrow"></span>\n    </div>\n' ], t = [ "fe_dates_message" ];
return _r_(function(i) {
_i_("269:2a96cd0a");
var n = "", o = this.fn;
return n += [ e[0], o.MC(t[0]), e[1] ].join(""), _r_(n);
});
}()), B.define("hotel/av_calendar/disable_availability_button", function(e) {
_i_("269:7ad27bbe"), B.when({
events:"ready"
}).run(function(e) {
_i_("269:2c580ebc");
var t = e("jquery");
B.eventEmitter.bind("SEARCH:date_changed", function() {
_i_("269:a43b9ed2"), t("input.js-avail-date-submit").removeAttr("disabled").removeClass("b-button_disabled"), _r_();
}), _r_();
}), _r_();
}), B.define("hotel/av_calendar/labels", function(e) {
_i_("269:b68b20bb");
var t = e("jquery"), i = t(".lp_bold_date_picker_wrapper"), n = i.find(".lp_bold_date_picker_checkin"), o = i.find(".lp_bold_date_picker_checkout");
i.find(".rt-av-input-label-checkin").on("click", function(e) {
_i_("269:fabeef5a"), e.stopPropagation(), n.trigger("click"), _r_();
}), i.find(".rt-av-input-label-checkout").on("click", function(e) {
_i_("269:1e6e0a4d"), e.stopPropagation(), o.trigger("click"), _r_();
}), _r_();
}), B.define("hotel/av_calendar/availability_block", function(e) {
_i_("269:a75f4c2f");
var t, i, n, o, r = e("jquery"), _ = B.env, a = "date_with_year";
function s() {
_i_("269:93f84c65");
var o = r("#searchboxInc");
n = r(".js-hp-availability-section"), i = n.find(".lp_bold_date_picker_checkin"), t = n.find(".lp_bold_date_picker_checkout"), n.find(".lp_bold_date_picker_group_container").length && y(), B.eventEmitter.bind(B.Search.Events.DATE_CHANGED, function() {
_i_("269:fc2cc16d"), r(".lp_bold_date_picker_btn").removeClass("b-button_disabled").removeAttr("disabled"), _r_();
}), r("#hotelpage_availform").submit(function() {
_i_("269:6e2b9d72");
var t, i = m(), o = !1;
return n.find(".js-lp_bold_date_picker_error").hide(), r(".lp_bold_date_picker_btn").hasClass("b-button_disabled") ? o = !0 :i.checkin && "valid" == i.checkin.type && i.checkout && "valid" == i.checkout.type ? (!i.checkout.dateObject_ || !i.checkin.dateObject_ || i.checkout.dateObject_.getTime() - i.checkin.dateObject_.getTime() > 2592e6) && (o = !0, r(".lp_bold_date_picker_error").fadeIn(300)) :i.checkin && "valid" == i.checkin.type ? i.checkout && "valid" == i.checkout.type || (o = !0, r(".lp_bold_date_picker_error--checkout").fadeIn(300)) :(o = !0, r(".lp_bold_date_picker_error--checkin").fadeIn(300)), o || (r(".lp_bold_date_picker_error").hide(), t = e("hotel/store"), t.getState().roomsTable.js_selection.blockIDs.length > 0 && r("#hotelpage_availform .hiddenInputSection").append(r('<input type="hidden" name="user_has_rooms_selected" value="1">'))), _r_(!o);
}), n.find(".b-booker-type").click(function() {
_i_("269:4c67517a");
var e = r(this).find("input")[0].className;
o.find("." + e).click(), _r_();
});
var _ = m();
_.checkin && v("checkin", _.checkin.date, _.checkin.month + 1, _.checkin.year), _.checkout && v("checkout", _.checkout.date, _.checkout.month + 1, _.checkout.year), _r_();
}
function l(e, t) {
if (_i_("269:76fc07e2"), B.env.b_year_months[e + "-" + (t + 1)]) return _r_(B.env.b_year_months[e + "-" + (t + 1)].name);
_r_();
}
function c() {
_i_("269:eb633e3f");
var e = _.sunday_first, n = _.b_simple_weekdays, a = _.b_short_months;
e && n.unshift(n.pop()), B.eventEmitter.bind("SEARCH:date_changed", d);
function s(e, t) {
if (_i_("269:6286bf2c"), !e) return _r_();
var i = new Date(e.year, e.month, e.date + t);
return _r_({
year:i.getFullYear(),
month:i.getMonth(),
date:i.getDate()
});
}
var c = {
type:"checkin",
category:"av_calendar",
defaultDate:B.search.dates("checkin"),
dayNames:n,
monthNames:a,
sundayFirst:e,
title:_.transl_checkin_title,
monthTitle:l,
direction:_.rtl ? "rtl" :"ltr",
arrow:!0,
onDateSelected:function(e, t) {
_i_("269:7f565a57");
var i = {
year:t.getYear(),
month:t.getMonth(),
date:t.getDate()
}, n = B.search.dates("checkin"), r = B.search.dates("checkout"), _ = r, a = b();
if ("checkin" === e.options.type) {
B.search.dates("checkin", i), n = B.search.dates("checkin"), (!r || "invalid" === r.type || n.toString() >= r.toString()) && (B.search.dates("checkout", s(n, 1)), r = B.search.dates("checkout"));
for (var l = 0; l < a.length; l++) "checkout" === a[l].type && (a[l].setOptions({
startDate:t
}), a[l].refreshDisabledDays());
o != n.toString() && B.et.track("NAFLWCAZUTPOQHRdPOOFBfJLBWHHT") && g(n, r);
} else B.search.dates("checkout", i), r = B.search.dates("checkout");
v(e.options.type, t.getDate(), t.getMonth() + 1, t.getYear()), n && "invalid" !== r.type || (i = new Date(t.getYear(), t.getMonth(), t.getDate() - 1), B.search.dates("checkin", i), n = B.search.dates("checkin")), (r && !n || "valid" === r.type && "invalid" === n.type || n.toString() >= r.toString()) && (B.search.dates("checkin", s(r, -1)), n = B.search.dates("checkin")), n && r && "valid" === n.type && "valid" === r.type && e.selectRange(B.calendar2.dayId(n.year, n.month, n.date), B.calendar2.dayId(r.year, r.month, r.date)), _ && "invalid" !== _.type || v("checkout", r.date, r.month + 1, r.year), _r_();
},
onHide:function() {
_i_("269:868b8c7a"), r(this.$element.context).removeClass("focus"), _r_();
},
onShow:function(e) {
if (_i_("269:303da874"), r(this.$element.context).addClass("focus"), "checkout" !== e.options.type) {
var t = B.search.dates("checkin");
t && "valid" === t.type && e.selectDay(B.calendar2.dayId());
} else o != B.search.dates("checkin").toString() && B.et.track("NAFLWCAZUTPOQHRdPOOFBfJLBWHHT") && (g(B.search.dates("checkin"), B.search.dates("checkout")), r(".hp-section .c2-wrapper-s-checkout .c2-calendar-footer-dynamic").hasClass("c2-calendar-footer-dynamic__has_los") && B.et.stage("NAFLWCAZUTPOQHRdPOOFBfJLBWHHT", 2));
_r_();
}
};
B.eventEmitter.bind("CALENDAR:opened", h);
var u = r.extend({}, c);
u.type = "checkout", u.title = _.transl_checkout_title, u.defaultDate = B.search.dates("checkout"), u.startDate = f(), u.endDate = p(), i.calendar2(c), t.calendar2(u), d(1, {
type:"checkin"
}), d(1, {
type:"checkout"
}), _r_();
}
function d(e, t) {
_i_("269:0721579e");
var i = B.search.dates("checkin"), n = B.search.dates("checkout"), o = B.search.dates(t.type), r = b();
i && v("checkin", i.date, i.month + 1, i.year), n && v("checkout", n.date, n.month + 1, n.year), "month" === o.type ? u("monthSelected", t.type, o) :"valid" === o.type && u("dateSelected", t.type, o);
for (var _ = 0; _ < r.length; _++) i && n && "valid" === i.type && "valid" === n.type && r[_].trigger("rangeSelected", {
type:t.type,
startValue:i,
endValue:n
});
_r_();
}
function h(e, t) {
_i_("269:5fffa8eb");
for (var i = b(), n = 0; n < i.length; n++) t.id !== i[n].id() && i[n].trigger("hide");
_r_();
}
function u(e, t, i) {
_i_("269:67830795");
for (var n = b(), o = 0; o < n.length; o++) n[o].type() === t && n[o].trigger(e, {
type:t,
value:i
});
_r_();
}
function f() {
_i_("269:c79d1979");
var e = B.calendar2.today();
return e.setDate(e.getDate() + 1), _r_(e);
}
function p() {
_i_("269:03ec9101");
var e = B.calendar2.today();
return B.env.b_search_max_months ? e.setMonth(e.getMonth() + B.env.b_search_max_months) :e.setFullYear(e.getFullYear() + 1), e.setDate(0), _r_(e);
}
function b() {
return _i_("269:022d9f4b"), _r_(B.calendar2.controller.getCalendars());
}
function m() {
return _i_("269:41e6ba3f"), _r_({
checkin:B.search.dates("checkin"),
checkout:B.search.dates("checkout")
});
}
function g(e, t) {
_i_("269:ebc8a077"), e && t && B.env.b_hotel_id && B.env.b_has_valid_dates && (o = e.toString(), B.require("fragment").call("booking_home.availability_constraints_info", {
hotel_ids:[ B.env.b_hotel_id ],
checkin:e.toString(),
checkout:t.toString()
}).then(function(e) {
_i_("269:e8cd22fe");
var t, i = r(".hp-section .c2-wrapper-s-checkout .c2-calendar-footer-dynamic");
e && e[B.env.b_hotel_id] ? (t = e[B.env.b_hotel_id].min_bookable_los, B.et.stage("NAFLWCAZUTPOQHRdPOOFBfJLBWHHT", 1), t > 1 ? (i.addClass("c2-calendar-footer-dynamic__has_los"), "2" == B.et.track("NAFLWCAZUTPOQHRdPOOFBfJLBWHHT") && i.html('<svg class="bk-icon -iconset-moon_stars" fill="#077812" height="14" width="14" viewBox="0 0 128 128"><path d="M120 88.2A59.4 59.4 0 1 1 39.8 8 59.4 59.4 0 0 0 120 88.2zM104 17l-4-9-4 9-8 3 8 3 4 9 4-9 8-3zM72 41l-4-9-4 9-8 3 8 3 4 9 4-9 8-3zm32 24l-4-9-4 9-8 3 8 3 4 9 4-9 8-3z"/></svg>' + B.jstmpl.translations("bh_pp_date_picker_minimum_night_stay", null, {
num_nights:t,
n:t
}))) :i.removeClass("c2-calendar-footer-dynamic__has_los").text("")) :i.removeClass("c2-calendar-footer-dynamic__has_los").text(""), _r_();
})), _r_();
}
function v(e, n, o, r) {
_i_("269:11fcd133");
var _, s;
return n && (s = r + "-" + o + "-" + n, s = booking.formatter.date(s, a)), _ = "checkin" === e ? i :t, n ? _.removeClass("placeholder").find("span").text(s) :_.addClass("placeholder").find("span").text(_.data("default")), _r_(!0);
}
function y() {
_i_("269:0e993816");
var e = n.find(".lp_bold_date_picker_lightbox"), t = e.parent();
n.find(".lp_bold_date_picker_group_container").click(function(e) {
_i_("269:f6f28604");
var t = r(this).find(".main_guests_selector"), i = r(this).find(".lp_bold_date_picker_select");
t.is(":visible") || (e.stopPropagation(), t.show(), i.addClass("focus"), r.each(b(), function() {
_i_("269:da1dda8c"), this.trigger("hide"), _r_();
}), r(document).one("click", function() {
_i_("269:ee7569fb"), t.hide(), i.removeClass("focus"), _r_();
})), _r_();
}).find(".lp_bold_date_picker_group_lists li").click(function() {
_i_("269:b99d48b1");
var i = r(this).data();
0 == i.b_number_rooms ? (M(e, B.search.group().value), t.show()) :(B.search.group({
adults:i.b_number_adults,
children:i.b_number_children,
childrenAges:[],
rooms:i.b_number_rooms
}), r(this).closest(".lp_bold_date_picker_group_container").find(".lp_bold_date_picker_select_text").html(r(this).text())), _r_();
}), t.click(function(e) {
_i_("269:cb090f07"), r(e.target).hasClass("lp_bold_date_picker_dimmer") && t.hide(), _r_();
}), e.find(".lp_bold_date_picker_lightbox_secondary_cta, .lp_bold_date_picker_lightbox_close_button").click(function() {
_i_("269:453e7e80"), t.click(), _r_();
}).end().find(".lp_bold_date_picker_lightbox_cta").click(function() {
_i_("269:03d30fc1");
var i = C(e);
B.search.group(i), w(i), t.click(), _r_();
}), B.components.require("legacy-emitter").bind("spin-button-change", function(e) {
_i_("269:4d5d795a"), "lp_bold_date_picker_children_selector" === e.data.id && k(e, !0), _r_();
});
var i = B.search.group().value;
w(i), i.children && n.find(".lp_bold_date_picker_lightbox_ages").each(function(e) {
_i_("269:00ccceba"), "undefined" != typeof i.childrenAges[e] && r(this).find("input").val(i.childrenAges[e]), _r_();
}), _r_();
}
function w(e) {
_i_("269:3f1ce68b");
var t = B.jstmpl("lp_bold_date_picker_group_message").render(e);
n.find(".lp_bold_date_picker_group_container").find(".lp_bold_date_picker_select_text").html(t), _r_();
}
function M(e, t) {
_i_("269:fb6dd9cc"), e.find(".room_guests_selector input").val(t.rooms), e.find(".adults_guests_selector input").val(t.adults), e.find(".children_guests_selector input").val(t.children), k({
data:{
value:t.children
}
}), _r_();
}
function k(e, t) {
_i_("269:2131c064");
var i = {
show:t ? "slideDown" :"show",
hide:t ? "slideUp" :"hide"
};
if (e.data.value) {
var o = n.find(".lp_bold_date_picker_lightbox_ages");
1 == e.data.value ? o.find(".singular").show().siblings(".plural").hide() :o.find(".plural").show().siblings(".singular").hide(), o.slideDown().find(".age_guests_selector:lt(" + e.data.value + ")").filter(":not(:visible)").val("0").end()[i.show]().end().find(".age_guests_selector:gt(" + (e.data.value - 1) + ")")[i.hide]();
} else n.find(".lp_bold_date_picker_lightbox_ages")[i.hide]().find(".age_guests_selector")[i.hide]();
_r_();
}
function C(e) {
return _i_("269:303ab8ed"), _r_({
rooms:e.find(".room_guests_selector input").val(),
adults:e.find(".adults_guests_selector input").val(),
children:e.find(".children_guests_selector input").val(),
childrenAges:e.find(".age_guests_selector:visible input").map(function() {
return _i_("269:21d87c49"), _r_(parseInt(r(this).val(), 10));
}).toArray()
});
}
B.when({
events:"ready"
}).run(function(e) {
_i_("269:8793c72d"), s(), c(), _r_();
}), _r_();
}), B.define("hotel/av_calendar", function(e) {
_i_("269:f44907af"), e("hotel/av_calendar/get_dates_form"), e("hotel/av_calendar/disable_availability_button"), e("hotel/av_calendar/labels"), e("hotel/av_calendar/availability_block"), _r_();
}), B.define("hotel/faq", function(e) {
_i_("269:7baa7e0c");
var t, i, n = e("jquery"), o = B.require("trap-focus"), r = 0, _ = n("body"), a = !1, s = {
hideCallBack:function() {
_i_("269:6a569391"), a && (o.release(), t.focus()), _r_();
}
};
n(".faq_link a").click(function(e) {
_i_("269:a5373857"), e.preventDefault();
var r = this;
if (i = n(".faq_detail"), !booking.env.b_faq_questions_standalone_loaded) {
var _ = "/general" + booking.env.b_query_params_with_lang + booking.env.b_query_params_delimiter + "tmpl=faq_questions_standalone";
n("#faq_detail").load(_ + " #faq_questions_standalone", function() {
_i_("269:e73b4be8"), n("#faq_questions_standalone").replaceWith(n("#faq_questions_standalone").contents()), booking.env.b_faq_questions_standalone_loaded = 1, n(this).append(n(".faq-inline-data")), a = !0, r.click(), _r_();
});
}
if (booking.lightbox.show(n(".faq_detail"), s), n("#topten").addClass("hidden"), n(".faqA").removeClass("active"), a === !1) return _r_(!1);
var l, c = n(this).attr("data-href").match(/(#.*)$/)[1];
c && ((l = n(c)).addClass("active"), t = n(document.activeElement), o.trap(i.parent(".modal-wrapper")[0]), i.find(".active h3").attr("tabindex", 0).focus()), B.events.trigger("faq-lightbox-open", e, l), _r_();
}), booking.eventEmitter.bind("modal:open", function() {
_i_("269:6278b3ce");
var e = n("div.modal-wrapper");
r = parseInt(e.css("top"), 10), e.find("#faq_detail").length && (_.addClass("faq-modal-open"), e.css({
top:n(window).scrollTop() + r
})), _r_();
}).bind("modal:close", function() {
_i_("269:166355b7"), _.removeClass("faq-modal-open"), _r_();
}), _r_();
}), B.define("hotel/ryokan", function(e) {
_i_("269:bed720e0");
var t, i, n = e("jquery"), o = 0, r = n("body"), _ = "lightbox-absolute-opened";
n(".ryokan_info_open").bind("click", function(e) {
_i_("269:b43026a6"), e.preventDefault(), t = n(".ryokan_info_details"), i || t.find(".block_toggler").bind("click", function() {
_i_("269:617f9d67"), t.find(n(this).attr("data-block-toggle")).toggle(), _r_();
}), booking.lightbox.show(t), i = !0, _r_();
}), booking.eventEmitter.bind("modal:open", function() {
_i_("269:8e45181d");
var e = n("div.modal-wrapper");
e.find(".lightbox_absolute").length && (o = parseInt(e.css("top"), 10), r.addClass(_), e.css({
top:n(window).scrollTop() + o
})), _r_();
}).bind("modal:close", function() {
_i_("269:4c2e0533"), r.removeClass(_), _r_();
}), _r_();
}), B.define("hotel/explorer", function(e) {
_i_("269:d4f35fe9");
var t = e("jquery");
t(function() {
_i_("269:f9be84c8");
var e, i, n = t("#hp_explorer_entry_point");
if (!n.length) return _r_();
B.lightbox.show(n, {
customWrapperClassName:"hp_explorer_entry_point"
}), e = n.find(".available_languages--list"), i = n.find(".expep-btn"), e.bind("change", function() {
_i_("269:318617da"), i.attr("href", e.val()), _r_();
}), _r_();
}), _r_();
}), B.define("hotel/banners", function(e) {
_i_("269:e1d9304d");
var t = e("jquery"), i = e("booking-sticker");
t(".fe_banner__dismiss").click(function(e) {
_i_("269:fefaf5d2"), e.preventDefault(), t(this).parents(".fe_banner").fadeOut("fast", function() {
_i_("269:3980695c"), i.update(), _r_();
}), _r_();
}), _r_();
}), B.define("hotel/usp", function(e) {
_i_("269:eaf3043a");
var t = e("jquery");
t("#uspbox_review_link").click(function() {
_i_("269:9ee080c5");
var e = setTimeout(function() {
_i_("269:92f4bc0e"), t(window).scrollTop(0), clearTimeout(e), _r_();
}, 10);
_r_();
}), _r_();
}), B.define("hotel/ph", function(e) {
_i_("269:2559f25e");
var t = e("jquery");
t(".js-ph__cta").on("click", function(e) {
_i_("269:60da18f8");
var i = B.env.b_has_valid_dates, n = i ? "#available_rooms" :"a[name=availability]", o = 500, r = t(n);
if (!r.length) return _r_();
t("html, body").animate({
scrollTop:r.offset().top
}, o), e.preventDefault(), _r_();
}), _r_();
}), B.define("lists/lists-share/lists-share", function(e, t, i) {
"use strict";
_i_("269:88756676");
var n = e("../lists-hotel-sidebar/lists-hotel-sidebar");
B.components.define("lists-share", function() {
_i_("269:d301c6a3"), this.selectInput = function() {
_i_("269:d8d4d20f"), this.$el.find(".js-lists-share-input").select(), _r_();
}, this.init = function(e) {
_i_("269:91383505");
var t = this;
this.$el = e, this._isShown = !1, B.eventEmitter.bind("lists-share-active", function() {
_i_("269:a953406a"), t._isShown && t.render(), _r_();
}), $(".js-lists-share").bind("click", function(e) {
if (_i_("269:84ae6590"), e.preventDefault(), t._isShown) return t.selectInput(), _r_();
t.$el.hide(), t.render().then(function() {
_i_("269:cc1be1b8"), t.$el.slideDown("fast", $.proxy(t.selectInput, t)), _r_();
}), _r_();
}), this.$el.delegate(".js-lists-share-input", "click", $.proxy(this.selectInput, this)), _r_();
}, this.render = function() {
_i_("269:4a9078bf");
var e = booking.promise(), t = this;
return n.getListById(n.getCurrentListId()).then(function(i) {
_i_("269:a7453f4f"), t.$el.html(B.jstmpl("lists_share_template").render(i)), t._isShown = !0, e.fulfill(), _r_();
}), _r_(e);
}, _r_();
}), i.exports = {
init:function() {}
}, _r_();
}), B.define("lists/lists-hotel-sidebar/lists-hotel-sidebar", function(e, t, i) {
"use strict";
_i_("269:89c7dddd");
var n = e("lists/lists-api-legacy"), o = B.env.b_is_tdot_traffic, r = e("../lists-api/lists-api"), _ = e("../lists-store/lists-store");
i.exports = {
getCurrentListId:function() {
_i_("269:5519353a");
var e = /wl_id=([a-zA-Z0-9-_]+)/, t = $(".js-wishlist-added-to-name-link").attr("href").match(e);
return _r_(t && t.length > 1 && t[1]);
},
getListById:function(e) {
_i_("269:7c40fdbd");
var t = B.promise(), i = null;
if (B.env.lists) {
var n = $.grep(B.env.lists.collection, function(t) {
return _i_("269:80101369"), _r_(String(t.id) === String(e));
});
i = n && n[0];
}
return i ? t.fulfill(i) :r.API.list({
id:e
}, function(e) {
_i_("269:9f418e15"), e.lists && e.lists[0] ? t.fulfill(e.lists[0]) :t.reject(e), _r_();
}), _r_(t);
},
render:function(e, t) {
_i_("269:d8cf9655"), this.$root.find(".js-wishlist-added-to-name").attr("data-wl-id", e.id || "")[t ? "show" :"hide"]();
var i = this.$root.find(".js-wishlist-added-to-name-link");
i.text(e.name || ""), i.attr("href", e.url || "");
var n = $(".js-wl-handle-text"), r = {
saved:n.data("text-saved"),
unsaved:n.data("text-unsaved")
};
o && $(".wishlist_trigger_button").toggleClass("saved_in_wl", t), n.html(r[t ? "saved" :"unsaved"]), i.text(i.data("original-label")), this.$wishlistButton.toggleClass("added-to-list", t), this.$flyDropdown.toggleClass("fly-dropdown-enhanced-dropdown-clicked-status", t), o || this.$socialCount.toggleClass("g-hidden", t), _r_();
},
toggleLoading:function(e) {
_i_("269:21d5c903"), this.$wishlistButton.toggleClass("disabled", e), this.$loadingIcon.toggleClass("g-hidden", !e), _r_();
},
updateState:function(e) {
_i_("269:5f308d73");
var t = this;
this.toggleLoading(!0);
function i(i) {
_i_("269:cd37a6ce");
var n = $.grep(i, function(e) {
return _i_("269:83e841a0"), _r_(e.selected);
}), o = n.length > 0, r = $.grep(n, function(t) {
return _i_("269:dc6530f8"), _r_(String(t.id) === String(e.list_id));
})[0] || n[0] || {};
booking.eventEmitter.trigger("wl-hp-sidebar-active-list", r), t.render(r, o), t.toggleLoading(!1), B.eventEmitter.trigger("lists-share-active", {
id:r.id
}), _r_();
}
i(n.getHotelLists(this.hotelId)), _r_();
},
$wishlistButton:$(),
$loadingIcon:$(),
$flyDropdown:$(),
$socialCount:$(),
$root:$(),
init:function() {
if (_i_("269:2ba99838"), "hotel" !== B.env.b_action) return _r_();
var e = this;
if (this.$wishlistButton = $(".wishlist_trigger_rounded_larger_button"), this.$loadingIcon = $(".tfl-clicked-status-loading"), this.$flyDropdown = $(".fly-dropdown-enhanced-dropdown"), this.$socialCount = $(".wishlist-social-count"), this.$root = $(".js-hp-wl-sidebar"), this.hotelId = this.$root.data("hotel-id"), o) _.on("list:changed", function(t) {
_i_("269:0287c9591"), e.updateState({
list_id:t.id
}), _r_();
}).on("list:created", function(t) {
_i_("269:0287c959"), e.updateState({
list_id:t.id
}), _r_();
}); else {
var t = [ n.EVENTS.CREATE, n.EVENTS.EDITHOTEL ].join(" ");
n.bind(t, function(t, i) {
_i_("269:75004c53"), e.updateState({
list_id:i.params.lists
}), _r_();
});
}
_r_();
}
}, _r_();
}), B.define("lists/lists-hotel-dropdown/lists-hotel-dropdown", function(e, t, i) {
"use strict";
_i_("269:8f524a06");
var n = e("jquery"), o = e("et"), r = e("lists/lists-api-legacy");
i.exports = function() {
_i_("269:c80bcda2");
var e = r.EVENTS;
function t(e, t) {
if (_i_("269:d4fbcf4a"), e.length < t) return _r_(e);
return _r_(e.slice(0, t) + "&hellip;");
}
function i() {
_i_("269:7719ce88");
var e = B.env.b_reg_user_last_used_wishlist;
if (e && e[0]) return _r_(e[0].b_reg_user_detail_list_id);
return _r_(null);
}
function _(e) {
_i_("269:55a43063");
var o = i();
return _r_(n.map(e, function(e) {
return _i_("269:71172749"), _r_(n.extend({}, e, {
name:t(e.name, 18),
lastUsed:e.id == o
}));
}));
}
var a = null, s = {
defaults:{
gaAction:"Wishlist",
extraClass:"wl-dropdown",
content:function(e) {
_i_("269:5f20c994");
var t = r.getHotelLists(this.params.hotel_id);
this.comparisonMode && t.length > 0 ? e(this.tmpl({
lists:t
})) :(this._$handle.attr("aria-label", this._$handle.data("loadingtext")), r.fetch(this.params).then(function(t) {
_i_("269:aebe1b35"), this._$handle.attr("aria-live", "off"), e(this.tmpl(t.result)), this.updateAriaLabels(), _r_();
}.bind(this))), _r_();
}
},
timeout:null,
init:function() {
_i_("269:9a065332");
var e = this;
this.params = {
hotel_id:this.handle().attr("data-hotel-id")
}, this.comparisonMode = this.handle().attr("data-sr-comparison-mode"), this.$wlDropdownAriaOwn = this._$handle.parent().find('[aria-owns="hotel-wishlists"]');
var t = Number(this.handle().attr("data-arrow-size"));
t && (this.options.arrowSize = t), this.bindRoot(), this.bindData(), this.handle().bind("mouseenter", function() {
_i_("269:cd923713"), e.comparisonMode || r.fetch(e.params), _r_();
}), e.bind("show hide", function(t) {
_i_("269:1cc1a77e"), setTimeout(function() {
_i_("269:d14d57de"), booking.eventEmitter.trigger("wl-dropdown-toggle", {
node:e.root(),
state:"show" === t.type
}), _r_();
}, 0), n("#tooltip_wrap").hide(), e._$root.attr("id", "hotel-wishlists"), "zh-cn" === B.env.b_lang_for_url && B.et.track("MKMBNLOLOLOOTCNETSUTIZTQUEVcTQQJO") && (e._$root.loadComponents(), B.et.initAttributesTracking(e._$root)), "show" == t.type && e.$wlDropdownAriaOwn.focus(), _r_();
}), _r_();
},
onclick:function(e) {
_i_("269:b81cca14"), this.comparisonMode ? this.onclickComparisonHandler(e) :this.toggle(), _r_();
},
onclickComparisonHandler:function(e) {
_i_("269:2c17e4d1"), e.preventDefault();
var t = this.isSelected();
t ? (this.showSavedMessage = !1, this.toggle()) :this.autoSaveHotel(), _r_();
},
getLastAddedToListId:function() {
if (_i_("269:62d6f5d0"), null != a) return _r_(a);
return _r_(i());
},
autoSaveHotel:function() {
_i_("269:ed8f75d3");
var e = this.getLastAddedToListId();
null != e ? this.autoSaveHotelToList(e) :r.fetch(this.params).then(this.handleAutoSaveFetchResponse.bind(this), this.handleAutoSaveFetchError.bind(this)), _r_();
},
handleAutoSaveFetchResponse:function() {
_i_("269:ff44a699");
var e = r.getHotelLists(this.params.hotel_id)[0];
e ? this.autoSaveHotelToList(e.id) :this.handleAutoSaveFetchError(), _r_();
},
handleAutoSaveFetchError:function() {
_i_("269:4345a028"), this.toggle(), _r_();
},
autoSaveHotelToList:function(e) {
return _i_("269:20d97484"), _r_(r.editHotel({
lists:e,
hotel_id:this.params.hotel_id,
new_state:1
}).then(this.handleAutoSaveResponse.bind(this, e), this.handleAutoSaveError.bind(this)));
},
handleAutoSaveResponse:function(e, t) {
_i_("269:997ced4a"), t && t.result.success ? (this.showSavedMessage = !0, this.updateSRHandle(e, !0), this.toggle()) :this.handleAutoSaveError(), _r_();
},
handleAutoSaveError:function() {
_i_("269:59c1604a");
var e = this.toggle.bind(this);
r.fetch(this.params).then(e, e), _r_();
},
updateSRHandle:function(e, t) {
_i_("269:c277ee36");
var i = this.handle();
i.attr("data-list-id", t ? e :null), i.toggleClass("sr-rt-compare-cta--saved", t);
var n = i.find(".sr-rt-compare-checkbox").get(0);
n && (n.checked = t), _r_();
},
bindRoot:function() {
_i_("269:549505da");
var e = this;
this.bind(this.events.rootready, function() {
_i_("269:7426efa1"), n.extend(e.options, {
gaLabel:e.handle().attr("data-ga-label"),
position:e.handle().attr("data-position")
}), e.root().delegate(".js-wl-dropdown-item-text", "keyup", n.proxy(e.ontext, e)).delegate(".js-wl-dropdown-item-checkbox", "change", n.proxy(e.oncheckbox, e)).bind("mouseenter", function() {
_i_("269:0e5d487a"), clearTimeout(e.timeout), _r_();
}).bind("mouseleave", function() {
_i_("269:55720c6e"), e.timeout = setTimeout(n.proxy(e.hide, e), 2e3), _r_();
}), e.bind(e.events.show, function() {
_i_("269:85edafe3"), clearTimeout(e.timeout), _r_();
}), o.track("OOOTACXJNccAWbCDCcIESSaZYHNbINGUZC") ? B.eventEmitter.bind("wl:cancel-hiding", function() {
_i_("269:0e5d487a1"), clearTimeout(e.timeout), _r_();
}) :e.$wlDropdownAriaOwn.bind("focusout", function(t) {
_i_("269:b71d7c7e"), e.timeout = setTimeout(n.proxy(e.hide, e), 500), _r_();
}), e.root().bind("focusin mousedown", function() {
_i_("269:36ed3e5c"), setTimeout(function() {
_i_("269:35a2e7db"), clearTimeout(e.timeout), _r_();
}, 0), _r_();
}), _r_();
}), _r_();
},
triggerHotelSavedEvent:function(e) {
_i_("269:9a0886b3");
var t = r.getHotelLists(this.params.hotel_id), i = n.grep(t, function(e) {
return _i_("269:83e841a01"), _r_(e.selected);
});
B.eventEmitter.trigger("update:b_hotel_is_saved", {
b_hotel_is_saved:e,
lists:i
}), _r_();
},
isSelected:function() {
_i_("269:3246d1a4");
var e = r.getHotelLists(this.params.hotel_id);
if (e && e.length > 0) return _r_(n.grep(e, function(e) {
return _i_("269:045a5de1"), _r_(e.selected);
}).length > 0);
var t = this.handle();
return _r_(t.hasClass("sr-rt-compare-cta--saved") || t.hasClass("saved_in_wl"));
},
getListIdFromResponse:function(e) {
if (_i_("269:558e4043"), !e) return _r_(null);
if (null != e.params.lists) return _r_(e.params.lists);
if (null != e.result.id) return _r_(e.result.id);
return _r_(null);
},
updateSelectedState:function(e) {
_i_("269:85059337");
var t = (this.getLastAddedToListId(), this.isSelected());
if (this.triggerHotelSavedEvent(t), this.handle().toggleClass("saved_in_wl", t), this.updateSprite(t), this.comparisonMode) {
var i = this.getListIdFromResponse(e);
this.updateSRHandle(i, t), a = t ? i :a;
}
this.updateAriaLabels(), B.env.fe_mtv_tip_hover && this.updateHoverLabels(), this.mtvTrackSelected(t), _r_();
},
updateAriaLabels:function() {
_i_("269:9cb1baf5");
var e = r.getHotelLists(this.params.hotel_id), t = e.filter(function(e) {
return _i_("269:7c87f82a"), _r_(e.selected);
}), i = t.length, n = t.map(function(e) {
return _i_("269:b61d8331"), _r_(e.name);
});
this._$handle.attr("aria-label", i > 0 ? B.jstmpl.translations("a11y_hp_bookmarks_button_saved", i, {
num_lists:i
}) :B.jstmpl.translations("a11y_hp_bookmarks_add_to")), this.$wlDropdownAriaOwn.attr("aria-label", i > 0 ? B.jstmpl.translations("a11y_hp_bookmarks_added", null, {
list_name:n.join(", ")
}) :B.jstmpl.translations("a11y_hp_bookmarks_button_hover")), _r_();
},
updateHoverLabels:function() {
_i_("269:e4fe2dea");
var e = r.getHotelLists(this.params.hotel_id), t = e.filter(function(e) {
return _i_("269:7c87f82a1"), _r_(e.selected);
}), i = t.length, o = "b_tt_holder_wl_new_" + i;
this._$handle.hasClass("saved_in_wl") ? (0 == i && (i = 1), n(".js-wl-dropdown-handle.lists-hotel-dropdown-alternative.jq_tooltip").attr("id", o), n(".js-wl-dropdown-handle.lists-hotel-dropdown-alternative.jq_tooltip").attr("data-title", B.jstmpl.translations("a11y_hp_bookmarks_button_saved", i, {
num_lists:i
}))) :(n(".js-wl-dropdown-handle.lists-hotel-dropdown-alternative.jq_tooltip").removeAttr("id"), n(".js-wl-dropdown-handle.lists-hotel-dropdown-alternative.jq_tooltip").attr("data-title", B.jstmpl.translations("cdm_hp_quick_share_save"))), _r_();
},
mtvTrackSelected:function(e) {
_i_("269:d9990d2f"), e ? B.et.customGoal("OOOTAIFBUIESBAFLUQBDKe", 2) :B.et.customGoal("OOOTAIFBUIESBAFLUQBDKe", 3), _r_();
},
bindData:function() {
_i_("269:8d770215");
var t = this;
r.bind([ e.LOADINGSTART, e.LOADINGEND ].join(" "), function(i, n) {
_i_("269:8abb6cd4");
var o = n.params, r = String(o.hotel_id) !== String(t.params.hotel_id), _ = !o.lists && !o.name;
if (r || !t.comparisonMode && _) return _r_();
t.loading(i.type === e.LOADINGSTART, o.lists), _r_();
}), r.bind([ e.CREATE, e.EDITHOTEL ].join(" "), function(e, i) {
if (_i_("269:7c712f91"), String(i.params.hotel_id) !== String(t.params.hotel_id)) return _r_();
var o = !1;
i.result.success ? (o = Boolean(i.params.new_state), t.handle().toggleClass("saved_in_wl", o), t.updateSelectedState(i)) :r.fetch(t.params).then(function(e) {
_i_("269:b142219c");
var r = n.grep(e.result.lists, function(e) {
return _i_("269:2afe14e4"), _r_(e.selected);
});
i.result.success || (o = Boolean(r.length), t.handle().toggleClass("saved_in_wl", o), t.updateSprite(o)), B.eventEmitter.trigger("update:b_hotel_is_saved", {
b_hotel_is_saved:o,
lists:r
});
var _ = B.env.auth_level || 0;
_ = parseInt(_), _r_();
}), _r_();
}), _r_();
},
updateSprite:function(e) {
_i_("269:28915c04"), this.handle().hasClass("added_to_fav_lists") && this.handle().find(".b-sprite").toggleClass("icon_list_favorites_selected", e).toggleClass("icon_list_favorites", !e), this.handle().hasClass("lists-hotel-dropdown-alternative") && this.handle().find(".bui_icon__save_to_list").toggleClass("bui_icon__save_to_list-selected", e), _r_();
},
ontext:function(e) {
_i_("269:d757cace");
var t = n(e.currentTarget), i = t.parent();
i.find(".js-wl-dropdown-item-checkbox").attr("disabled", !t.val()), 13 === e.which && (e.preventDefault(), this.createList(i)), _r_();
},
oncheckbox:function(e) {
_i_("269:f8ddcee8"), e.preventDefault();
var t = n(e.currentTarget).parent(), i = t.find(".js-wl-dropdown-item-text");
this[i[0] ? "createList" :"toggleList"](t), _r_();
},
createList:function(e) {
_i_("269:b2c925aa");
var t = this, i = e.find(".js-wl-dropdown-item-text");
r.create({
name:i.val(),
hotel_id:this.params.hotel_id
}).then(function(i) {
_i_("269:0e929842");
var o = i.result, r = "";
o.selected = !0, r = n("<div/>").html(t.tmpl({
lists:[ o ]
})), t.handle().attr("data-list-id", o.list_id), e.before(r.find(".js-wl-dropdown-item")), e.replaceWith(r.find(".js-wl-dropdown-item-new")), parseInt(o.remaining, 10) <= 0 && t._$root.find(".js-wl-dropdown-item-new").hide();
var _ = t._$root.find(".js-wl-dropdown-item-text"), a = _.data("originallabel");
a || (a = _.attr("aria-label"), _.data("originallabel", a)), _.attr("aria-label", B.jstmpl.translations("a11y_hp_bookmarks_added", null, {
list_name:o.name
}) + ". " + a), _.focus(), _r_();
}), _r_();
},
checked:function(e, t) {
return _i_("269:31a6c292"), "undefined" != typeof t && (e.get(0).checked = t, e.parent(".wl-dropdown-item").toggleClass("wl-dropdown-item--added", t)), _r_(e.get(0).checked);
},
toggleListLink:function(e, t) {
_i_("269:3f38a2a0"), e.find(".wl-dropdown-link-wrapper").toggleClass("g-hidden", !t), this.root().css(this._position()), _r_();
},
toggleList:function(e) {
_i_("269:65c181f7");
var t = this, i = e.find(".js-wl-dropdown-item-checkbox");
r.editHotel({
lists:i.attr("data-list-id"),
hotel_id:t.params.hotel_id,
new_state:Number(t.checked(i))
}).then(function() {
_i_("269:e6155870");
var n = t.checked(i);
t.toggleListLink(e, n), t.toggleSavedToMessage(), _r_();
}), _r_();
},
toggleSavedToMessage:function() {
_i_("269:76cc2c6e"), this.root().find(".wl-dropdown-saved-to-message").hide({
duration:100,
step:function() {
_i_("269:e8a1f8f2"), this.root().css(this._position()), _r_();
}.bind(this)
}), _r_();
},
loading:function(e, t) {
_i_("269:054a131f");
var i = this.root().find("[data-list-id=" + (t || '""') + "]").parent();
i.toggleClass("wl-dropdown-item_loading", e), this.handle().toggleClass("wl-dropdown-handle_loading", e), _r_();
},
tmpl:function(e) {
return _i_("269:c972774d"), _r_(B.jstmpl("lists_hotel_dropdown").render(n.extend(e, {
lists:_(e.lists),
b_user_auth_level_is_low_or_high:B.env.b_user_auth_level_is_low_or_high,
b_reg_user_wishlist_remaining:B.env.b_reg_user_wishlist_remaining,
b_action:B.env.b_action,
b_is_tdot_traffic:B.env.b_is_tdot_traffic,
b_selected_language:B.env.b_selected_language,
fe_comparison_mode:this.comparisonMode,
fe_show_saved_message:this.showSavedMessage,
b_lang:B.env.b_lang,
b_url_start:B.env.b_url_start,
b_canonical_url:B.env.b_canonical_url
})));
}
}, l = n.fly.dropdown.extend(s);
return _r_({
wlDropdown:l,
create:function() {
_i_("269:b9484e30"), n(".js-wl-dropdown-handle").each(function() {
_i_("269:144ab232"), l.create(this), _r_();
}), _r_();
},
init:function(e) {
_i_("269:c45607ac"), this.create(), _r_();
}
});
}(), _r_();
}), B.define("lists/lists-hotel-content-block/lists-hotel-content-block", function(e, t, i) {
"use strict";
_i_("269:7a553561");
var n = e("../lists-api/lists-api"), o = e("../lists-hotel-dropdown/lists-hotel-dropdown").wlDropdown, r = null;
function _() {
return _i_("269:1a4cd215"), _r_($(".hp-section--lists"));
}
function a() {
_i_("269:c03b3b13"), r = o.create(_().find(".hp-lists-save-list, .hp-lists-remove-list")), _r_();
}
function s(e, t, i) {
_i_("269:8981fac9"), r && r._destroy();
var n = i && i[i.length - 1];
_().replaceWith(B.jstmpl("lists_hotel_content_block").render({
b_hotel_is_saved:t,
b_hotel_id:e.b_hotel_id,
b_wishlist_selected_url:n && n.url,
b_wishlist_selected_name:n && n.name
})), a(), _r_();
}
i.exports = {
init:function() {
_i_("269:a6391251"), $(function() {
_i_("269:845a87c3"), a(), B.eventEmitter.bind("update:b_hotel_is_saved", function(e, t) {
_i_("269:f6f1100a"), s(n.currentHotel(), t.b_hotel_is_saved, t.lists), _r_();
}), _r_();
}), _r_();
}
}, _r_();
}), B.define("hotel/compset", function(e) {
_i_("269:44a89d45");
var t = e("jquery");
t(".js-toggle-fp").click(function() {
_i_("269:f86b0c5c");
var e = t(this).parents(".js-hpFpItem");
t(e).toggleClass("hpFpItem"), t(".hpFpShowmore", e).remove(), _r_();
}), _r_();
}), B.define("hotel/bb", function(e) {
_i_("269:cf315b1d");
var t = e("jquery");
function i() {
_i_("269:28375fad"), window.location.hash.indexOf("tab-reviews-business_traveller") > -1 && t(".js-score_from_business_travellers").trigger("click"), _r_();
}
function n() {
_i_("269:06e5fa9c"), "total" !== t("#reviewer_type_filter option:selected").data("customer-type") && t('#reviewer_type_filter option[data-customer-type="total"]').prop("selected", !0).trigger("change"), _r_();
}
function o() {
_i_("269:dd1c8cbe"), "business_traveller" !== t("#reviewer_type_filter option:selected").data("customer-type") && t('#reviewer_type_filter option[data-customer-type="business_traveller"]').prop("selected", !0).trigger("change"), _r_();
}
B.env.hotelAction.has_business_reviews && (t(".js-big_review_score_detailed").bind("click", n), t(".js-score_from_business_travellers").bind("click", o), i()), _r_();
}), B.define("component/genius/ge-genius-room-selected", [ "component" ], function(e) {
_i_("269:4c36e041");
var t = {}, i = !1;
function n(e) {
_i_("269:5578dd81"), e.is_genius = e.$el.hasClass("b_room_block_is_genius_rate"), "0" == e.no_rooms ? delete t[e.block_id] :t[e.block_id] = e;
var i = 0, n = 0;
for (var o in t) t[o].is_genius && i++, n++;
if (1 == i) return _r_(i == n);
return _r_(!1);
}
return _r_(e.extend({
init:function() {
_i_("269:31cb7430");
var e = !1;
if (e === !1) return _r_();
B.events.on(B.hotel.Events.RT.ROOM_SELECTED, function(t) {
_i_("269:51066001");
var o = $(".genius-discount-reinforcement-tooltip"), r = n(t);
if (i == r) return _r_();
1 == e && o.css({
opacity:r ? 0 :1,
display:"block"
}).animate({
opacity:r ? 1 :0
}, 60, "", function() {
_i_("269:36e36529"), !r && o.css("display", "none"), _r_();
}), i = r, _r_();
}, this), _r_();
}
}));
}), B.define("hotel/genius/ge_recommended_blocks", function(e) {
_i_("269:253b8729");
var t = e("jquery");
t(".genius-recommended-rooms .gr-room-link").click(function(e) {
_i_("269:1e8b298e"), e.preventDefault();
var i = t(this).data("id");
B.hotel.rtLightbox.show.call(t("#" + i).parent().find(".togglelink")), _r_();
}), _r_();
}), B.when({
condition:"www" === B.env.b_site_type && B.env.b_reg_user_is_genius
}).run(function(e) {
_i_("269:b627f2e6");
var t = e("jquery"), i = t(".book-now-genius-first-booking-block");
if (!i.length) return _r_();
var n = null;
n = i[0].hasAttribute("data-ge-everyone") ? i[0].getAttribute("data-ge-everyone") :2;
var o = i.find("p"), r = i.data("username"), _ = {};
function a(e) {
if (_i_("269:f1ef93f6"), e.has_genius_rate) if (e.no_rooms > 0 && e.genius_discount) {
var t = 0;
t = e.rackrate_shown && e.rackrate_discount ? e.rackrate_discount :e.genius_discount, _[e.block_id] = {
no_rooms:e.no_rooms,
calculated_discount:t
};
} else _[e.block_id] && delete _[e.block_id];
return _r_(Object.keys(_).length);
}
function s(e) {
_i_("269:e8d63551");
var t = e.$el.find(":selected"), s = a({
block_id:e.block_id,
no_rooms:+e.no_rooms,
rackrate_shown:!!e.$el.parents("tr").find(".toggle_price_per_night_or_stay:not(.deal-public-price-rackrate)").length,
has_genius_rate:e.has_genius_rate,
genius_discount:+t.data("genius-discount"),
rackrate_discount:+t.data("rackrate-discount")
}), l = 0;
for (var c in _) {
var d = _[c];
l += d.no_rooms * d.calculated_discount;
}
if (s > 0 && l > 0) {
if (2 == n) {
var h = B.jstmpl.translations(r ? "ge_deepen_hp_first_genius_message_known" :"ge_deepen_hp_first_genius_message_unknown", null, {
amount_with_currency:B.utils.accounting.formatMoney(l),
user_name:r
});
o.html(h), i.show();
}
} else i.hide();
_r_();
}
B.events.on(B.hotel.Events.RT.ROOM_SELECTED, s, this), _r_();
}), B.define("hotel/genius", function(e) {
_i_("269:7f6eb864"), e("hotel/genius/ge_recommended_blocks"), _r_();
}), B.define("hotel/footer/region_attraction_async", function(e) {
_i_("269:c5874b72");
var t = e("jquery"), i = e("booking-sticker"), n = t(".hp_region_attractions"), o = "/hotel_attractions", r = {
hotel_id:B.env.b_hotel_id,
lang:B.env.b_lang_for_url,
stype:booking.env.b_site_type_id
};
B.env.b_query_params_with_lang_no_ext ? (o += B.env.b_query_params_with_lang_no_ext.replace(/&+$/, ""), o.match(/[?&;]aid=/) || (r.aid = B.env.b_aid)) :(r.aid = B.env.b_aid, r.label = B.env.b_label);
function _(e) {
_i_("269:9f2db4b9");
for (var t = e.region_attractions.items, i = 0; i < t.length; i++) t[i].photo = B.tools.jsStaticUrl(t[i].photo);
return e.region_attractions.items = t, _r_(e);
}
function a(e) {
if (_i_("269:92d4e4d5"), !e.region_attractions) return B.events.trigger(B.hotel.Events.Other.NO_REGION_ATTRACTIONS_RENDERED, e), _r_();
var o = _(e);
o.hasDirectionsMap = t('[data-component="destination-os/poi-directions"]').length > 0, o.usesNewTooltip = n.data("tooltip-new"), o.rtl = B.env.rtl;
var r = B.jstmpl("hp_region_attraction_block").render(o);
n.html(r).css("display", "block").loadComponents(), B.events.trigger(B.hotel.Events.Other.REGION_ATTRACTIONS_RENDERED, e), i.update(), n.on("click", ".hp_region_attractions_item_directions_link", function(t) {
_i_("269:059e5f3e"), t.preventDefault(), B.events.trigger(B.hotel.Events.Other.REGION_ATTRACTIONS_MAP_CTA_CLICKED, {
data:e,
$el:this
}), _r_();
}), _r_();
}
function s(e, i) {
_i_("269:97ba3f9f"), t.ajax({
url:e,
cache:!0,
data:i,
success:a
}), _r_();
}
if (n.hasClass("hotel_is_resort")) return _r_();
"complete" == document.readyState && s(o, r), t(window).on("load", function() {
_i_("269:c7332847"), s(o, r), _r_();
}), _r_();
}), B.define("hotel/footer/hide_seo_links", function(e) {
_i_("269:5351d0f0");
var t = e("jquery"), i = t("#seo_links_drawer"), n = t(".hp_useful_links_header", i), o = t(".hp_useful_links", i);
if (i.find(".hp_useful_links_no_hide").length > 0) return _r_();
i.length > 0 && (o.hide(), n.click(function() {
_i_("269:0053ba98"), o.is(":hidden") ? o.stop(!0, !0).slideDown() :o.stop(!0, !0).slideUp(), _r_();
})), _r_();
}), B.define("hotel/footer", function(e) {
_i_("269:28eb5f34"), e("hotel/footer/region_attraction_async"), $("#seo_links_drawer").length && e("hotel/footer/hide_seo_links"), _r_();
}), B.define("hotel/recent_reviews", function(e) {
_i_("269:ece1da72");
var t, i = e("jquery"), n = 0, o = !1, r = function() {
_i_("269:a60be165");
var e = i(".recent_property_reviews_block .review_list"), t = e.find(".review_item, .review-list-item"), r = parseInt(t.first().css("margin-top"), 10), _ = parseInt(t.first().css("margin-bottom"), 10), a = parseInt(e.css("padding-top"), 10), s = parseInt(e.css("padding-bottom"), 10);
r = isNaN(r) ? 0 :r, _ = isNaN(_) ? 0 :_, a = isNaN(a) ? 0 :a, s = isNaN(s) ? 0 :s;
var l = r + _ - (a + s);
t.each(function(e, t) {
_i_("269:860fd63e");
var o = i(t);
o.height() > n && (n = o.height()), _r_();
}), o ? (e.css({
height:t.height() + l,
overflow:"hidden"
}), n && i(".reviews_block-dynamic_height").css({
"min-height":Math.min(n + l, 350)
})) :n > 0 && (e.css({
height:n + l + "px",
overflow:"hidden"
}), t.css({
height:n + "px"
})), _r_();
}, _ = function() {
_i_("269:1e0ca025");
var e, t, r = i(".recent_property_reviews_block .review_list"), _ = r.find(".review_item, .review-list-item").first();
o && (e = _.next(".review_item, .review-list-item"), t = e.css("height", "").height(), t && r.animate({
height:t + 39
}, "slow", "swing")), _.animate({
height:0
}, "slow", "swing", function() {
_i_("269:0aa96484"), r.append(_.css({
height:n + "px"
})), _r_();
}), _r_();
}, a = function() {
_i_("269:896efbab");
var e = i(".recent_property_reviews_block .review_list"), t = e.find(".review_item, .review-list-item");
o = e.hasClass("review_list-dynamic_height"), r(), t.length > 1 && window.setInterval(_, 2e4), B.events.on("tab-opened", function() {
_i_("269:559f6e6a"), r(), _r_();
}), _r_();
}, s = i(".hp_recent_property_reviews_container");
if (!B.env.b_hotelfeaturedreviews_url) return _r_();
t = B.env.b_hotelfeaturedreviews_url;
var l = function(e) {
_i_("269:5c22985c"), s.html(e), a(), B.events.trigger("RECENT_REVIEWS:fetched"), s.loadComponents(), _r_();
};
B.env.b01 || i("#regionTmpl").length || (B.env.run_ABbSMLfOTXKeNLTLfPePdJXDC ? B.when({
events:"view .hp_recent_property_reviews_container"
}).run(function() {
_i_("269:70e2f71e"), i.ajax({
url:t,
success:l
}), _r_();
}) :i.ajax({
url:t,
success:l
})), _r_();
}), B.when({
condition:B.env.payment_possible_in_instalments
}).run(function(e) {
_i_("269:7930aad7");
var t = e("jquery"), i = t(".rt_no_cc"), n = t(".total-price-instalments");
function o(e, t) {
_i_("269:0d350361");
var o = !!t.rawPrice && t.rawPrice >= B.env.instalments_minimum_price;
i.toggle(!o), n.toggle(o), _r_();
}
B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, o), B.events.on(B.hotel.Events.RT.SUMMARY_HIDE, function() {
_i_("269:7258a52b"), o(null, {
rawPrice:0
}), _r_();
}), _r_();
}), B.define("dodCountdown", [ "jquery", "countdown" ], function(e, t, i) {
_i_("269:c541f5a1");
var n = function(e) {
_i_("269:b0501218"), this.init(e), _r_();
}, o = B.env.b_dotd_redesign ? 1 :0;
return e.extend(n.prototype, {
maxDaysLimit:o ? 0 :2,
init:function(i) {
_i_("269:ef6f84e2"), this.$countdown = e(i), this.finalDate = 1e3 * +this.$countdown.attr("data-expires-at"), this.$daysContainer = this.$countdown.find(".js--days-container"), this.$dayTimeContainter = this.$countdown.find(".js--day-time-container"), this.ticker = new t({
endTime:this.finalDate
}), this.setTime(this.ticker.getStartRemainingTime()), this.setCountdownListeners(), _r_();
},
setCountdownListeners:function() {
_i_("269:f138cb79");
var e = this;
this.ticker.on("ticked", function(t) {
_i_("269:f072da5f"), e.setTime(t.remainingTime), _r_();
}), this.ticker.on("expired", function() {
_i_("269:b1f75397"), e.expire(), _r_();
}), _r_();
},
formatTime:function(e) {
_i_("269:086c63c5");
var t = "" + e;
return t.length <= 1 && (t = "0" + t), _r_(t);
},
setTime:function(e) {
_i_("269:05fd4e9c"), e.days && e.days <= this.maxDaysLimit ? this.setDaysCount(e.days) :this.removeDays(), this.setDayTime(e), _r_();
},
setDaysCount:function(e) {
_i_("269:8fc0049a"), this.$daysContainer.text(B.jstmpl.translations("deals_deal_of_day_countdown_days", e, {
num_days_left:e
})), _r_();
},
setDayTime:function(e) {
_i_("269:5ffd92a5"), this.$dayTimeContainter.text(B.jstmpl.translations("deals_deal_of_day_countdown_timer", null, {
hours_remain:o ? this.formatTime(24 * parseInt(e.days) + parseInt(e.hours)) :e.hours,
minutes_remain:e.minutes,
seconds_remain:e.seconds
})), _r_();
},
removeDays:function() {},
expire:function() {}
}), _r_(n);
}), B.when({
events:"ready",
condition:$(".js--dod-countdown-tooltip").length
}).require([ "event-emitter", "jquery", "dodCountdown" ], function(e, t, i) {
_i_("269:200c656a");
function n(e, n) {
_i_("269:d7a73d92");
var o = function(e) {
_i_("269:50e82c0d"), this.expireIsTracked = !1, this.init(e), _r_();
};
t.extend(o.prototype, i.prototype, {
setTime:function(e) {
_i_("269:77b6e7a8"), e.total <= 3e3 && !this.expireIsTracked && (this.expireIsTracked = !0), i.prototype.setTime.call(this, e), _r_();
},
expire:function() {
_i_("269:48ca7f3d"), location.reload(), _r_();
},
removeDays:function() {
_i_("269:68b21f49"), this.$daysContainer.hide(), _r_();
}
}), new o(e, n), _r_();
}
var o = t(".js--dod-countdown-tooltip");
o.length && o.each(function() {
_i_("269:bdf5a063"), n(t(this)), _r_();
}), _r_();
}), B.define("hotel/rooms_table/gently_select_rooms", function(e, t, i) {
_i_("269:ee55f5d1");
var n, o = e("jquery"), r = -20 - (B.env.b_hp_sticky_offset || 0), _ = 4e3, a = o(B.env.is_rooms_table_rewrite ? "#hprt-form" :document.roomsForm), s = a.find(".b_room_selectbox"), l = o(".gently_select_rooms_container"), c = o(".book_now_button_handler"), d = function() {
return _i_("269:d6596e94"), _r_(function() {
_i_("269:cf10e5e4"), l.css("display", "block").animate({
opacity:1
}, 600), n = window.setTimeout(function() {
_i_("269:de39a543"), l.animate({
opacity:0
}, 600, function() {
_i_("269:a65c9722"), l.hide(), _r_();
}), _r_();
}, _), _r_();
});
}(), h = function() {
return _i_("269:ff732c44"), _r_(function() {
_i_("269:706d9a20"), clearTimeout(n), l.stop().css({
opacity:0,
display:"none"
}), _r_();
});
}();
function u() {
if (_i_("269:e9d73628"), !B.env.b_run_hp_gently_select_rooms) return _r_();
c.click(function(e) {
if (_i_("269:3df95751"), B.et.customGoal("ZOISdGZFNTedZeBRUDbbAPQeNZTLLPReZWGO", 1), f()) return a.submit(), _r_();
B.events.trigger("open-tab", {
tab:"main"
}), setTimeout(function() {
_i_("269:0634b3f3"), +B.env.b_is_group_search ? +B.env.b_has_group_recommendation && 2 == B.et.track("ABbDSDAUaDdMPQHO") ? m() :g() :v(), _r_();
}, 0), _r_();
}), s.change(h), _r_();
}
function f() {
if (_i_("269:49804f76"), B.env.is_rooms_table_rewrite) {
var e = B.require("hotel/store"), t = e.getState().roomsTable.js_selection;
return _r_(t.roomCount);
}
return _r_(s.filter(function() {
return _i_("269:131bcd44"), _r_(0 != o(this).val());
}).length);
}
function p(e, t) {
_i_("269:def17fb8");
var i = o("#group_recommendation");
if (t = "function" == typeof t ? t :function() {}, !i.length) return _r_(t());
r = -20 - (B.env.b_hp_sticky_offset || 0), window.setTimeout(function() {
_i_("269:e4d02eba"), o("html,body").animate({
scrollTop:r + i.offset().top + "px"
}, e || 1e3).promise().then(t), _r_();
}, 0), _r_();
}
function b(e, t) {
_i_("269:c6c9cf15");
var i = o("#availability_target");
if (t = "function" == typeof t ? t :function() {}, !i.length) return _r_(t());
r = -20 - (B.env.b_hp_sticky_offset || 0), window.setTimeout(function() {
_i_("269:e4d02eba1"), o("html,body").animate({
scrollTop:r + i.offset().top + "px"
}, e || 1e3).promise().then(t), _r_();
}, 0), _r_();
}
function m(e) {
_i_("269:60a1d345"), h(), p(e, d), _r_();
}
function g(e) {
_i_("269:94fde60e"), h(), b(e, d), _r_();
}
function v(e) {
_i_("269:31400a0f"), h(), b(e, function() {
if (_i_("269:75cbe2b9"), B.env.is_rooms_table_rewrite) {
var e, t, i, n = B.require("hotel/store"), o = B.require("hotel/redux/actionTypes"), r = B.require("search-config"), a = n.getState(), s = a.roomsTable.rooms, l = +r.adults;
if (!s || !s.length) return _r_();
if (e = s.filter(function(e) {
return _i_("269:ec8163f2"), _r_(e.b_blocks.length);
}), !e.length) return _r_();
if (t = e[0].b_blocks[0], i = t.b_stay_prices.length - 1, l > t.b_max_persons * i) return _r_();
return n.dispatch({
type:o.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED,
nr_adults:+r.adults
}), d(), _r_();
}
var c = s.first(), h = c.parents("tr").first(), u = h.data("auto-select-times"), f = setTimeout(d, 0);
_ = 6e3, c.val(u).trigger("change"), fminit(h), c.on("change", function p() {
_i_("269:9058507d"), parseInt(c.val()) || (fminit(h, !0, "#fff", [ 255, 255, 255 ], [ 255, 255, 255 ]), c.off("change", p), clearTimeout(f)), _r_();
}), _r_();
}), _r_();
}
return _r_({
init:u,
showMessage:d,
resetMessage:h,
scrollToRoomsTable:b,
scrollToRoomsTableAndShowTooltip:g,
areRoomsSelected:f,
scrollToRoomsTableAndAutoSelect:v
});
}), B.define("hotel/pset_meta_query_discount", function(e) {
if (_i_("269:02cc4a39"), B.env.b_pset_meta_query_discount) {
var t = e("et"), i = "#rooms_table";
t.on("view", i).stage("eWHJYRYNZfHfVbeTQSWUIXe", 7), t.on("view", i).stage("eWHJYRYNZfHfVbeTQSWUIXe", 8), t.on("view", i).stage("eWHJYRYNZfHfVbeTLWYO", 7), t.on("view", i).stage("eWHJYRYNZfHfVbeTLWYO", 8);
}
_r_();
}), B.define("hotel", function(e) {
_i_("269:7b0413e1");
var t = e("jquery");
e("hotel/core/back_is_back"), e("hotel/track"), (B.env.b_is_ie8 || B.env.b_is_ie9) && t("#hp_facilities_box").length && e("hotel/core/fix_for_facilities_ie789"), e("hotel/core/no_dates_prefetch_sr_assets"), e("hotel/rooms_table/gently_select_rooms").init(), e("hotel/av_calendar"), e("hotel/faq"), e("hotel/ryokan"), e("hotel/explorer"), e("hotel/banners"), e("hotel/usp"), e("hotel/ph"), e("lists/lists-share/lists-share").init(), e("lists/lists-hotel-sidebar/lists-hotel-sidebar").init(), e("lists/lists-hotel-dropdown/lists-hotel-dropdown").init(), e("hotel/compset"), e("hotel/bb"), e("hotel/genius"), e("hotel/footer"), e("hotel/recent_reviews"), e("hotel/pset_meta_query_discount"), _r_();
}), B.require([ "hotel" ]), B.define("hotel/redux/actionTypes", function(e) {
return _i_("269:dfd3cb21"), _r_({
SELECT_ROOM:"SELECT_ROOM",
SELECT_ROOM_ERROR:"SELECT_ROOM_ERROR",
SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED:"SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED",
SHOW_CONTACT_HOST_FORM:"SHOW_CONTACT_HOST_FORM",
CONTACT_HOST_FORM_STATUS:"CONTACT_HOST_FORM_STATUS",
CHANGE_FIT_STATUS:"CHANGE_FIT_STATUS",
ADD_TPI_ROOMS:"ADD_TPI_ROOMS"
});
}), B.define("hotel/redux/reducers/rooms", function(e) {
_i_("269:a7f7bcde");
var t = e("et"), i = e("hotel/redux/actionTypes"), n = {}, o = s({
rooms:B.env.b_rooms_available_and_soldout || [],
js_selection:{
blocks:{},
rooms:{},
blockIDs:[],
roomIDs:[],
roomTypes:[],
totalPrice:0,
roomCount:0,
nrSelections:0,
nrSelectErrors:0,
autoSelection:!1,
fitStatus:0,
noFitGuests:{},
chargesCase:0,
totalExcludedCharges:0,
totalExcludedChargesPretty:"",
chargesText:""
},
hasOnlyOneRoomRate:!1,
hadRoomAutoSelected:!1,
autoSelectedBlockId:""
});
function r(e) {
return _i_("269:acedc825"), _r_(JSON.parse(JSON.stringify(e)));
}
function _(e, t) {
_i_("269:5a372ccb");
var i, n, o, r;
for (i = 0, o = e.rooms.length; o > i; i++) if ({}.hasOwnProperty.call(e.rooms[i], "b_blocks")) for (n = 0, r = e.rooms[i].b_blocks.length; r > n; n++) {
var _ = t(e.rooms[i], e.rooms[i].b_blocks[n]);
if ("boolean" == typeof _ && !_) return _r_();
}
_r_();
}
function a(e, i, n, o) {
_i_("269:b2cb3663");
var r = {}, a = {}, s = {}, l = 0, c = 0, d = {};
if (_(e, function(e, t) {
_i_("269:c5a1aedd"), t.b_block_id === i && ("1" === o ? (t.js_nr_selected = 0, t.b_fflex_block && (t.b_fflex_block.js_nr_selected = Math.min(parseInt(n, 10), t.b_fflex_block.b_stay_prices.length))) :(t.js_nr_selected = Math.min(parseInt(n, 10), t.b_stay_prices.length), t.b_fflex_block && (t.b_fflex_block.js_nr_selected = 0))), t.js_nr_selected ? (a[e.b_id] = e, r[t.b_block_id] = t, s[e.b_roomtype_id] = 1, c += t.js_nr_selected, d[e.b_id] = (d[e.b_id] || 0) + t.js_nr_selected, l += parseFloat(t.b_stay_prices[t.js_nr_selected].b_raw_price)) :t.js_is_highlighted = !1, t.b_fflex_block && (t = t.b_fflex_block, t.js_nr_selected ? (a[e.b_id] = e, r[t.b_block_id] = t, s[e.b_roomtype_id] = 1, c += t.js_nr_selected, d[e.b_id] = (d[e.b_id] || 0) + t.js_nr_selected, l += parseFloat(t.b_stay_prices[t.js_nr_selected].b_raw_price)) :t.js_is_highlighted = !1), _r_();
}), e.js_selection = {
blocks:r,
rooms:a,
blockIDs:Object.keys(r),
roomIDs:Object.keys(a),
roomTypes:Object.keys(s),
totalPrice:l,
totalPriceFormatted:B.utils.accounting.formatMoney(l),
roomCount:c,
roomCountPerRoomID:d,
nrSelections:e.js_selection.nrSelections + 1,
fit_status:0,
noFitGuests:{},
autoSelection:!1
}, B.env.b_guest_country && ("nl" === B.env.b_guest_country || "be" === B.env.b_guest_country) && t.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO")) {
var h = 0, u = 0, f = "";
switch (_(e, function(e, t) {
if (_i_("269:3a43bd69"), t.js_nr_selected) {
var i = $(".blockuid-" + t.b_block_id);
if (i.length) {
var n = parseInt(i.data("cur-stage"));
if (~[ 1, 2, 3 ].indexOf(n)) {
if (1 === n) {
var o = parseInt(i.data("excl-charges-raw") || 0);
!o || isNaN(o) ? n = 4 :u += o * t.js_nr_selected;
}
h ? h !== n && (2 !== n && n > h ? h = n :1 === n && 2 === h && (h = n)) :h = n;
}
}
}
_r_();
}), h) {
case 1:
f = B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2", null, {
sum_taxes_charges:B.utils.accounting.formatMoney(u)
});
break;

case 2:
f = B.jstmpl.translations("sr_search_card_includes_taxes_charges");
break;

case 3:
case 4:
f = B.jstmpl.translations("sr_hp_taxes_and_charges_exception");
break;

default:
f = "";
}
e.js_selection.chargesCase = h, e.js_selection.totalExcludedCharges = u, e.js_selection.totalExcludedChargesPretty = B.utils.accounting.formatMoney(u), e.js_selection.chargesText = f;
}
var p = B.env.b_guest_country && !/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|us|id/gim.test(B.env.b_guest_country), b = B.env.b_guest_country && /at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch/gim.test(B.env.b_guest_country);
if (p && B.et.track("eDUIFaGZHWRHZGSNASVQLSLae") || b && B.et.track("eDUIFaGZHWRHZGSNASVQLKGBHe")) {
var h = 0, u = 0, f = "";
switch (_(e, function(e, t) {
if (_i_("269:3430c778"), t.js_nr_selected) {
var i = $(".blockuid-" + t.b_block_id);
if (i.length) {
var n = parseInt(i.data("cur-stage"));
if (~[ 1, 2, 3, 4, 5 ].indexOf(n)) {
if (2 === n) {
var o = parseInt(i.data("excl-charges-raw") || 0);
u += o * t.js_nr_selected;
}
h !== n && n > h && (h = n);
}
}
}
_r_();
}), h) {
case 1:
f = B.jstmpl.translations("sr_search_card_includes_taxes_charges");
break;

case 2:
f = B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2", null, {
sum_taxes_charges:B.utils.accounting.formatMoney(u)
});
break;

case 3:
case 4:
case 5:
f = B.jstmpl.translations("sr_hp_taxes_and_charges_exception");
break;

default:
f = "";
}
e.js_selection.chargesCase = h, e.js_selection.totalExcludedCharges = u, e.js_selection.totalExcludedChargesPretty = B.utils.accounting.formatMoney(u), e.js_selection.chargesText = f;
}
_r_();
}
n[i.SELECT_ROOM] = function(e, i) {
_i_("269:cccc3d07");
var n = r(e);
n.js_selection.nrSelectErrors && !i.dont_trigger_goals && t.goal("hp_room_select_after_error"), a(n, i.block_id, i.number_of_rooms, i.is_fflex_selected), i.block_id != n.autoSelectedBlockId || i.dont_trigger_goals || (0 == i.number_of_rooms ? t.goal("hp_rt_room_auto_selected_deselected") :t.goal("hp_rt_room_auto_selected_reselected")), n.js_selection.nrSelections > 0 && !i.dont_trigger_goals && (0 == n.js_selection.roomCount && t.goal("hp_rt_room_deselected_everything"), n.js_selection.nrSelections >= 3 && t.goalWithValue("js_hp_rt_room_changed_selection", n.js_selection.nrSelections));
var o = n.js_selection.roomIDs.length, _ = n.js_selection.blockIDs.length;
return o >= 2 && !i.dont_trigger_goals && t.goalWithValue("js_hp_rt_nr_selected_room_ids", o), _ >= 2 && !i.dont_trigger_goals && t.goalWithValue("js_hp_rt_nr_selected_block_ids", _), n.lastAction = i.type, _r_(n);
}, n[i.SELECT_ROOM_ERROR] = function(e, i) {
_i_("269:1cd2541f");
var n = r(e);
return t.goal("hp_room_select_error"), n.js_selection.nrSelectErrors += 1, n.js_selection.nrSelectErrors >= 2 && t.goalWithValue("js_hp_room_select_error_count", n.js_selection.nrSelectErrors), n.hadRoomAutoSelected ? t.goal("hp_room_select_error_after_auto_select") :n.js_selection.nrSelections > 0 && t.goal("hp_room_select_error_after_select"), _r_(n);
}, n[i.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED] = function(e, i) {
_i_("269:cab4c78c");
var n = r(e), o = !1;
if (n.js_selection.roomCount) return _r_();
if (_(n, function(e, t) {
_i_("269:6d1b36da");
var r = t.b_stay_prices.length - 1, _ = i.nr_adults, s = t.b_max_persons;
if (!(s * r >= _)) return _r_(!1);
return o = !0, a(n, t.b_block_id, t.b_max_persons >= i.nr_adults ? 1 :2), n.autoSelectedBlockId = t.b_block_id, t.js_is_highlighted = !0, _r_(!1);
}), !o) return _r_(n);
return n.hadRoomAutoSelected = !0, n.js_selection.autoSelection = !0, t.goal("hp_rt_room_auto_selected"), n.js_selection.nrSelectErrors > 0 && t.goal("hp_room_auto_select_after_error"), _r_(n);
}, n[i.CHANGE_FIT_STATUS] = function(e, t) {
_i_("269:31edf732");
var i = r(e);
return i.js_selection.fitStatus = t.fit_status, i.js_selection.noFitGuests = t.no_fit_guests, i.lastAction = t.type, _r_(i);
}, n[i.ADD_TPI_ROOMS] = function(e, t) {
_i_("269:42b3cad5");
var i = r(e);
return i.rooms && i.rooms.length && (i.rooms = i.rooms.concat(t.rooms)), _r_(i);
};
function s(e) {
_i_("269:166e827f");
var t = r(e), i = 0;
return t.rooms.forEach(function(e) {
_i_("269:5809fa38"), e.b_blocks.forEach(function(t) {
_i_("269:a39b7723"), t.hasOwnProperty("b_block_id") ? (e.isAvailable = 1, i++) :e.isAvailable = 0, _r_();
}), _r_();
}), 1 == i && (t.hasOnlyOneRoomRate = !0), _r_(t);
}
return _r_(function(e, t) {
_i_("269:1addb9dd");
var e = e || o, i = n[t.type];
if (!i) return _r_(e);
return _r_(Object.assign({}, e, i(e, t)));
});
}), B.define("hotel/store", function(e) {
_i_("269:6c9f3fe1");
var t = e("redux"), i = e("redux-thunk"), n = e("hotel/redux/reducers/rooms"), o = t.combineReducers({
roomsTable:n
});
return _r_(t.createStore(o, window.__REDUX_DEVTOOLS_EXTENSION__ ? t.compose(t.applyMiddleware(i), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()) :t.compose(t.applyMiddleware(i))));
}), B.define("hotel/utils/click-area", function(e, t) {
_i_("269:df000c80");
var i = e("jquery");
t.elDims = n, t.area = o, t.padding = r;
function n(e) {
if (_i_("269:3d9b3515"), e instanceof i && e.length) return _r_({
x:e.offset().left,
y:e.offset().top,
width:e.width(),
height:e.height()
});
if (e instanceof Function) return _r_(e());
return _r_(e);
}
function o(e, t, i, o) {
return _i_("269:d4eb8a2d"), _r_(function(r, _, a) {
_i_("269:3cb9e6bc");
var s, l, c = n(e), d = n(t), h = [ c.x, c.x + c.width ], u = [ c.y, c.y + c.height ];
return s = d.x ? [ d.x, d.x + d.width ] :[ c.x, c.x + (d.width ? d.width :c.width) ], l = d.y ? [ d.y, d.y + d.height ] :[ c.y, c.y + (d.height ? d.height :c.height) ], i && (s = [ h[1] - (s[1] - h[0]), h[1] - (s[0] - h[0]) ]), o && (l = [ u[1] - (l[1] - u[0]), u[1] - (l[0] - u[0]) ]), _r_(s[0] <= r && r <= s[1] && l[0] <= _ && _ <= l[1]);
});
}
function r(e, t) {
return _i_("269:6d982be9"), e = n(e), e.width += 2 * t, e.height += 2 * t, e.x = e.x - t, e.y = e.y - t, _r_(e);
}
_r_();
}), function(e) {
"use strict";
_i_("269:c970d6c8"), "function" == typeof define && define.amd ? define([ "jquery" ], e) :"undefined" != typeof exports ? module.exports = e(require("jquery")) :e(jQuery), _r_();
}(function(e) {
"use strict";
_i_("269:91cefb85");
var t = window.Slick || {};
t = function() {
_i_("269:1a9b8522");
var t = 0;
function i(i, n) {
_i_("269:aa04535a");
var o, r, _, a = this;
if (a.defaults = {
accessibility:!0,
adaptiveHeight:!1,
appendArrows:e(i),
appendDots:e(i),
arrows:!0,
asNavFor:null,
prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',
nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',
autoplay:!1,
autoplaySpeed:3e3,
centerMode:!1,
centerPadding:"50px",
cssEase:"ease",
customPaging:function(e, t) {
return _i_("269:47add93f"), _r_('<button type="button" data-role="none">' + (t + 1) + "</button>");
},
dots:!1,
dotsClass:"slick-dots",
draggable:!0,
easing:"linear",
edgeFriction:.35,
fade:!1,
focusOnSelect:!1,
galleryMode:"normal",
infinite:!0,
initialSlide:0,
lazyLoad:"ondemand",
mobileFirst:!1,
pauseOnHover:!0,
pauseOnDotsHover:!1,
respondTo:"window",
responsive:null,
rtl:!1,
slide:"",
slidesToShow:1,
slidesToScroll:1,
speed:500,
keydownOverride:!1,
keydownSpeed:500,
swipe:!0,
swipeToSlide:!1,
touchMove:!0,
touchThreshold:5,
useCSS:!0,
variableWidth:!1,
vertical:!1,
waitForAnimate:!0
}, a.initials = {
animating:!1,
dragging:!1,
autoPlayTimer:null,
currentDirection:0,
currentLeft:null,
currentSlide:0,
direction:1,
currentSpeed:null,
iskeyboardEvent:!1,
$dots:null,
listWidth:null,
listHeight:null,
loadIndex:0,
$nextArrow:null,
$prevArrow:null,
slideCount:null,
slideWidth:null,
$slideTrack:null,
$slides:null,
sliding:!1,
slideOffset:0,
swipeLeft:null,
$list:null,
touchObject:{},
transformsEnabled:!1
}, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.hidden = "hidden", a.paused = !1, a.positionProp = null, a.respondTo = null, a.shouldClick = !0, a.$slider = e(i), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, o = e(i).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, r = a.options.responsive || null, r && r.length > -1) {
a.respondTo = a.options.respondTo || "window";
for (_ in r) r.hasOwnProperty(_) && (a.breakpoints.push(r[_].breakpoint), a.breakpointSettings[r[_].breakpoint] = r[_].settings);
a.breakpoints.sort(function(e, t) {
return _i_("269:c2b72627"), _r_(a.options.mobileFirst === !0 ? e - t :t - e);
});
}
"undefined" != typeof document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") :"undefined" != typeof document.msHidden ? (a.hidden = "msHidden", a.visibilityChange = "msvisibilitychange") :"undefined" != typeof document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.instanceUid = t++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.init(), a.checkResponsive(!0), _r_();
}
return _r_(i);
}(), t.prototype.addSlide = t.prototype.slickAdd = function(t, i, n) {
_i_("269:1873807f");
var o = this;
if ("boolean" == typeof i) n = i, i = null; else if (0 > i || i >= o.slideCount) return _r_(!1);
o.unload(), "number" == typeof i ? 0 === i && 0 === o.$slides.length ? e(t).appendTo(o.$slideTrack) :n ? e(t).insertBefore(o.$slides.eq(i)) :e(t).insertAfter(o.$slides.eq(i)) :n === !0 ? e(t).prependTo(o.$slideTrack) :e(t).appendTo(o.$slideTrack), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slides.each(function(t, i) {
_i_("269:fa93a0c01"), e(i).attr("data-slick-index", t), _r_();
}), o.$slidesCache = o.$slides, o.reinit(), _r_();
}, t.prototype.animateHeight = function() {
_i_("269:5c984c58");
var e = this, t = e.options.animateHeightSpeed || e.options.speed;
if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
var i = e.$slides.eq(e.currentSlide).outerHeight(!0);
e.$list.animate({
height:i
}, t);
}
_r_();
}, t.prototype.animateSlide = function(t, i) {
_i_("269:b902e881");
var n = {}, o = this;
o.animateHeight(), o.options.rtl === !0 && o.options.vertical === !1 && (t = -t), o.transformsEnabled === !1 ? o.options.vertical === !1 ? o.$slideTrack.animate({
left:t
}, o.options.speed, o.options.easing, i) :o.$slideTrack.animate({
top:t
}, o.options.speed, o.options.easing, i) :o.cssTransitions === !1 ? (o.options.rtl === !0 && (o.currentLeft = -o.currentLeft), e({
animStart:o.currentLeft
}).animate({
animStart:t
}, {
duration:o.options.speed,
easing:o.options.easing,
step:function(e) {
_i_("269:67f59eb1"), e = Math.ceil(e), o.options.vertical === !1 ? (n[o.animType] = "translate(" + e + "px, 0px)", o.$slideTrack.css(n)) :(n[o.animType] = "translate(0px," + e + "px)", o.$slideTrack.css(n)), _r_();
},
complete:function() {
_i_("269:ed4aef1a"), i && i.call(), _r_();
}
})) :(o.applyTransition(), t = Math.ceil(t), o.options.vertical === !1 ? n[o.animType] = "translate3d(" + t + "px, 0px, 0px)" :n[o.animType] = "translate3d(0px," + t + "px, 0px)", o.$slideTrack.css(n), i && setTimeout(function() {
_i_("269:07179984"), o.disableTransition(), i.call(), _r_();
}, o.options.speed)), _r_();
}, t.prototype.asNavFor = function(t) {
_i_("269:e8b7bb75");
var i = this, n = null !== i.options.asNavFor ? e(i.options.asNavFor).slick("getSlick") :null;
null !== n && n.slideHandler(t, !0), _r_();
}, t.prototype.applyTransition = function(e) {
_i_("269:5ddae8bc");
var t = this, i = {};
t.options.fade === !1 ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase :i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, t.options.fade === !1 ? t.$slideTrack.css(i) :t.$slides.eq(e).css(i), _r_();
}, t.prototype.autoPlay = function() {
_i_("269:399fd1d9");
var e = this;
e.autoPlayTimer && clearInterval(e.autoPlayTimer), e.slideCount > e.options.slidesToShow && e.paused !== !0 && e.options.autoplay && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed)), _r_();
}, t.prototype.autoPlayClear = function() {
_i_("269:af3f522d");
var e = this;
e.autoPlayTimer && clearInterval(e.autoPlayTimer), _r_();
}, t.prototype.autoPlayIterator = function() {
_i_("269:e6097c53");
var e = this;
e.options.infinite === !1 ? 1 === e.direction ? (e.currentSlide + 1 === e.slideCount - 1 && (e.direction = 0), e.slideHandler(e.currentSlide + e.options.slidesToScroll)) :(e.currentSlide - 1 === 0 && (e.direction = 1), e.slideHandler(e.currentSlide - e.options.slidesToScroll)) :e.slideHandler(e.currentSlide + e.options.slidesToScroll), _r_();
}, t.prototype.buildArrows = function() {
_i_("269:76e69167");
var t = this;
t.options.arrows === !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow = e(t.options.prevArrow), t.$nextArrow = e(t.options.nextArrow), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.appendTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), t.options.infinite !== !0 && t.$prevArrow.addClass("slick-disabled")), _r_();
}, t.prototype.buildDots = function() {
_i_("269:b8f116fc");
var t, i, n = this;
if (n.options.dots === !0 && n.slideCount > n.options.slidesToShow) {
for (i = '<ul class="' + n.options.dotsClass + '">', t = 0; t <= n.getDotCount(); t += 1) i += "<li>" + n.options.customPaging.call(this, n, t) + "</li>";
i += "</ul>", n.$dots = e(i).appendTo(n.options.appendDots), n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false");
}
_r_();
}, t.prototype.buildOut = function() {
_i_("269:5f602f53");
var t = this;
t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
_i_("269:fa93a0c0"), e(i).attr("data-slick-index", t), _r_();
}), t.$slidesCache = t.$slides, t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) :t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div aria-hidden="true" class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), (t.options.centerMode === !0 || t.options.swipeToSlide === !0) && (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof this.currentSlide ? this.currentSlide :0), t.options.draggable === !0 && t.$list.addClass("draggable"), _r_();
}, t.prototype.checkResponsive = function(t) {
_i_("269:7df269de");
var i, n, o, r = this, _ = r.$slider.width(), a = window.innerWidth || e(window).width();
if ("window" === r.respondTo ? o = a :"slider" === r.respondTo ? o = _ :"min" === r.respondTo && (o = Math.min(a, _)), r.originalSettings.responsive && r.originalSettings.responsive.length > -1 && null !== r.originalSettings.responsive) {
n = null;
for (i in r.breakpoints) r.breakpoints.hasOwnProperty(i) && (r.originalSettings.mobileFirst === !1 ? o < r.breakpoints[i] && (n = r.breakpoints[i]) :o > r.breakpoints[i] && (n = r.breakpoints[i]));
null !== n ? null !== r.activeBreakpoint ? n !== r.activeBreakpoint && (r.activeBreakpoint = n, "unslick" === r.breakpointSettings[n] ? r.unslick() :(r.options = e.extend({}, r.originalSettings, r.breakpointSettings[n]), t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh())) :(r.activeBreakpoint = n, "unslick" === r.breakpointSettings[n] ? r.unslick() :(r.options = e.extend({}, r.originalSettings, r.breakpointSettings[n]), t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh())) :null !== r.activeBreakpoint && (r.activeBreakpoint = null, r.options = r.originalSettings, t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh());
}
_r_();
}, t.prototype.changeSlide = function(t, i) {
_i_("269:0c4c634e");
var n, o, r, _ = this, a = e(t.target);
switch (a.is("a") && t.preventDefault(), r = _.slideCount % _.options.slidesToScroll !== 0, n = r ? 0 :(_.slideCount - _.currentSlide) % _.options.slidesToScroll, t.data.message) {
case "previous":
o = 0 === n ? _.options.slidesToScroll :_.options.slidesToShow - n, _.slideCount > _.options.slidesToShow && _.slideHandler(_.currentSlide - o, !1, i);
break;

case "next":
o = 0 === n ? _.options.slidesToScroll :n, _.slideCount > _.options.slidesToShow && _.slideHandler(_.currentSlide + o, !1, i);
break;

case "index":
var s = 0 === t.data.index ? 0 :t.data.index || e(t.target).parent().index() * _.options.slidesToScroll;
_.slideHandler(_.checkNavigable(s), !1, i);
break;

default:
return _r_();
}
_r_();
}, t.prototype.checkNavigable = function(e) {
_i_("269:2e3760ed");
var t, i, n = this;
if (t = n.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1]; else for (var o in t) {
if (e < t[o]) {
e = i;
break;
}
i = t[o];
}
return _r_(e);
}, t.prototype.clickHandler = function(e) {
_i_("269:810abac5");
var t = this;
t.shouldClick === !1 && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault()), _r_();
}, t.prototype.destroy = function() {
_i_("269:3c19434e");
var t = this;
t.autoPlayClear(), t.touchObject = {}, e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden", "true").removeAttr("data-slick-index").css({
position:"",
left:"",
top:"",
zIndex:"",
opacity:"",
width:""
}), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.$list.unbind(".slick"), e(window).unbind(".slick-" + t.instanceUid), e(document).unbind(".slick-" + t.instanceUid), t.$slider.html(t.$slides), _r_();
}, t.prototype.disableTransition = function(e) {
_i_("269:b2756228");
var t = this, i = {};
i[t.transitionType] = "", t.options.fade === !1 ? t.$slideTrack.css(i) :t.$slides.eq(e).css(i), _r_();
}, t.prototype.fadeSlide = function(e, t) {
_i_("269:c1100626");
var i = this;
i.cssTransitions === !1 ? (i.$slides.eq(e).css({
zIndex:1e3
}), i.options.speed ? i.$slides.eq(e).animate({
opacity:1
}, i.options.speed, i.options.easing, t) :i.$slides.eq(e).show(i.options.speed, t)) :(i.applyTransition(e), i.$slides.eq(e).css({
opacity:1,
zIndex:1e3
}), t && setTimeout(function() {
_i_("269:a3438e15"), i.disableTransition(e), t.call(), _r_();
}, i.options.speed)), _r_();
}, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
_i_("269:99588b02");
var t = this;
null !== e && (t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit()), _r_();
}, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
_i_("269:d878ac94");
var e = this;
return _r_(e.currentSlide);
}, t.prototype.getDotCount = function() {
_i_("269:d90cc7a5");
var e = this, t = 0, i = 0, n = 0;
if (e.options.infinite === !0) n = Math.ceil(e.slideCount / e.options.slidesToScroll); else if (e.options.centerMode === !0) n = e.slideCount; else for (;t < e.slideCount; ) ++n, t = i + e.options.slidesToShow, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll :e.options.slidesToShow;
return _r_(n - 1);
}, t.prototype.getLeft = function(e) {
_i_("269:0a691e40");
var t, i, n, o = this, r = 0;
return o.slideOffset = 0, i = o.$slides.first().outerHeight(), o.options.infinite === !0 ? (o.slideCount > o.options.slidesToShow && (o.slideOffset = o.slideWidth * o.options.slidesToShow * -1, r = i * o.options.slidesToShow * -1), o.slideCount % o.options.slidesToScroll !== 0 && e + o.options.slidesToScroll > o.slideCount && o.slideCount > o.options.slidesToShow && (e > o.slideCount ? (o.slideOffset = (o.options.slidesToShow - (e - o.slideCount)) * o.slideWidth * -1, r = (o.options.slidesToShow - (e - o.slideCount)) * i * -1) :(o.slideOffset = o.slideCount % o.options.slidesToScroll * o.slideWidth * -1, r = o.slideCount % o.options.slidesToScroll * i * -1))) :e + o.options.slidesToShow > o.slideCount && (o.slideOffset = (e + o.options.slidesToShow - o.slideCount) * o.slideWidth, r = (e + o.options.slidesToShow - o.slideCount) * i), o.slideCount <= o.options.slidesToShow && (o.slideOffset = 0, r = 0), o.options.centerMode === !0 && o.options.infinite === !0 ? o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2) - o.slideWidth :o.options.centerMode === !0 && (o.slideOffset = 0, o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2)), t = o.options.vertical === !1 ? e * o.slideWidth * -1 + o.slideOffset :e * i * -1 + r, o.options.variableWidth === !0 && (n = o.slideCount <= o.options.slidesToShow || o.options.infinite === !1 ? o.$slideTrack.children(".slick-slide").eq(e) :o.$slideTrack.children(".slick-slide").eq(e + o.options.slidesToShow), t = n[0] ? -1 * n[0].offsetLeft :0, o.options.centerMode === !0 && (n = o.options.infinite === !1 ? o.$slideTrack.children(".slick-slide").eq(e) :o.$slideTrack.children(".slick-slide").eq(e + o.options.slidesToShow + 1), t = n[0] ? -1 * n[0].offsetLeft :0, t += (o.$list.width() - n.outerWidth()) / 2)), _r_(t);
}, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
_i_("269:aa126de6");
var t = this;
return _r_(t.options[e]);
}, t.prototype.getNavigableIndexes = function() {
_i_("269:b807f95a");
var e, t = this, i = 0, n = 0, o = [];
for (t.options.infinite === !1 ? (e = t.slideCount - t.options.slidesToShow + 1, t.options.centerMode === !0 && (e = t.slideCount)) :(i = -1 * t.slideCount, n = -1 * t.slideCount, e = 2 * t.slideCount); e > i; ) o.push(i), i = n + t.options.slidesToScroll, n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll :t.options.slidesToShow;
return _r_(o);
}, t.prototype.getSlick = function() {
return _i_("269:b34e3db8"), _r_(this);
}, t.prototype.getSlideCount = function() {
_i_("269:52494332");
var t, i, n, o = this;
return n = o.options.centerMode === !0 ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) :0, o.options.swipeToSlide === !0 ? (o.$slideTrack.find(".slick-slide").each(function(t, r) {
if (_i_("269:f3f48d61"), r.offsetLeft - n + e(r).outerWidth() / 2 > -1 * o.swipeLeft) return i = r, _r_(!1);
_r_();
}), t = Math.abs(e(i).attr("data-slick-index") - o.currentSlide) || 1, _r_(t)) :_r_(o.options.slidesToScroll);
}, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
_i_("269:90487959");
var i = this;
i.changeSlide({
data:{
message:"index",
index:parseInt(e)
}
}, t), _r_();
}, t.prototype.init = function() {
_i_("269:72d3a587");
var t = this;
e(t.$slider).hasClass("slick-initialized") || (e(t.$slider).addClass("slick-initialized"), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots()), t.$slider.trigger("init", [ t ]), _r_();
}, t.prototype.initArrowEvents = function() {
_i_("269:d6e60b62");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.bind("click.slick", {
message:"previous"
}, e.changeSlide), e.$nextArrow.bind("click.slick", {
message:"next"
}, e.changeSlide)), _r_();
}, t.prototype.initDotEvents = function() {
_i_("269:f2531feb");
var t = this;
t.options.dots === !0 && t.slideCount > t.options.slidesToShow && e("li", t.$dots).bind("click.slick", {
message:"index"
}, t.changeSlide), t.options.dots === !0 && t.options.pauseOnDotsHover === !0 && t.options.autoplay === !0 && e("li", t.$dots).bind("mouseenter.slick", function() {
_i_("269:eb68020a"), t.paused = !0, t.autoPlayClear(), _r_();
}).bind("mouseleave.slick", function() {
_i_("269:5e48df25"), t.paused = !1, t.autoPlay(), _r_();
}), _r_();
}, t.prototype.initializeEvents = function() {
_i_("269:8b9bc1fd");
var t = this;
t.initArrowEvents(), t.initDotEvents(), t.$list.bind("touchstart.slick mousedown.slick", {
action:"start"
}, t.swipeHandler), t.$list.bind("touchmove.slick mousemove.slick", {
action:"move"
}, t.swipeHandler), t.$list.bind("touchend.slick mouseup.slick", {
action:"end"
}, t.swipeHandler), t.$list.bind("touchcancel.slick mouseleave.slick", {
action:"end"
}, t.swipeHandler), t.$list.bind("click.slick", t.clickHandler), t.options.autoplay === !0 && (e(document).bind(t.visibilityChange, function() {
_i_("269:3965a55c"), t.visibility(), _r_();
}), t.options.pauseOnHover === !0 && (t.$list.bind("mouseenter.slick", function() {
_i_("269:eb68020a1"), t.paused = !0, t.autoPlayClear(), _r_();
}), t.$list.bind("mouseleave.slick", function() {
_i_("269:5e48df251"), t.paused = !1, t.autoPlay(), _r_();
}))), t.options.accessibility === !0 && e(document).bind("keydown.slick", t.keyHandler), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().bind("click.slick", t.selectHandler), e(window).bind("orientationchange.slick.slick-" + t.instanceUid, function() {
_i_("269:71ea83f9"), t.checkResponsive(), t.setPosition(), _r_();
}), e(window).bind("resize.slick.slick-" + t.instanceUid, function() {
_i_("269:8841ac5e"), e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
_i_("269:9ccec9da"), t.windowWidth = e(window).width(), t.checkResponsive(), t.setPosition(), _r_();
}, 50)), _r_();
}), e("*[draggable!=true]", t.$slideTrack).bind("dragstart", function(e) {
_i_("269:a38e47a3"), e.preventDefault(), _r_();
}), e(window).bind("load.slick.slick-" + t.instanceUid, t.setPosition), e(document).bind("ready.slick.slick-" + t.instanceUid, t.setPosition), _r_();
}, t.prototype.initUI = function() {
_i_("269:ea873936");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.show(), e.options.autoplay === !0 && e.autoPlay(), _r_();
}, t.prototype.keyHandler = function(e) {
_i_("269:b1b7e014");
var t = this;
t.options.accessibility === !0 && t.options.keydownOverride === !0 && t.options.keydownSpeed && (t.iskeyboardEvent = !0, t.currentSpeed = t.options.speed, t.options.speed = t.options.keydownSpeed), 37 === e.keyCode && t.options.accessibility === !0 ? t.changeSlide({
data:{
message:t.options.rtl ? "next" :"previous"
}
}) :39 === e.keyCode && t.options.accessibility === !0 && t.changeSlide({
data:{
message:t.options.rtl ? "previous" :"next"
}
}), _r_();
}, t.prototype.lazyLoad = function() {
_i_("269:02e48efc");
var t, i, n, o, r = this;
function _(t) {
_i_("269:828d9079"), e("img[data-lazy]", t).each(function() {
_i_("269:243378cc");
var t = e(this), i = e(this).attr("data-lazy");
t.load(function() {
_i_("269:73f61e94"), t.animate({
opacity:1
}, 200), _r_();
}).css({
opacity:0
}).attr("src", i).removeAttr("data-lazy").removeClass("slick-loading"), _r_();
}), _r_();
}
r.options.centerMode === !0 ? r.options.infinite === !0 ? (n = r.currentSlide + (r.options.slidesToShow / 2 + 1), o = n + r.options.slidesToShow + 2) :(n = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)), o = 2 + (r.options.slidesToShow / 2 + 1) + r.currentSlide) :(n = r.options.infinite ? r.options.slidesToShow + r.currentSlide :r.currentSlide, o = n + r.options.slidesToShow, r.options.fade === !0 && (n > 0 && n--, o <= r.slideCount && o++)), t = r.$slider.find(".slick-slide").slice(n, o), _(t), r.slideCount <= r.options.slidesToShow ? (i = r.$slider.find(".slick-slide"), _(i)) :r.currentSlide >= r.slideCount - r.options.slidesToShow ? (i = r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow), _(i)) :0 === r.currentSlide && (i = r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow), _(i)), _r_();
}, t.prototype.loadSlider = function() {
_i_("269:df137ba3");
var e = this;
e.setPosition(), e.$slideTrack.css({
opacity:1
}), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad(), _r_();
}, t.prototype.next = t.prototype.slickNext = function() {
_i_("269:88d71b69");
var e = this;
e.changeSlide({
data:{
message:"next"
}
}), _r_();
}, t.prototype.pause = t.prototype.slickPause = function() {
_i_("269:f2c15337");
var e = this;
e.autoPlayClear(), e.paused = !0, _r_();
}, t.prototype.play = t.prototype.slickPlay = function() {
_i_("269:3dce7834");
var e = this;
e.paused = !1, e.autoPlay(), _r_();
}, t.prototype.postSlide = function(e) {
_i_("269:5b6dc3bf");
var t = this;
t.$slider.trigger("afterChange", [ t, e ]), t.animating = !1, t.setPosition(), t.swipeLeft = null, t.options.autoplay === !0 && t.paused === !1 && t.autoPlay(), t.options.accessibility === !0 && t.options.keydownOverride === !0 && t.iskeyboardEvent === !0 && (t.iskeyboardEvent = !1, t.options.speed = t.currentSpeed), _r_();
}, t.prototype.prev = t.prototype.slickPrev = function() {
_i_("269:00586209");
var e = this;
e.changeSlide({
data:{
message:"previous"
}
}), _r_();
}, t.prototype.progressiveLazyLoad = function() {
_i_("269:1c406966");
var t, i, n = this;
t = e("img[data-lazy]", n.$slider).length, t > 0 && (i = e("img[data-lazy]", n.$slider).first(), i.attr("src", i.attr("data-lazy")).removeClass("slick-loading").load(function() {
_i_("269:6229d7ca"), i.removeAttr("data-lazy"), n.progressiveLazyLoad(), n.options.adaptiveHeight === !0 && n.setPosition(), _r_();
}).error(function() {
_i_("269:0fb46887"), i.removeAttr("data-lazy"), n.progressiveLazyLoad(), _r_();
})), _r_();
}, t.prototype.refresh = function() {
_i_("269:6dd86baa");
var t = this, i = t.currentSlide;
t.destroy(), e.extend(t, t.initials), t.init(), t.changeSlide({
data:{
message:"index",
index:i
}
}, !0), _r_();
}, t.prototype.reinit = function() {
_i_("269:b9485622");
var t = this;
t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().bind("click.slick", t.selectHandler), t.setSlideClasses(0), t.setPosition(), t.$slider.trigger("reInit", [ t ]), _r_();
}, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
_i_("269:6cd94992");
var n = this;
if ("boolean" == typeof e ? (t = e, e = t === !0 ? 0 :n.slideCount - 1) :e = t === !0 ? --e :e, n.slideCount < 1 || 0 > e || e > n.slideCount - 1) return _r_(!1);
n.unload(), i === !0 ? n.$slideTrack.children().remove() :n.$slideTrack.children(this.options.slide).eq(e).remove(), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slidesCache = n.$slides, n.reinit(), _r_();
}, t.prototype.setCSS = function(e) {
_i_("269:5c295263");
var t, i, n = this, o = {};
n.options.rtl === !0 && (e = -e), t = "left" == n.positionProp ? Math.ceil(e) + "px" :"0px", i = "top" == n.positionProp ? Math.ceil(e) + "px" :"0px", o[n.positionProp] = e, n.transformsEnabled === !1 ? n.$slideTrack.css(o) :(o = {}, n.cssTransitions === !1 ? (o[n.animType] = "translate(" + t + ", " + i + ")", n.$slideTrack.css(o)) :(o[n.animType] = "translate3d(" + t + ", " + i + ", 0px)", n.$slideTrack.css(o))), _r_();
}, t.prototype.setDimensions = function() {
_i_("269:76db605f");
var e = this;
if (e.options.vertical === !1 ? e.options.centerMode === !0 && e.$list.css({
padding:"0px " + e.options.centerPadding
}) :(e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), e.options.centerMode === !0 && e.$list.css({
padding:e.options.centerPadding + " 0px"
})), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), e.options.vertical === !1 && e.options.variableWidth === !1) e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length)); else if (e.options.variableWidth === !0) {
var t = 0;
e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.children(".slick-slide").each(function() {
_i_("269:3b52e153"), t += e.listWidth, _r_();
}), e.$slideTrack.width(Math.ceil(t) + 1);
} else e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length));
var i = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
e.options.variableWidth === !1 && e.$slideTrack.children(".slick-slide").width(e.slideWidth - i), _r_();
}, t.prototype.setFade = function() {
_i_("269:5d0d1f0d");
var t, i = this;
i.$slides.each(function(n, o) {
_i_("269:04f6cdfb"), t = i.slideWidth * n * -1, i.options.rtl === !0 ? e(o).css({
position:"relative",
right:t,
top:0,
zIndex:800,
opacity:0
}) :e(o).css({
position:"relative",
left:t,
top:0,
zIndex:800,
opacity:0
}), _r_();
}), i.$slides.eq(i.currentSlide).css({
zIndex:900,
opacity:1
}), _r_();
}, t.prototype.setHeight = function() {
_i_("269:a1485bd1");
var e = this;
if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
e.$list.css("height", t);
}
_r_();
}, t.prototype.setOption = t.prototype.slickSetOption = function(e, t, i) {
_i_("269:92a239a5");
var n = this;
n.options[e] = t, i === !0 && (n.unload(), n.reinit()), _r_();
}, t.prototype.setPosition = function() {
_i_("269:9e0d36fb");
var e = this;
e.setDimensions(), e.setHeight(), e.options.fade === !1 ? e.setCSS(e.getLeft(e.currentSlide)) :e.setFade(), e.$slider.trigger("setPosition", [ e ]), _r_();
}, t.prototype.setProps = function() {
_i_("269:b9a544a2");
var e = this, t = document.body.style;
e.positionProp = e.options.vertical === !0 ? "top" :"left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") :e.$slider.removeClass("slick-vertical"), (void 0 !== t.WebkitTransition || void 0 !== t.MozTransition || void 0 !== t.msTransition) && e.options.useCSS === !0 && (e.cssTransitions = !0), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && e.animType !== !1 && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = null !== e.animType && e.animType !== !1, _r_();
}, t.prototype.setSlideClasses = function(e) {
_i_("269:42777f94");
var t, i, n, o, r = this;
r.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true").removeClass("slick-center"), i = r.$slider.find(".slick-slide"), r.options.centerMode === !0 ? (t = Math.floor(r.options.slidesToShow / 2), r.options.infinite === !0 && (e >= t && e <= r.slideCount - 1 - t ? r.$slides.slice(e - t, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") :(n = r.options.slidesToShow + e, i.slice(n - t + 1, n + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - r.options.slidesToShow).addClass("slick-center") :e === r.slideCount - 1 && i.eq(r.options.slidesToShow).addClass("slick-center")), r.$slides.eq(e).addClass("slick-center")) :e >= 0 && e <= r.slideCount - r.options.slidesToShow ? r.$slides.slice(e, e + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") :i.length <= r.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") :(o = r.slideCount % r.options.slidesToShow, n = r.options.infinite === !0 ? r.options.slidesToShow + e :e, r.options.slidesToShow == r.options.slidesToScroll && r.slideCount - e < r.options.slidesToShow ? i.slice(n - (r.options.slidesToShow - o), n + o).addClass("slick-active").attr("aria-hidden", "false") :i.slice(n, n + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === r.options.lazyLoad && r.lazyLoad(), _r_();
}, t.prototype.setupInfinite = function() {
_i_("269:ba37ca51");
var t, i, n, o = this;
if (o.options.fade === !0 && (o.options.centerMode = !1), o.options.infinite === !0 && o.options.fade === !1 && (i = null, o.slideCount > o.options.slidesToShow)) {
for (n = o.options.centerMode === !0 ? o.options.slidesToShow + 1 :o.options.slidesToShow, t = o.slideCount; t > o.slideCount - n; t -= 1) i = t - 1, e(o.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");
for (t = 0; n > t; t += 1) i = t, e(o.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");
o.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
_i_("269:ebb1e066"), e(this).attr("id", ""), _r_();
});
}
_r_();
}, t.prototype.selectHandler = function(t) {
_i_("269:d8db273a");
var i = this, n = e(t.target).parents(".slick-slide"), o = parseInt(n.attr("data-slick-index"));
if (o || (o = 0), i.slideCount <= i.options.slidesToShow) return i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true"), i.$slides.eq(o).addClass("slick-active").attr("aria-hidden", "false"), i.options.centerMode === !0 && (i.$slider.find(".slick-slide").removeClass("slick-center"), i.$slides.eq(o).addClass("slick-center")), i.asNavFor(o), _r_();
i.slideHandler(o), _r_();
}, t.prototype.slideHandler = function(e, t, i) {
_i_("269:ca7773fb");
var n, o, r, _, a = null, s = this;
if (t = t || !1, s.animating === !0 && s.options.waitForAnimate === !0) return _r_();
if (s.options.fade === !0 && s.currentSlide === e) return _r_();
if (s.slideCount <= s.options.slidesToShow) return _r_();
if (t === !1 && s.asNavFor(e), n = e, a = s.getLeft(n), _ = s.getLeft(s.currentSlide), s.currentLeft = null === s.swipeLeft ? _ :s.swipeLeft, s.options.infinite === !1 && s.options.centerMode === !1 && (0 > e || e > s.getDotCount() * s.options.slidesToScroll)) return s.options.fade === !1 && (n = s.currentSlide, i !== !0 ? s.animateSlide(_, function() {
_i_("269:83dfe16c"), s.postSlide(n), _r_();
}) :s.postSlide(n)), _r_();
if (s.options.infinite === !1 && s.options.centerMode === !0 && (0 > e || e > s.slideCount - s.options.slidesToScroll)) return s.options.fade === !1 && (n = s.currentSlide, i !== !0 ? s.animateSlide(_, function() {
_i_("269:83dfe16c1"), s.postSlide(n), _r_();
}) :s.postSlide(n)), _r_();
if (s.options.autoplay === !0 && clearInterval(s.autoPlayTimer), o = 0 > n ? s.slideCount % s.options.slidesToScroll !== 0 ? s.slideCount - s.slideCount % s.options.slidesToScroll :s.slideCount + n :n >= s.slideCount ? s.slideCount % s.options.slidesToScroll !== 0 ? 0 :n - s.slideCount :n, s.animating = !0, s.$slider.trigger("beforeChange", [ s, s.currentSlide, o ]), r = s.currentSlide, s.currentSlide = o, s.setSlideClasses(s.currentSlide), s.updateDots(), s.updateArrows(), s.options.fade === !0) return i !== !0 ? s.fadeSlide(o, function() {
_i_("269:a126f812"), s.postSlide(o), _r_();
}) :s.postSlide(o), s.animateHeight(), _r_();
i !== !0 ? s.animateSlide(a, function() {
_i_("269:ff62ff23"), s.postSlide(o), _r_();
}) :s.postSlide(o), _r_();
}, t.prototype.startLoad = function() {
_i_("269:e1af5713");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading"), _r_();
}, t.prototype.swipeDirection = function() {
_i_("269:70a2ac4d");
var e, t, i, n, o = this;
if (e = o.touchObject.startX - o.touchObject.curX, t = o.touchObject.startY - o.touchObject.curY, i = Math.atan2(t, e), n = Math.round(180 * i / Math.PI), 0 > n && (n = 360 - Math.abs(n)), 45 >= n && n >= 0) return _r_(o.options.rtl === !1 ? "left" :"right");
if (360 >= n && n >= 315) return _r_(o.options.rtl === !1 ? "left" :"right");
if (n >= 135 && 225 >= n) return _r_(o.options.rtl === !1 ? "right" :"left");
return _r_("vertical");
}, t.prototype.swipeEnd = function(e) {
_i_("269:c3f8361e");
var t, i = this;
if (i.dragging = !1, i.shouldClick = i.touchObject.swipeLength > 10 ? !1 :!0, void 0 === i.touchObject.curX) return _r_(!1);
if (i.touchObject.edgeHit === !0 && i.$slider.trigger("edge", [ i, i.swipeDirection() ]), i.touchObject.swipeLength >= i.touchObject.minSwipe) switch (i.swipeDirection()) {
case "left":
t = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide + i.getSlideCount()) :i.currentSlide + i.getSlideCount(), i.slideHandler(t), i.currentDirection = 0, i.touchObject = {}, i.$slider.trigger("swipe", [ i, "left" ]);
break;

case "right":
t = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide - i.getSlideCount()) :i.currentSlide - i.getSlideCount(), i.slideHandler(t), i.currentDirection = 1, i.touchObject = {}, i.$slider.trigger("swipe", [ i, "right" ]);
} else i.touchObject.startX !== i.touchObject.curX && (i.slideHandler(i.currentSlide), i.touchObject = {});
_r_();
}, t.prototype.swipeHandler = function(e) {
_i_("269:e1bbc1a7");
var t = this;
if (t.options.swipe === !1 || "ontouchend" in document && t.options.swipe === !1) return _r_();
if (t.options.draggable === !1 && -1 !== e.type.indexOf("mouse")) return _r_();
switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length :1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, e.data.action) {
case "start":
t.swipeStart(e);
break;

case "move":
t.swipeMove(e);
break;

case "end":
t.swipeEnd(e);
}
_r_();
}, t.prototype.swipeMove = function(e) {
_i_("269:1f54038b");
var t, i, n, o, r, _ = this;
if (r = void 0 !== e.originalEvent ? e.originalEvent.touches :null, !_.dragging || r && 1 !== r.length) return _r_(!1);
if (t = _.getLeft(_.currentSlide), _.touchObject.curX = void 0 !== r ? r[0].pageX :e.clientX, _.touchObject.curY = void 0 !== r ? r[0].pageY :e.clientY, _.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(_.touchObject.curX - _.touchObject.startX, 2))), i = _.swipeDirection(), "vertical" === i) return _r_();
if (void 0 !== e.originalEvent && _.touchObject.swipeLength > 4 && e.preventDefault(), o = (_.options.rtl === !1 ? 1 :-1) * (_.touchObject.curX > _.touchObject.startX ? 1 :-1), n = _.touchObject.swipeLength, _.touchObject.edgeHit = !1, _.options.infinite === !1 && (0 === _.currentSlide && "right" === i || _.currentSlide >= _.getDotCount() && "left" === i) && (n = _.touchObject.swipeLength * _.options.edgeFriction, _.touchObject.edgeHit = !0), _.options.vertical === !1 ? _.swipeLeft = t + n * o :_.swipeLeft = t + n * (_.$list.height() / _.listWidth) * o, _.options.fade === !0 || _.options.touchMove === !1) return _r_(!1);
if (_.animating === !0) return _.swipeLeft = null, _r_(!1);
_.setCSS(_.swipeLeft), _r_();
}, t.prototype.swipeStart = function(e) {
_i_("269:c769c4b1");
var t, i = this;
if (1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, _r_(!1);
void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX :e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY :e.clientY, i.dragging = !0, _r_();
}, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
_i_("269:02fdcdc5");
var e = this;
null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit()), _r_();
}, t.prototype.unload = function() {
_i_("269:ff1ea595");
var t = this;
e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden", "true").css("width", ""), _r_();
}, t.prototype.unslick = function() {
_i_("269:694228b1");
var e = this;
e.destroy(), _r_();
}, t.prototype.updateArrows = function() {
_i_("269:c5227483");
var e, t = this;
e = Math.floor(t.options.slidesToShow / 2), t.options.arrows === !0 && t.options.infinite !== !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow.removeClass("slick-disabled"), t.$nextArrow.removeClass("slick-disabled"), 0 === t.currentSlide ? (t.$prevArrow.addClass("slick-disabled"), t.$nextArrow.removeClass("slick-disabled")) :t.currentSlide >= t.slideCount - t.options.slidesToShow && t.options.centerMode === !1 ? (t.$nextArrow.addClass("slick-disabled"), t.$prevArrow.removeClass("slick-disabled")) :t.currentSlide >= t.slideCount - 1 && t.options.centerMode === !0 && (t.$nextArrow.addClass("slick-disabled"), t.$prevArrow.removeClass("slick-disabled"))), _r_();
}, t.prototype.updateDots = function() {
_i_("269:10e22fcf");
var e = this;
null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false")), _r_();
}, t.prototype.visibility = function() {
_i_("269:6b86169a");
var e = this;
document[e.hidden] ? (e.paused = !0, e.autoPlayClear()) :(e.paused = !1, e.autoPlay()), _r_();
}, e.fn.slick = function() {
_i_("269:48304cb3");
var e, i = this, n = arguments[0], o = Array.prototype.slice.call(arguments, 1), r = i.length, _ = 0;
for (_; r > _; _++) if ("object" == typeof n || "undefined" == typeof n ? i[_].slick = new t(i[_], n) :e = i[_].slick[n].apply(i[_].slick, o), "undefined" != typeof e) return _r_(e);
return _r_(i);
}, e(function() {
_i_("269:d4d747eb"), e("[data-slick]").slick(), _r_();
}), _r_();
}), function(e) {
_i_("269:025b2996"), e.hotel.GallerySettings = e.hotel.GallerySettings || {}, e.hotel.GallerySettings = {
slide:"div",
autoplay:!0,
autoplaySpeed:e.env.hp_gallery_autoplay_speed,
dots:!1,
easing:"swing",
fade:!0,
lazyLoad:e.env.hp_gallery_lazyload,
infinite:!0,
initialSlide:0,
pauseOnHover:!1,
speed:0,
keydownOverride:!0,
keydownSpeed:100,
slidesToShow:1,
centerMode:!0,
slidesToScroll:1,
rtl:e.env.rtl
}, _r_();
}(window.booking), function(e, t) {
_i_("269:3509c815");
var i = t.require("jquery"), n = t.require("hotel/utils/click-area"), o = !1, r = !1;
t.hotel.Gallery = function() {
_i_("269:4a70c8ad");
var _ = {
container:null,
gallery:null,
slides:[],
thumbs:[],
nav:null,
review:null,
activeSlide:null,
nextSlide:null,
counter:null,
isOldIE:"msie" === t.env.b_browser && t.env.b_browser_version < 10,
toPhotoID:t.env.b_hp_tophotoid || 0,
initSlide:0,
totalSlides:0,
defaultFadeSpeed:t.env.hp_gallery_fade_speed,
fadeSpeedOnHover:300,
currentSlide:0,
hoverTimer:0,
initTimer:0,
overrides:{},
options:{},
CLASS_THUMB:"hotel_thumbs_sprite",
CLASS_SELECTED_THUMB:"selected_thumb",
CLASS_GALLERY_CONTROL:"hp-gallery-control",
CLASS_GALLERY_SPECIAL_CONTROL:"hp-gallery-special-control",
CLASS_REVIEW_FLOATER:"nha_large_photo_reviewFloater",
CLASS_GALLERY_COUNTER:"js-hp-gallery__counter",
CLASS_COUNTER_CURRENT:"js-hp-gallery__counter__current",
CLASS_COUNTER_COUNT:"js-hp-gallery__counter__count",
CLASS_VISIBLE:"visible",
CLASS_HIDDEN:"hp-gallery__hidden",
EVENT_GALLERY_BEFORE_CHANGE:t.hotel.Events.Gallery.BEFORE_SLIDE_CHANGE,
EVENT_GALLERY_AFTER_CHANGE:t.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,
EVENT_GALLERY_AFTER_CHANGE_PERSISTENT:t.hotel.Events.Gallery.AFTER_SLIDE_CHANGE_PERSISTENT,
EVENT_GALLERY_INIT:t.hotel.Events.Gallery.INIT,
EVENT_GALLERY_HOVER_THUMB:t.hotel.Events.Gallery.THUMB_HOVER,
EVENT_GALLERY_NAVIGATE_MANUAL:t.hotel.Events.Gallery.NAVIGATE_MANUAL,
GOAL_CLICK_NAVIGATION:t.hotel.Goals.Gallery.CLICK_NAVIGATION,
GOAL_VIEW_ALL_PHOTOS:t.hotel.Goals.Gallery.VIEW_ALL_PHOTOS,
GOAL_HOVER_THUMB:t.hotel.Goals.Gallery.HOVER_THUMB,
trackingelem:i("#photo_wrapper"),
emitter:t.require("events"),
ga:t.require("ga-tracker"),
photosViewed:[],
trackedPhotosViewed:!1,
freezeThumbs:!1,
setup:function(e) {
_i_("269:4eabec2f");
var n = this;
n.container = e, n.gallery = n.container.find('[data-gallery=""]'), n.slides = n.gallery.children(), n.thumbs = n.container.find("a." + n.CLASS_THUMB), n.thumbs.length || (n.thumbs = i(".hp-main-gallery-thumbs a." + n.CLASS_THUMB)), n.nav = n.container.find("a." + n.CLASS_GALLERY_CONTROL), n.spNav = n.container.find("a." + n.CLASS_GALLERY_SPECIAL_CONTROL), n.review = n.container.find("div." + n.CLASS_REVIEW_FLOATER), n.counter = n.container.find("div." + n.CLASS_GALLERY_COUNTER), n.totalSlides = n.slides.length, n.initSlide = n.toPhotoID ? n.slides.index(n.slides.filter('[data-photoid="' + n.toPhotoID + '"]')) :0, n.defaultFadeSpeed = n.isOldIE ? 0 :t.env.hp_gallery_fade_speed, n.fadeSpeedOnHover = n.isOldIE ? 0 :300, n.overrides = {
initialSlide:n.initSlide,
speed:n.defaultFadeSpeed,
nextArrow:n.nav.filter('[data-nav="next"]'),
prevArrow:n.nav.filter('[data-nav="prev"]'),
waitForAnimate:!1,
autoplay:!0
}, n.options = i.extend({}, t.hotel.GallerySettings, n.overrides), n.initSlickEvents(), _r_();
},
initCornerNavigation:function() {
_i_("269:9d34eec1");
var e, o, r = this, _ = r.container.find(".hp-gallery"), a = r.container.find('[data-nav="next"]'), s = r.container.find('[data-nav="prev"]'), l = t.env.run_cinematic_gallery;
l ? (o = n.area(_, n.padding.bind(null, a, 30)), e = n.area(_, n.padding.bind(null, s, 30))) :e = n.area(_, function() {
return _i_("269:536cb6e9"), _r_({
width:.3 * _.width()
});
}, t.env.rtl);
var c = function(t) {
if (_i_("269:bf88383e"), !t || !t.target) return _r_();
var n = i(t.target);
if (n.is(".hp-gallery-control") || n.is(".gallery__last-item__cta") || n.parents(".hp-gallery-review").length) return _r_();
var r = t.pageX || t.originalEvent.touches[0].pageX, _ = t.pageY || t.originalEvent.touches[0].pageY;
e(r, _) ? (a.removeClass("h"), s.addClass("h")) :l ? o(r, _) ? (a.addClass("h"), s.removeClass("h")) :(a.removeClass("h"), s.removeClass("h")) :(a.addClass("h"), s.removeClass("h")), _r_();
};
_.on("mousemove", c), _.on("click", function(t) {
_i_("269:cb85ded7");
var n = i(t.target);
if (window.innerHeight && window.innerHeight < 700) return _r_();
if (n.parents(".hp-gallery-review").length) return _r_();
var _ = t.pageX || t.originalEvent.touches[0].pageX, d = t.pageY || t.originalEvent.touches[0].pageY;
if (e(_, d)) r.ga.trackEvent(r.ga.hotelPageTracker, "Gallery", "Corner Navigation Prev"), s.click(), setTimeout(function() {
_i_("269:5cf6098c"), c(t), _r_();
}, 50); else {
if (l) if (o(_, d)) a.click(); else {
if (n.hasClass("js-gallery__last-item__cta")) return _r_();
var h = r.gallery.slick("getSlick"), u = i(h.$slides[h.getCurrent()]), f = u.attr("data-photoid");
if ("last_item_cta" === f) {
var p = u.attr("data-slick-index");
return _r_(i(".bh-photo-modal").trigger("setPos", parseInt(p, 10)));
}
u.hasClass("hp-gallery__slide--landmark") && (f = u.attr("data-landmarkid")), i(".bh-photo-modal").trigger("openPhotoId", f);
} else a.click();
r.ga.trackEvent(r.ga.hotelPageTracker, "Gallery", "Corner Navigation Next"), setTimeout(function() {
_i_("269:5cf6098c1"), c(t), _r_();
}, 50);
}
_r_();
}), _.on("mouseout", function() {
_i_("269:b3e1ea7e"), a.removeClass("h"), s.removeClass("h"), _r_();
}), _r_();
},
initSlickEvents:function() {
_i_("269:e3dfb972");
var e = this;
e.gallery.bind("init", function(i, n) {
_i_("269:618ca67d"), e.initControls(), e.setupCounter(), e.trackGoals("autoplay", e.currentSlide), e.updatePhotosViewed(e.initSlide), e.freezeThumbs || e.highlightThumb(n.$slides.eq(e.initSlide).attr("data-photoid")), e.bindEmitterEvents(n), t.env.b_run_hp_gallery_corner_navigation && e.initCornerNavigation(), t.hotel.Gallery.slick = n, e.emitter.trigger(e.EVENT_GALLERY_INIT, [ e ]), _r_();
}).bind("beforeChange", function(i, n, o, r) {
_i_("269:d4d3dd1e");
var _;
e.activeSlide = e.slides.eq(o), e.nextSlide = e.slides.eq(r), _ = e.nextSlide.attr("data-gallery-pause"), "true" === _ ? e.gallery.slick("slickPause") :e.gallery.slick("slickPlay"), e.updatePhotosViewed(r), e.highlightThumb(n.$slides.eq(r).attr("data-photoid"), !0), e.updateCounter(r + 1);
var a = !0, s = n.$slides.index(e.activeSlide), l = n.$slides.index(e.nextSlide);
(s > l || l === n.$slides.length - 1 && 0 === s) && (a = !1), e.emitter.trigger(t.hotel.Events.ReviewFloater.FORCE_SLIDE, [ a ]), e.emitter.trigger(e.EVENT_GALLERY_BEFORE_CHANGE, [ i, n, e.activeSlide, e.nextSlide ]), _r_();
}).bind("afterChange", function(i, n, o) {
_i_("269:2e28b39a"), e.activeSlide = e.slides.eq(o), t.env.b_gallery_slide_onview && e.trackSlideView(), e.trackGoals(e.GOAL_VIEW_ALL_PHOTOS), e.emitter.trigger(e.EVENT_GALLERY_AFTER_CHANGE, [ i, n, e.activeSlide ]), e.emitter.trigger(e.EVENT_GALLERY_AFTER_CHANGE_PERSISTENT, [ i, n, e.activeSlide ]), _r_();
}).bind("reInit", function(t, i) {
_i_("269:933516d7"), e.counter.length && e.updateCounter(i.getCurrent() + 1, i.slideCount), _r_();
}), e.run(), _r_();
},
initControls:function() {
_i_("269:13ec3f0d");
var n = this;
n.gallery.add(n.nav).add(n.spNav).add(n.review).bind("mouseenter", function() {
_i_("269:25609533"), n.nav.addClass(n.CLASS_VISIBLE), n.gallery.slick("slickSetOption", "speed", n.fadeSpeedOnHover), _r_();
}).bind("mouseleave", function() {
_i_("269:75e2fabc"), n.nav.removeClass(n.CLASS_VISIBLE), n.gallery.slick("slickSetOption", "speed", n.defaultFadeSpeed), _r_();
}), n.nav.bind("click", function() {
return _i_("269:377bacf2"), n.navigate(n, this), _r_(!1);
}).bind("click.tracking", function() {
_i_("269:0fa75beb"), n.trackGoals(n.GOAL_CLICK_NAVIGATION), _r_();
}), n.spNav.bind("click mouseenter", function(t) {
_i_("269:5c561d2e"), t.preventDefault(), n.nav.addClass(n.CLASS_VISIBLE);
var i = this, o = "click" === t.type ? 0 :300;
clearTimeout(n.hoverTimer), n.hoverTimer = e.setTimeout(function() {
_i_("269:38cec14f"), n.navigate(n, i), _r_();
}, o), n.gallery.slick("slickSetOption", "speed", n.fadeSpeedOnHover), _r_();
}).bind("mouseleave", function() {
_i_("269:c4cfe6f2"), n.gallery.slick("slickSetOption", "speed", n.defaultFadeSpeed), clearTimeout(n.hoverTimer), _r_();
}), n.thumbs.bind("mouseenter click", function(t) {
_i_("269:2c02c32c");
var o, r, _, a = i(this), s = "click" === t.type ? 0 :300;
function l() {
_i_("269:f40d3f97"), o = a.attr("data-photoid"), r = n.slides.filter('[data-photoid="' + o + '"]'), _ = n.gallery.slick("getSlick"), n.gallery.slick("slickSetOption", "speed", n.fadeSpeedOnHover), n.gallery.slick("slickGoTo", _.$slides.index(r.get(0))), _r_();
}
if (i('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length) return "click" === t.type && (t.stopImmediatePropagation(), n.freezeThumbs = !0, o = a.attr("data-photoid"), r = n.slides.filter('[data-photoid="' + o + '"]'), _ = n.gallery.slick("getSlick"), n.gallery.slick("slickGoTo", _.$slides.index(r.get(0)) + 1), n.freezeThumbs = !1, i('.hp-gallery-navigation-link[data-toggle="hp-gallery-main"]').click(), l()), _r_(!1);
clearTimeout(n.hoverTimer), n.hoverTimer = e.setTimeout(function() {
_i_("269:1ca3baff"), l(), _r_();
}, s), _r_();
}).bind("mouseleave", function() {
_i_("269:c4cfe6f21"), n.gallery.slick("slickSetOption", "speed", n.defaultFadeSpeed), clearTimeout(n.hoverTimer), _r_();
}).bind("mouseenter.tracking click.tracking", function() {
_i_("269:0d306651"), n.trackGoals(n.GOAL_HOVER_THUMB), _r_();
}), n.container.on("mouseenter.pause", "div.hp-gallery-thumbs", function() {
_i_("269:7cadc1e6"), n.gallery.slick("slickSetOption", "autoplaySpeed", 1e7), n.gallery.slick("slickPause"), _r_();
}).on("mouseleave.pause", "div.hp-gallery-thumbs", function() {
_i_("269:8ae4e173"), n.gallery.slick("slickSetOption", "autoplaySpeed", t.env.hp_gallery_autoplay_speed), n.gallery.slick("slickPlay"), _r_();
}), n.emitter.on(t.hotel.Events.ReviewFloater.MOUSE_ENTER, function() {
_i_("269:b3ddebdc"), n.gallery.slick("slickSetOption", "autoplaySpeed", 1e7), n.gallery.slick("slickPause"), _r_();
}), n.emitter.on(t.hotel.Events.ReviewFloater.MOUSE_LEAVE, function() {
_i_("269:04ce35ec"), n.gallery.slick("slickSetOption", "autoplaySpeed", t.env.hp_gallery_autoplay_speed), n.gallery.slick("slickPlay"), _r_();
}), _r_();
},
bindEmitterEvents:function(e) {
_i_("269:98f3b3c5");
var t = this;
t.emitter.on("main-tab-opened", function() {
_i_("269:53a6a762"), e && e.setPosition(), _r_();
}), _r_();
},
highlightThumb:function(e, t) {
_i_("269:0ac3ac3d");
var n = this;
if (i('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length && !t) return _r_();
n.thumbs.filter("." + n.CLASS_SELECTED_THUMB).removeClass(n.CLASS_SELECTED_THUMB), e && n.thumbs.filter('[data-photoid="' + e + '"]').addClass(n.CLASS_SELECTED_THUMB), _r_();
},
getThumb:function(e) {
_i_("269:2e2c8f0e");
var t = this, i = t.gallery.slick("getSlick"), n = i.$slides.eq(e).attr("data-photoid");
if (n) return _r_(t.thumbs.filter('[data-photoid="' + n + '"]'));
_r_();
},
updatePhotosViewed:function(e) {
_i_("269:b6dcdaca");
var t = this;
void 0 !== typeof e && -1 === i.inArray(e, t.photosViewed) && t.photosViewed.push(e), t.trackGoals(t.GOAL_VIEW_ALL_PHOTOS), _r_();
},
setupCounter:function() {
_i_("269:b233af42");
var e = this;
e.counter.length && e.counter.find("span." + e.CLASS_COUNTER_CURRENT).text(e.initSlide + 1).end().find("span." + e.CLASS_COUNTER_COUNT).text(e.totalSlides).end().removeClass(e.CLASS_HIDDEN), _r_();
},
updateCounter:function(e, t) {
_i_("269:8eb588b3");
var i = this;
e && i.counter.find("span." + i.CLASS_COUNTER_CURRENT).text(e), t && i.counter.find("span." + i.CLASS_COUNTER_COUNT).text(t), _r_();
},
navigate:function(e, t) {
_i_("269:effce611");
var i, n, o;
t.hasAttribute("data-jumpto-photoid") && (i = t.getAttribute("data-jumpto-photoid"), n = e.slides.filter('[data-photoid="' + i + '"]'), o = e.gallery.slick("getSlick"), e.gallery.slick("slickSetOption", "speed", e.fadeSpeedOnHover), e.gallery.slick("slickGoTo", o.$slides.index(n.get(0)))), _r_();
},
trackGoals:function(e, i) {
_i_("269:2339c380");
var n = this;
switch (e) {
case n.GOAL_CLICK_NAVIGATION:
o || (n.emitter.trigger(n.GOAL_CLICK_NAVIGATION), o = !0), t.env.b_save_user_hotel_interactions ? t.require("hotel/track/goals_sort_hotel_history").track(n.GOAL_CLICK_NAVIGATION) :n.nav.unbind("click.tracking");
break;

case n.GOAL_VIEW_ALL_PHOTOS:
n.trackedPhotosViewed || n.photosViewed.length !== n.totalSlides || (n.emitter.trigger(n.GOAL_VIEW_ALL_PHOTOS), n.trackedPhotosViewed = !0);
break;

case n.GOAL_HOVER_THUMB:
r || (n.emitter.trigger(n.GOAL_HOVER_THUMB), r = !0), t.env.b_save_user_hotel_interactions ? t.require("hotel/track/goals_sort_hotel_history").track(n.GOAL_HOVER_THUMB) :n.thumbs.unbind("mouseenter.tracking click.tracking");
break;

default:
n.trackingelem.trigger(e, i);
}
_r_();
},
parseTrackOption:function(e) {
if (_i_("269:af71e15a"), "string" === i.type(e) && (e = i.trim(e), e.length)) {
var t, n, o = e.match(/^(.+)(__|:)([1-9])$/), r = e;
return o && (":" === o[2] ? n = o[3] :t = o[3], r = o[1]), _r_({
hash:r,
customGoal:t,
stage:n
});
}
return _r_(e);
},
trackSlideView:function() {
_i_("269:8bb7beaf");
var e, n = this, o = n.activeSlide.data("track-slide-view"), r = [];
if (o) {
r = i.trim(o).split(",");
for (var _ = 0; _ < r.length; _++) e = n.parseTrackOption(r[_]), e.stage ? t.et.stage(e.hash, e.stage) :e.customGoal ? t.et.customGoal(e.hash, e.customGoal) :t.et.track(e.hash);
}
_r_();
},
run:function() {
_i_("269:55ad4f3e");
var t = this;
t.initTimer = e.setTimeout(function() {
_i_("269:07afbddd"), t.gallery.slick(t.options), _r_();
}, 0), _r_();
}
};
return _r_({
init:function(e) {
_i_("269:f87a4234"), _.setup(e), _r_();
},
slick:null
});
}(), i(function() {
_i_("269:361f6e16");
var e = i("div.hp-gallery-container");
e.length && t.hotel.Gallery.init(e), _r_();
}), _r_();
}(window, window.booking), function() {
_i_("269:8d84e197");
var e, t, i, n, o, r = window.booking, _ = r.require("jquery"), a = r.require("events"), s = 1e4, l = !1, c = _(".hp_floater_popout, .reviews-carousel").length >= 2, d = function() {
if (_i_("269:92a87d84"), !c) return _r_();
var e = _(window).width(), t = r.env.b_lang;
return _r_("zh" !== t && e >= 1504 || "zh" === t && e >= 1532);
};
function h() {
_i_("269:e00a1652"), n.length && (i.bind("afterChange", f), n.length && _(".js-gallery__last-item__cta").bind("click", m)), c && (i.bind("afterChange", function(e, t) {
_i_("269:496e5b13"), u(t), _r_();
}), _(window).resize(function() {
_i_("269:79bbaacb");
var e = r && r.hotel && r.hotel.Gallery && r.hotel.Gallery.slick;
e && u(e), _r_();
})), _r_();
}
function u(e) {
if (_i_("269:0818f706"), t) if (d()) t.removeClass("g-hidden"); else {
var i = e && e.currentSlide + 1 === e.slideCount;
i ? t.addClass("g-hidden") :t.removeClass("g-hidden");
}
_r_();
}
function f(e, t, i) {
_i_("269:8d579fa1");
var n = _(this), o = t && t.slideCount === i + 1;
o ? p(n) :l && b(n), _r_();
}
function p(e) {
_i_("269:c59ddbf7"), a.emit(r.hotel.Events.Gallery.ON_CTA_SLIDE), e.slick("slickPause"), "hotel" === r.env.b_action && "www" === r.env.b_site_type && (l = setTimeout(function() {
_i_("269:434d7bf2"), b(e), e.slick("slickNext"), _r_();
}, s)), _r_();
}
function b(e) {
_i_("269:ac506d0e"), a.emit(r.hotel.Events.Gallery.OFF_CTA_SLIDE), l && (clearTimeout(l), l = !1), e.slick("slickPlay"), _r_();
}
function m(e) {
_i_("269:77f2a018");
var t = o ? "a[name=availability]" :"#available_rooms", i = 500;
_("html").animate({
scrollTop:_(t).offset().top
}, i), _r_();
}
_(function() {
_i_("269:e51cc8ad"), o = !r.env.b_has_valid_dates, e = _("div.hp-gallery"), i = e.find(".hp-gallery-slides"), t = e.find(".hp-gallery-review"), n = i.find(".js-gallery__last-item"), h(), _r_();
}), _r_();
}(), function(e, t) {
_i_("269:a50a45e3"), t(function() {
_i_("269:ebbc4a7f"), t("#photo_wrapper").on("click", ".gallery-info__rn,.gallery-info__fc,.gallery-info__um", function(i) {
_i_("269:28586614");
var n = t(i.target);
i.stopPropagation(), n.data("stopPropagation") && i.stopPropagation(), n.data("triggerEvent") && setTimeout(function() {
_i_("269:5c527d6c"), String(n.data("triggerEvent")).split(/ +/).forEach(function(i) {
_i_("269:11d1e769"), e.events.emit(t.trim(i)), _r_();
}), _r_();
}, 0);
var o, r = n.parents(".slick-slide"), _ = r.data("room-id"), a = r.data("is-group-recommendation"), s = e.env.b_hp_sticky_offset || 0;
if (!_) return _r_();
if (a ? o = t(".hp-group_recommendation__title") :(e.env.is_rooms_table_rewrite ? s = t(".hprt-table").find("> thead:not(.sticked-placeholder)").height() || 30 :s += t(".roomstable").find("> thead:not(.sticked-placeholder)").height() || 30, o = t('a[name="RD' + _ + '"]')), !o.length) return _r_();
if (!a) {
var l = t("[name=RD" + _ + "]").parents(".hprt-table-cell").first(), c = "roomType--highlight hprt-table-cell-roomtype--active";
t(".hprt-table").find(".hprt-table-cell.-first").removeClass(c).removeClass("roomType--highlight"), l.addClass(c);
}
t("html, body").animate({
scrollTop:o.offset().top - s
}, 1e3), _r_();
}), _r_();
}), _r_();
}(window.booking, window.jQuery), function() {
_i_("269:f2704e48");
var e = B.require("jquery"), t = "hp-gallery-navigation-link--selected", i = e(".hp-gallery-navigation");
if (i.length > 0) {
var n = e(".hp-main-gallery-wrapper"), o = i.find(".hp-gallery-navigation-link");
i.on("click", ".hp-gallery-navigation-link", function(i) {
_i_("269:7c839aa5"), i.preventDefault();
var r = this, _ = e(this).data("toggle");
o.filter(function() {
return _i_("269:1362126a"), _r_(!e(this).is(r));
}).removeClass(t), e(this).addClass(t), n.filter(function() {
return _i_("269:28d37372"), _r_(!e(this).hasClass(_));
}).hide(), n.filter(function() {
return _i_("269:ef7440cf"), _r_(e(this).hasClass(_));
}).show(), _r_();
});
}
_r_();
}(), function(e) {
_i_("269:7d942b17");
var t = e.require("jquery");
t(function() {
_i_("269:b003e05f");
var i = 0, n = [], o = t(".reviews-carousel"), r = o.find(".reviews-carousel-scroll"), _ = o.find(".althotelsDiv2"), a = t(".large_image_slider"), s = e.require("events"), l = _.length - 1, c = !1, d = !1;
function h() {
_i_("269:cae5b7e1"), n = [], _.each(function() {
_i_("269:b272a8ea"), n.push(t(this).position().left), _r_();
}), _r_();
}
function u() {
_i_("269:9414a7c9"), r.css(e.env.rtl ? {
"margin-right":(n[i] || 0) + "px"
} :{
"margin-left":(-1 * n[i] || 0) + "px"
}), _r_();
}
function f() {
_i_("269:fcd59aa9"), e.env.hp_reviewFloaterLoaded = !0, s.trigger(e.hotel.Events.ReviewFloater.LOADED), _r_();
}
var p = function() {
_i_("269:4a020700"), h(), (n.length <= 1 || n.length > 1 && 0 !== n[1]) && (p = Function()), _r_();
};
if (window.location.hash && /tab\-reviews|tab\-4/.test(window.location.hash)) s.on("main-tab-opened", function() {
_i_("269:8f71bee8"), n.length > 1 && 0 === n[1] && (p(), u(), f()), _r_();
}); else {
var b = function() {
_i_("269:10fbb1d0"), _.is(":visible") ? (p(), u(), f()) :setTimeout(b, 200), _r_();
};
_.length > 0 && setTimeout(b, 200);
}
var m = function(n) {
_i_("269:11bc8fa3");
var o = i, r = "right";
n && "currentTarget" in n ? t(n.currentTarget).hasClass("reviews-carousel-control-left") && (r = "left") :n && !n[0] && (r = "left"), i = "left" === r ? 0 === i ? l :i - 1 :i === l ? 0 :i + 1;
var a = _.eq(o), c = _.eq(i);
a.css({
opacity:0
}), c.css({
opacity:1
}), p(), u(), s.trigger(e.hotel.Events.ReviewFloater.SLIDE, [ r, i, l ]), _r_();
};
o.bind("mouseenter", function(t) {
_i_("269:d6c574b4"), d = !0, s.trigger(e.hotel.Events.ReviewFloater.MOUSE_ENTER, [ t ]), _r_();
}).bind("mouseleave", function(t) {
_i_("269:5d9434bd"), d = !1, e.env.is_bh_property_page || (c = !1), s.trigger(e.hotel.Events.ReviewFloater.MOUSE_LEAVE, [ t ]), _r_();
}), o.delegate(".reviews-carousel-control", "mouseover", function(i) {
_i_("269:0b078b21"), i.stopPropagation(), d || e.env.is_bh_property_page || (c = !0), a.hide(), t(i.currentTarget).addClass("reviews-carousel-hover"), _r_();
}).delegate(".reviews-carousel-control", "mouseleave", function(e) {
_i_("269:114d2f49"), t(e.currentTarget).removeClass("reviews-carousel-hover"), _r_();
}).delegate(".reviews-carousel-control", "click", m), s.on(e.hotel.Events.ReviewFloater.FORCE_SLIDE, function(e) {
_i_("269:a70f4669"), c || m(e), _r_();
}), _r_();
}), _r_();
}(window.booking), function() {
if (_i_("269:6644d47f"), !B.env.b_run_hp_fixed_review_height) return _r_();
var e = $("#reviewFloater, #ph-reviewFloater"), t = e.find(".althotelsReview2 span"), i = 100, n = 85;
t.each(function() {
_i_("269:683797b6");
var e, t, o, r = $(this), _ = $.trim(r.text()), a = r.css("height", "auto").height();
a > n && (o = a / n, _ = _.slice(0, Math.floor(_.length / o)), t = _.match(/(\w+)\s/g), t && (t = t.slice(-1)[0], _ = _.slice(0, _.lastIndexOf(t) + t.length)), r.text(_ + "…"), e && e.length && (r.append(e), B.et.initAttributesTracking(e))), r.css("height", i + "px"), _r_();
}), e.removeClass("fixed_review_container_not_ready"), _r_();
}(), function(e) {
_i_("269:235ac897");
var t = e.require("jquery"), i = !1;
function n() {
_i_("269:068cdbbb");
var n;
if (i) return _r_();
t("#maxotel_rooms tbody tr").length > 4 && (n = e.require("booking-sticker"), o(n), r(n), e.events.on(e.hotel.Events.RT.ROOM_SELECTED, function() {
_i_("269:1cb2dcef"), window.setTimeout(n.update, 5), window.setTimeout(n.update, 10), _r_();
}), 2 === n.stickedElements.length && (i = !0)), _r_();
}
function o(t) {
_i_("269:b330c044");
var i = new t(), n = {};
e.env.b_hp_sticky_offset && (n.initialOffset = e.env.b_hp_sticky_offset), i.init("#maxotel_rooms thead", "#maxotel_rooms", n), _r_();
}
function r(t) {
_i_("269:9a1c12c5");
var i = new t(), n = {};
e.env.b_hp_sticky_offset && (n.initialOffset = e.env.b_hp_sticky_offset), i.init(".bookNowWrap", "#bookNow1", n), _r_();
}
function _() {
_i_("269:0371f993"), e.events.on("main-tab-opened", function() {
_i_("269:b30d5a2a"), i || n(), _r_();
}), _r_();
}
e.when({
events:"ready"
}).run(function(i) {
_i_("269:a15bc8ae");
var o = "hotel" === e.env.b_action && e.env.b_bookings_owned && e.env.b_has_maxotel_rooms && t("#maxotel_rooms").length;
o && (n(), _()), _r_();
}), _r_();
}(booking), function() {
_i_("269:14816284"), B.when({
events:"ready"
}).run(function(e) {
_i_("269:82af63a3");
var t = e("jquery"), i = {
priority:2,
urg_msgs:{},
init:function() {
_i_("269:75c5f37a");
var e = !1, i = this;
!function() {
_i_("269:20157b31"), e = !1, t(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function() {
_i_("269:b9954e35"), 0 != parseInt(t(this).val()) && (e = !0), _r_();
}), e ? t("#bookNow1 .book_now_best_price_reinforcement").show() :t("#bookNow1 .book_now_best_price_reinforcement").hide(), _r_();
}(), t(".b_available_multi_room_price, .b_available_multi_room_price_single").change(function() {
_i_("269:69412ffc"), e = !1, t(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function() {
_i_("269:9b7d4fbf"), 0 == parseInt(t(this).val()) || t(this).hasClass("free_cancellation_trigger") || (e = !0), _r_();
}), e ? (t("#bookNow1 .book_now_best_price_reinforcement").show(), t("#book_now_free_cancellation_reinforcement").hide()) :t("#bookNow1 .book_now_best_price_reinforcement, #mbnbb div.book_now_best_price_reinforcement").hide(), i.getFilterPrice(this), _r_();
});
var n = this;
t(".b_available_multi_room_price_single").change(function() {
_i_("269:28cfe589"), n.updateUrgencyMsg(this, "room_single"), _r_();
}), t(".b_available_multi_room_price").change(function() {
_i_("269:9ce421b1"), n.updateUrgencyMsg(this, "room_double"), _r_();
}), _r_();
},
getFilterPrice:function() {
if (_i_("269:4cc8290b"), t("#pr_filter").length && t("#pr_filter_range").length) {
var e = t("#pr_filter").val();
if (e.indexOf(",") > -1) {
var i = e.split(",")[0], n = e.split(",")[1];
t("#pr_filter_range").val("0"), isNaN(i) || isNaN(n) || t("select.b_room_selectbox").each(function() {
if (_i_("269:81fa93f9"), t(this).val() > 0) {
var e = parseInt(t(this).attr("data-price-avg-filter").replace(/[^0-9.]/g, ""));
e >= parseInt(i) && e <= parseInt(n) && t("#pr_filter_range").val("1");
}
_r_();
});
}
}
_r_();
},
updateUrgencyMsg:function(e, i) {
_i_("269:274bbe8c");
var n, o = e.getAttribute("data-relid"), r = t("#" + o);
if (0 !== r.length) {
var _, a;
_ = a = parseInt(e.value, 10), r.attr("data-meta") || r.attr("data-meta", r.html()), "undefined" != typeof this.urg_msgs[o] ? "room_single" === i && this.urg_msgs[o].room_double ? _ += parseInt(this.urg_msgs[o].room_double, 10) :"room_double" === i && this.urg_msgs[o].room_single && (_ += parseInt(this.urg_msgs[o].room_single, 10)) :this.urg_msgs[o] = {}, this.urg_msgs[o][i] = a;
var s = parseInt(e.getAttribute("data-roomsleft"), 10) - _;
if (0 >= s) r.fadeOut(); else {
if (s == t("option", e).length - 1 && r.attr("data-meta")) var l = r.attr("data-meta"); else {
var l = booking.env.x_left_rate[s - 1];
n = r.attr("data-um-trans"), n && s && ("persuasion_hp_high_demand" == n || "persuasion_hp_high_demand_compliant" == n) && (l = B.jstmpl.translations(n, s, {
num_room:s,
amountRooms:s,
num_left:s
}));
}
r.hide().html(l).fadeIn("slow");
}
}
_r_();
}
};
i.init(), _r_();
}), _r_();
}(), function(e) {
_i_("269:5313f0ea"), e.when({
events:"ready"
}).run(function(t) {
_i_("269:130fda4c");
var i = t("jquery"), n = i(".js--jackpot-msg");
e.events.on("HP:RT:RoomSelectChanged", function(t) {
_i_("269:1c17da05");
var o;
if (t && t.totalSelectedRooms && t.originalEvent && t.originalEvent.target && (o = i(t.originalEvent.target).attr("data-rc")), !o) return _r_();
n.length && (o > 1 ? e.env.b_less_shouty_persuasion ? n.text(e.jstmpl.translations("dd_hp_rt_noshout_hp_rt_jackpot_best_price")) :n.text(e.jstmpl.translations("hp_rt_jackpot_best_price")) :e.env.b_dehotelized_scarcity_messages ? n.text(e.jstmpl.translations("bh_fun_scarcity_mup_jackpot_dehotelize")) :e.env.b_hide_scarcity_messages || n.text(e.jstmpl.translations("hp_rt_jackpot_last_room"))), _r_();
}), _r_();
}), _r_();
}(booking), function() {
_i_("269:f76a9536");
var e, t, i, n, o, r, _ = B.require("jquery");
function a(e) {
_i_("269:edb18233");
var t = "•";
return _r_(_.grep(e.split(t), function(e) {
return _i_("269:ec68a178"), _r_("" !== e);
}));
}
function s(e) {
_i_("269:cb19fd23");
var o = t.filter(function() {
return _i_("269:e186b7b9"), _r_("0" !== _(this).val());
});
if (1 === o.length) {
var r = o.parents('tr[class^="room_loop_counter"]'), a = r.find(".destination_budgets_notification_container div");
a.length && e.push(a.text());
}
if (e) {
var s, l = "", c = e.length;
for (s = 0; c > s; s++) "" !== _.trim(e[s]) && (l += "<li><span>" + e[s] + "</span></li>");
n.html(l), i.addClass("show");
} else n.empty(), i.removeClass("show");
_r_();
}
function l(e) {
_i_("269:134edd50");
for (var t = {}, i = [], n = 0, o = e.length; o > n; ++n) {
if (t.hasOwnProperty(e[n])) continue;
i.push(e[n]), t[e[n]] = 1;
}
return _r_(i);
}
function c(e) {
if (_i_("269:bb52d524"), 1 === l(e).length) return _r_(!0);
return _r_(!1);
}
function d() {
_i_("269:8c00ed9b");
var e, o, r, a = t.filter(function() {
return _i_("269:8c97ba65"), _r_("0" !== _(this).val());
});
1 === a.length ? (e = a.parents('tr[class^="room_loop_counter"]'), o = e.find("ul.hp-rt__policy-list"), o.length && (n.html(o.html()), n.find(".jq_tooltip").removeClass("jq_tooltip").removeAttr("data-title title"), n.find(".g-hidden").removeClass("g-hidden"), r = n.find(".green_condition"), r.length && r.removeClass("green_condition"), i.addClass("show"))) :(n.empty(), i.removeClass("show")), _r_();
}
function h() {
if (_i_("269:efc0577b"), t.filter(function() {
return _i_("269:e186b7b91"), _r_("0" !== _(this).val());
}).length) {
var e = [];
t.filter(function() {
return _i_("269:8c97ba651"), _r_("0" !== _(this).val());
}).each(function() {
_i_("269:a51ff9ff");
var t = _(this).parents('tr[class^="room_loop_counter"]'), i = t.find(".ico_policy_info > span").text();
e.push(i), _r_();
}), c(e) ? s(a(e[0])) :s();
} else s();
_r_();
}
function u() {
_i_("269:b6c87c14"), e = _("#maxotel_rooms.conditions_summary"), t = e.find(".b_room_selectbox"), i = e.find("div.rt_conditions_summary"), n = _("#rt_conditions_summary_list"), o = e.find("ul.hp-rt__policy-list"), r = o.length ? d :h, _r_();
}
function f() {
_i_("269:6557426a"), u(), _("#rooms_table").on("change", ".b_room_selectbox", function(e) {
_i_("269:38fc854e"), r(), n.loadComponents(), B.events.trigger("HP:RT:RoomSelectChanged", {
originalEvent:e,
totalSelectedRooms:[].slice.call(t, 0).reduce(function(e, t) {
return _i_("269:3a41c52b"), _r_(+t.value + e);
}, 0)
}), _r_();
}), _r_();
}
_(f), _r_();
}(), function() {
_i_("269:e047178f");
var e, t = window.booking, i = t.require("jquery"), n = "rt__room-selection--not-selected", o = !1;
function r() {
_i_("269:3306159e"), e.addClass(n), o = !0, _r_();
}
function _() {
_i_("269:4e49a7ac"), o && (e.removeClass(n), o = !1), _r_();
}
function a() {
_i_("269:77d5061e"), t.events.on(t.hotel.Events.RT.ROOM_SELECTED, _), t.events.on(t.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT, r), _r_();
}
t.when({
events:"ready"
}).run(function(n) {
if (_i_("269:a432d2ea"), !t.env.b_has_maxotel_rooms) return _r_();
e = i(".roomMultiRoomPrice"), a(), _r_();
}), _r_();
}(), function() {
_i_("269:2ce1b57c");
var e = window.booking, t = e.require("jquery");
function i() {
return _i_("269:3ebecbd5"), _r_(!t(".b_room_selectbox").find("option:selected").filter("[value!=0]").length);
}
function n() {
_i_("269:4ab4e9eb"), i() && e.events.emit(e.hotel.Events.RT.NO_ROOM_SELECTED), _r_();
}
e.when({
events:"ready"
}).run(function(e) {
_i_("269:aa8cec2f"), t("#rooms_table").on("click", ".js-rt__summary__reserve-button", n), _r_();
}), _r_();
}(), B.when({
events:"ready"
}).run(function(e) {
_i_("269:99a69858");
var t = e("jquery");
t("#rooms_table").on("change", ".b_room_selectbox", function() {
_i_("269:13d0d216");
var e = t(this), i = e.find(":selected"), n = {
room_id:e.data("roomid"),
roomrate_id:e.data("roomrateid"),
block_id:e.data("block-id"),
price:e.data("price"),
raw_total_price:i.attr("data-price-raw"),
formatted_total_price:i.attr("data-price-without-addons"),
no_rooms:e.val(),
max_adults:e.closest("tr").find(".roomMaxPersons").attr("data-occupancy-for-tracking"),
has_genius_rate:e.data("has-genius-rate"),
has_a_deal:e.data("has-a-deal"),
$el:e
};
booking.events.emit(booking.hotel.Events.RT.ROOM_SELECTED, n), _r_();
}), _r_();
}), function() {
_i_("269:47cc724b");
var e = B.require("jquery");
B.when({
events:"ready"
}).run(function(t) {
if (_i_("269:8597cafb"), !e("#maxotel_rooms.hp_rt_cleanup").length) return _r_();
var i = e("#rooms_table"), n = e("#bookNow1"), o = i.find(".b_room_selectbox");
i.on("change", ".b_room_selectbox", function() {
_i_("269:b700ab12");
var t = o.filter(function() {
return _i_("269:1a984f16"), _r_(0 != e(this).val());
}), i = e(this);
i.hasClass("b_available_multi_room_price_single") && (this.value > 0 ? e("#roomsForm").append('<input type="hidden" value="1" name="is_single_occ" id="is_single_occ">') :e("#is_single_occ").remove()), t.length ? fminit(n) :fminit(n, !0, "#fff", [ 255, 255, 255 ], [ 255, 255, 255 ]), _r_();
}), _r_();
}), _r_();
}();

function validate(e) {
_i_("269:8c53077a");
var t = document.getElementById("errorNoRoomSelected");
2 == e && (t = document.getElementById("errorNoRoomSelected2"));
var i = $("#maxotel_rooms");
if (!i.find(".b_room_selectbox").filter(function() {
return _i_("269:0155e83c"), _r_(0 != $(this).val());
}).length) {
B.events.emit(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT);
var n = B.require("hotel/rooms_table/select_room_tooltip_alert");
n.resetMessage(), n.showMessage(), i.hasClass("highlight_rooms") && fminit($(".roomMultiRoomPrice"), !0, "#FFF", [ 255, 255, 255 ]), i.find("select").change(function() {
_i_("269:ad41fcc6"), 0 != this.value && (t.style.display = "none", $("p.nopad").remove()), _r_();
});
var o = B.require("ga-tracker");
return o.trackEvent(o.errorTracker, "JavaScript", "please_select_one_or_more_rooms"), _r_(!1);
}
return "msie" === B.env.b_browser && B.env.b_browser_version < 10 || "zh-cn" !== B.env.b_selected_language || "cn" !== B.env.ip_country || ($("#individualrooms").addClass("roomstable_usp_overlay"), $(".roomstable_usp_overlay__container").stick_in_parent({
offset_top:100
}), setTimeout(function() {
_i_("269:94348524"), $("#rooms_table").off("submit", "#roomsForm"), $("#roomsForm").submit(), _r_();
}, 0)), _r_(!0);
}

!function(e) {
_i_("269:d87cd298");
var t = e.require("jquery");
t(function() {
_i_("269:bf685020"), t("#rooms_table").on("submit", "#roomsForm", validate), _r_();
}), _r_();
}(window.booking), function() {
_i_("269:5fceaf1e"), B.when({
events:"ready"
}).run(function(e) {
_i_("269:7ce0df7a");
var t = B.require("jquery"), i = t("#maxotel_rooms"), n = i.find(".b_room_selectbox"), o = i.find("#booking-summary"), r = 0, _ = i.find(".rt_pricedetails_above_button"), a = {
active:!1,
str:""
}, s = {
calculate:function() {
_i_("269:fafb29fe");
var e, i, o, _ = 0, s = 0, l = function(e) {
return _i_("269:5c4f9518"), _r_(e.replace(".", "\\."));
}, c = new RegExp(l(".") + "[0-9]{1,3}$"), d = [];
return n.each(function() {
_i_("269:e6fffe86"), e = t(this).find("option:selected");
var n = parseInt(e.val(), 10);
if (n) {
var l = e.parent().attr("data-rtid");
r = l ? parseInt(l, 10) :0;
var h = 29 == r || 31 == r || 1 == r || 17 == r || 19 == r || 26 == r;
h || (r = 0), "undefined" != typeof o || d.length ? t(d).each(function(e) {
_i_("269:7b864d0a"), d[e] != r && d.push(r), _r_();
}) :d.push(r);
var u = {
29:"hh",
31:"villa",
1:"apt",
17:"chalet",
19:"bungalow",
26:"bed"
};
h ? (a.active = !0, a.str = u[r]) :(a.active = !1, a.str = "");
}
_ += parseInt(e.val(), 10), parseInt(e.val(), 10) && (i = e.data("price-raw").toString(), i && (s += c.test(i) ? parseFloat(i) :parseInt(i, 10))), _r_();
}), d.length > 1 && (a.active = !1), booking.env.no_rooms_selected = _, _r_({
count:_,
totalPrice:s
});
},
updateColumn:function() {
_i_("269:0fb6d782");
var e, n, r = this.calculate(), s = r.count > 10 ? i.data("translation-10") :i.data("translation-" + r.count), l = t("#availability_target").find(".ar_notice");
if (r.count) {
if (r.count < 11 && a.active && i.data("translation-" + a.str)) {
var c = r.count > 10 ? i.data("translation-10") :i.data("translation-" + a.str), d = c ? c.replace(/'/g, '"') :"", h = t.parseJSON(d);
s = h["count-" + r.count];
}
s = s.replace(/\d+/, "<strong>" + r.count + "</strong>"), e = booking.utils.accounting.formatMoney(r.totalPrice), n = {
price:e,
nr_rooms:r.count,
rawPrice:r.totalPrice
}, B.events.emit(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, o, n);
function u() {
_i_("269:01899534"), setTimeout(function() {
_i_("269:ab6b83d3"), B.events.emit(B.hotel.Events.RT.SUMMARY_CHANGE, o, n), _r_();
}, 1), booking.events.trigger("change:bookNowHeight"), _r_();
}
o.find(".total-price").html(e).end().find(".rooms-count").html(s).end().fadeIn(u), booking.events.trigger("booking-summary-room-selected"), l.length && l.addClass("bold");
} else o.hide(), _.removeClass("show"), booking.events.trigger("change:bookNowHeight"), booking.events.trigger("booking-summary-room-not-selected"), setTimeout(function() {
_i_("269:179daedc"), B.events.emit(B.hotel.Events.RT.SUMMARY_HIDE, o), _r_();
}, 1), l.length && l.removeClass("bold");
_r_();
}
}, l = B.env.b_run_hp_booking_summary, c = l ? t.proxy(s.updateColumn, s) :Function();
c(), i.filter(".booking_summary").delegate(".b_room_selectbox", "change", function() {
_i_("269:05a232cc"), c(), _r_();
}), t("#roomsForm").bind("submit", function() {
if (_i_("269:0bd19702"), n.filter(function() {
if (_i_("269:7b9ebc5b"), 0 != t(this).val()) return _r_(!0);
return _r_(!1);
}).length) {
var e = n.filter(function() {
if (_i_("269:61bde746"), 0 != t(this).val()) return _r_(!0);
return _r_(!1);
}), i = n.filter(function() {
return _i_("269:40a4efcb"), _r_(0 == this.value);
});
return n.length > 20 && i.slice(20 - e.length).remove(), _r_(!0);
}
_r_();
}), _r_();
}), _r_();
}(), B.when({
events:"ready"
}).run(function(e) {
_i_("269:a06f67b1");
var t = e("jquery");
t("#rooms_table").on("click", "#rm_cond_link", function() {
_i_("269:ad341954"), t("#maxotel_table_header #conditions_info").show(), fminit(t("#maxotel_rooms .ratepolicy"), !0, "transparent"), _r_();
}), _r_();
}), function() {
_i_("269:4a66c6cb");
var e = B.require("jquery");
B.when({
events:"ready"
}).run(function(t) {
_i_("269:018a474e");
var i = {
priority:2,
elementSelector:"select.limited_rooms",
maxRooms:{},
init:function() {
if (_i_("269:32ad1464"), "hotel" !== B.env.b_action && !B.env.b_has_maxotel_rooms) return _r_();
this.bindSelectors(), _r_();
},
bindSelectors:function() {
_i_("269:093573a9"), this.$selects = e(this.elementSelector), this.$selects.length && (this.getOccupancy(), this.attachEvents()), _r_();
},
attachEvents:function() {
_i_("269:2673e70b"), B.events.on(B.hotel.Events.RT.ROOM_SELECTED, this.occupancyHandler.bind(this)), _r_();
},
occupancyHandler:function(e) {
if (_i_("269:a7729df5"), !e.$el.is(this.elementSelector)) return _r_();
var t = e.$el, i = t.attr("id");
this.maxRooms[i] ? this.changeOccupancy(t) :this.getOccupancy(t), _r_();
},
changeOccupancy:function(t) {
if (_i_("269:84ae59e1"), !t || !t.length) return _r_();
var i, n, o = t.data("roomid"), r = this.maxRooms[o].max, _ = 0;
for (i in this.maxRooms[o].items) n = e("#" + i).val(), "0" !== n && (_ += parseInt(n, 10));
var a = r - _;
for (i in this.maxRooms[o].items) {
var s = e("#" + i), l = 0;
n = s.val(), s.find("option").each(function() {
_i_("269:de9c2677"), l > a + parseInt(n, 10) ? this.disabled = !0 :this.disabled = !1, l++, _r_();
});
}
var c = e("#" + o + " .only_x_left");
if (c.length) {
var d = "";
c.attr("data-meta") || c.attr("data-meta", c.text()), a == r ? d = c.attr("data-meta") :booking.env.x_left_room[a - 1] && (d = booking.env.x_left_room[a - 1]), 6 > a && c.hide().html(d).fadeIn("slow");
}
_r_();
},
getOccupancy:function(t) {
_i_("269:d7cf6e9d");
var i = this;
this.$selects.each(function() {
_i_("269:9c7e40e5");
var t = e(this), n = t.data("roomid"), o = t.attr("id");
if (i.maxRooms[n]) i.maxRooms[n].items[o] = t.clone(); else {
var r = t.find("option").length - 1, _ = i.maxRooms[n] = {};
_.max = r, _.items = {}, _.items[o] = t.clone();
}
_r_();
}), t && this.changeOccupancy(t), _r_();
}
};
i.init(), _r_();
}), _r_();
}(), function() {
_i_("269:9cc2dc20");
var e = window.booking, t = e.require("jquery"), i = t("#roomsForm select.js-b_room_selectbox"), n = e.components && t("html").component("keyboard"), o = function() {
return _i_("269:b89ff095"), _r_(i.filter(function() {
return _i_("269:8c9baabf"), _r_(0 != this.value);
}));
}, r = function() {
return _i_("269:7e230d4d"), _r_(i.filter(function() {
return _i_("269:35b9134e"), _r_(0 == this.value);
}));
}, _ = function() {
_i_("269:7ce22064");
var e = r();
e && e.prop("disabled", !1), _r_();
};
e.when({
events:"ready"
}).run(function(i) {
_i_("269:e6760e8c");
var a;
if ("www" !== e.env.b_site_type) return _r_();
t("#rooms_table").on("submit", "#roomsForm", function() {
_i_("269:c00f25dc"), a = o(), a && a.length && (r().prop("disabled", !0), n.on("keyup:Escape", _)), _r_();
}), t(window).on("pageshow", function(e) {
_i_("269:046b42c8"), e.originalEvent.persisted && _(), _r_();
}), _(), _r_();
}), _r_();
}(), function(e) {
"use strict";
_i_("269:dbc4671a");
var t = e.require("jquery");
e.when({
events:"ready"
}).run(function(i) {
_i_("269:49a213ba"), t(".js--hp-rt-just-booked").add(".js--hp-rt-recently-booked").each(function(i, n) {
_i_("269:58b6ed95");
var o = t(n);
e.tools.dom.watchIfBlockVisibleInViewport(o, function() {
_i_("269:5869a74d"), o.addClass("fadeIn"), _r_();
}), _r_();
}), _r_();
}), _r_();
}(booking), B.when({
events:"ready"
}).run(function(e) {
_i_("269:dd22d5f1");
var t = e("jquery"), i = e("events");
t("#rooms_table").on("click", ".rt-show-more-facilities", function(e) {
_i_("269:96d50dfa"), e.preventDefault();
var n = t(this), o = n.parent().prev();
o.toggle("fast", function() {
_i_("269:9dcc996e"), o.is(":visible") ? n.text(B.jstmpl.translations("hp_rt_info_collapse")) :n.text(B.jstmpl.translations("hp_rt_loc_more")), i.trigger("ROOM_TABLE:resize"), _r_();
}), _r_();
}), _r_();
}), B.define("formatting/distance", function(e, t, i) {
_i_("269:ac3fef91");
var n = {
km:1,
m:1e3,
cm:1e5,
mi:.621371192,
yd:1093.6133,
"in":39370.0787,
ft:3280.8399,
min:12
}, o = {
"default":{
unit_size:"large",
unit_type:"distance",
round:!1
},
auto:function(e, t) {
_i_("269:8459bbf5");
var i = {
distance:{
imperial_gb:1 / n.mi,
imperial_us:1 / n.mi,
metric:1
}
};
return _r_({
unit_size:t > i.distance[e] ? "large" :"tiny",
unit_type:"distance",
round:!1
});
},
short_distance:{
unit_size:"tiny",
unit_type:"distance",
round:!1
},
height:{
unit_size:"tiny",
unit_type:"height",
round:!0
},
distance_rounded:{
unit_size:"tiny",
unit_type:"distance",
round:!0
},
walking_time:{
unit_size:"large",
unit_type:"distance",
round:!0
}
}, r = {
distance:{
large:{
metric:"km",
imperial_us:"mi",
imperial_gb:"mi"
},
tiny:{
metric:"m",
imperial_us:"ft",
imperial_gb:"yd"
}
},
length:{
large:{
metric:"km",
imperial_us:"mi",
imperial_gb:"mi"
},
medium:{
metric:"m",
imperial_us:"ft",
imperial_gb:"yd"
},
small:{
metric:"cm",
imperial_us:"in",
imperial_gb:"in"
}
},
height:{
large:{
metric:"km",
imperial_us:"mi",
imperial_gb:"mi"
},
tiny:{
metric:"m",
imperial_us:"ft",
imperial_gb:"ft"
}
}
};
function _(e, t) {
return _i_("269:7d457b7f"), _r_(Math.ceil(t / e) * e);
}
function a(e) {
if (_i_("269:1e26bf83"), "ca" == e.country && "en" == e.language) return _r_("imperial_us");
return _r_("gb" != e.country && "us" != e.country || "en" != e.language ? "metric" :"imperial_" + e.country);
}
return _r_({
localize_distance:function(e) {
_i_("269:7f920f47");
var e = "object" != typeof e ? {
distance:e
} :e;
e = $.extend({
distance:0,
format:"default",
language:B.env.b_lang,
country:B.env.b_guest_country
}, e);
var t, i = a(e), s = o[e.format] instanceof Function ? o[e.format](i, e.distance) :o[e.format];
t = "walking_time" == e.format && e.distance <= 1.25 ? "min" :r[s.unit_type][s.unit_size][i];
var l = e.distance * n[t];
return s.round && (l = Math.ceil(l)), "en" == e.language && "distance" == s.unit_type && t == {
gb:"yd",
us:"ft"
}[e.country] && l > 10 ? l = _(l > 50 ? 50 :10, l) :"auto" == e.format && ("tiny" == s.unit_size && l > 10 ? l = _(l > 50 ? 50 :10, l) :"large" == s.unit_size && (l = _(l > 5 ? 1 :.1, l))), l % 1 && (l = parseFloat(l.toFixed(1))), _r_([ B.jstmpl.fn.format_number_decimal(l).trim(), " ", t ].join(""));
}
});
}), B.define("hotel/rooms_table/lightbox/gallery", function(e, t, i) {
_i_("269:0864cac0");
var n = e("jquery"), o = e("events"), r = e("ga-tracker"), _ = !1;
function a(e, t) {
_i_("269:7dbc0696"), this.slick = null, this.container = e, this.gallery = null, this.slides = [], this.thumbs = [], this.nav = null, this.activeSlide = null, this.nextSlide = null, this.isOldIE = "msie" === B.env.b_browser && B.env.b_browser_version < 10, this.toPhotoID = B.env.b_hp_tophotoid || 0, this.initSlide = 0, this.totalSlides = 0, this.defaultFadeSpeed = B.env.hp_gallery_fade_speed, this.fadeSpeedOnHover = 300, this.currentSlide = 0, this.hoverTimer = 0, this.initTimer = 0, this.overrides = {}, this.options = {}, this.thumbs_options = {}, this.CLASS_THUMB = "hotel_thumbs_sprite", this.CLASS_SELECTED_THUMB = "selected_thumb", this.CLASS_GALLERY_CONTROL = "hp-gallery-control", this.CLASS_VISIBLE = "visible", this.CLASS_HIDDEN = "hp-gallery__hidden", this.photosViewed = [], this.setup(), this.initSlickEvents(), this.run(), _r_();
}
a.prototype.setup = function() {
_i_("269:52851321"), this.gallery = this.container.find('[data-gallery=""]'), this.slides = this.gallery.children().filter("div"), this.thumbs = this.container.find("a." + this.CLASS_THUMB), this.nav = this.container.find("." + this.CLASS_GALLERY_CONTROL), this.totalSlides = this.slides.length, this.initSlide = this.toPhotoID ? this.slides.index(this.slides.filter('[data-photoid="' + this.toPhotoID + '"]')) :0, this.defaultFadeSpeed = this.isOldIE ? 0 :B.env.hp_gallery_fade_speed, this.fadeSpeedOnHover = this.isOldIE ? 0 :300, this.overrides = {
initialSlide:this.initSlide,
speed:this.defaultFadeSpeed,
nextArrow:this.nav.filter('[data-nav="next"]'),
prevArrow:this.nav.filter('[data-nav="prev"]'),
waitForAnimate:!1,
autoplaySpeed:5e3
}, this.options = n.extend({}, B.hotel.GallerySettings, this.overrides), _r_();
}, a.prototype.initCornerNavigation = function() {
_i_("269:f09e7b32");
var e = this.container.find(".hp-gallery");
B.env.is_rooms_table_splitter && !e.length && (e = this.container.find(".hprt-lightbox-gallery"));
var t = this.container.find('[data-nav="next"]'), i = this.container.find('[data-nav="prev"]'), o = function(o) {
_i_("269:c2324ba2");
var r, _, a, s, l;
if (!o || !o.target) return _r_();
if (l = n(o.target), l.is(".hp-gallery-control")) return _r_();
r = this.container.width(), _ = e.offset(), a = (o.pageX || o.originalEvent.touches[0].pageX) - (_ ? _.left :0), s = a / r * 100, B.env.rtl ? s >= 70 ? (t.removeClass("h"), i.addClass("h")) :(t.addClass("h"), i.removeClass("h")) :s >= 30 ? (t.addClass("h"), i.removeClass("h")) :(t.removeClass("h"), i.addClass("h")), _r_();
}.bind(this);
e.on("mousemove", o), e.on("click", function(n) {
_i_("269:a2bbfead");
var r = this.container.width(), _ = e.offset(), a = (n.pageX || n.originalEvent.touches[0].pageX) - (_ ? _.left :0), s = a / r * 100;
s >= 30 ? (B.env.is_rooms_table_splitter && B.env.rtl ? i.click() :t.click(), setTimeout(function() {
_i_("269:c113f633"), o(n), _r_();
}, 50)) :(B.env.is_rooms_table_splitter && B.env.rtl ? t.click() :i.click(), setTimeout(function() {
_i_("269:c113f6331"), o(n), _r_();
}, 50)), _r_();
}.bind(this)), e.on("mouseout", function() {
_i_("269:1254407c"), t.removeClass("h"), i.removeClass("h"), _r_();
}), _r_();
}, a.prototype.pauseSlick = function() {
_i_("269:28f6e2a8"), this.slick && this.gallery && this.gallery.slick && this.gallery.slick("slickPause"), _r_();
}, a.prototype.playSlick = function() {
_i_("269:e4d00ed9"), this.slick && this.gallery.slick && (this.slick.windowWidth = 0, setTimeout(function() {
_i_("269:4b1b8136"), n(window).trigger("resize.slick"), _r_();
}, 5), this.gallery.slick("slickPlay")), _r_();
}, a.prototype.initSlickEvents = function() {
_i_("269:57d99c0c"), this.gallery.bind("init", function(e, t) {
_i_("269:578f2cd7"), this.initControls(), this.updatePhotosViewed(this.initSlide), this.highlightThumb(t.$slides.eq(this.initSlide).attr("data-photoid")), B.env.b_run_hp_gallery_corner_navigation && this.initCornerNavigation(), this.slick = t, setTimeout(function() {
_i_("269:a5569733"), o.trigger(B.hotel.Events.RT.LIGHTBOX_GALLERY_READY, t), _r_();
}, 5), _r_();
}.bind(this)).bind("beforeChange", function(e, t, i, n) {
_i_("269:b62d6395");
var o;
this.activeSlide = this.slides.eq(i), this.nextSlide = this.slides.eq(n), o = this.nextSlide.attr("data-gallery-pause"), "true" === o ? this.gallery.slick("slickPause") :this.gallery.slick("slickPlay"), this.updatePhotosViewed(n), this.highlightThumb(t.$slides.eq(n).attr("data-photoid")), _r_();
}.bind(this)), this.gallery.on("setCurrentPhotoById", this.setCurrentPhotoById.bind(this)), _r_();
}, a.prototype.initControls = function() {
_i_("269:76a90a8f");
var e = this, t = this.container.find('[data-nav="next"]'), i = this.container.find('[data-nav="prev"]');
this.gallery.add(this.nav).bind("mouseenter", function() {
_i_("269:8f937587"), e.nav.addClass(e.CLASS_VISIBLE), e.gallery.slick("slickSetOption", "speed", e.fadeSpeedOnHover), e.gallery.slick("slickPause"), _r_();
}).bind("mouseleave", function() {
_i_("269:0e01f7ef"), e.nav.removeClass(e.CLASS_VISIBLE), e.gallery.slick("slickSetOption", "speed", e.defaultFadeSpeed), e.gallery.slick("slickPlay"), _r_();
}), this.nav.bind("click", function() {
return _i_("269:f372cfdc"), _r_(!1);
}), this.thumbs.bind("mouseenter click", function(t) {
_i_("269:17e610d7");
var i, o, r, _ = n(this), a = "click" === t.type ? 0 :300;
clearTimeout(e.hoverTimer), e.hoverTimer = window.setTimeout(function() {
_i_("269:628e19a3"), i = _.attr("data-photoid"), o = e.slides.filter('[data-photoid="' + i + '"]'), r = e.gallery.slick("getSlick"), e.gallery.slick("slickSetOption", "speed", e.fadeSpeedOnHover), e.gallery.slick("slickGoTo", r.$slides.index(o.get(0))), _r_();
}, a), _r_();
}).bind("mouseleave", function() {
_i_("269:202559e6"), e.gallery.slick("slickSetOption", "speed", e.defaultFadeSpeed), clearTimeout(e.hoverTimer), _r_();
}), this.container.on("mouseenter.pause", "div.hp-gallery-thumbs", function() {
_i_("269:3167f1ad"), e.gallery.slick("slickSetOption", "autoplaySpeed", 1e7), e.gallery.slick("slickPause"), _r_();
}).on("mouseleave.pause", "div.hp-gallery-thumbs", function() {
_i_("269:8b13414a"), e.gallery.slick("slickSetOption", "autoplaySpeed", B.env.hp_gallery_autoplay_speed), e.gallery.slick("slickPlay"), _r_();
}), t.on("click", function(e) {
_i_("269:eaca7d2e"), void 0 !== e.originalEvent && r.trackEvent(r.hotelPageTracker, "RT: Lightbox", "Click: Image Arrows"), _r_();
}), i.on("click", function(e) {
_i_("269:eaca7d2e1"), void 0 !== e.originalEvent && r.trackEvent(r.hotelPageTracker, "RT: Lightbox", "Click: Image Arrows"), _r_();
}), _r_();
}, a.prototype.highlightThumb = function(e) {
_i_("269:ec9760eb"), this.thumbs.filter("." + this.CLASS_SELECTED_THUMB).removeClass(this.CLASS_SELECTED_THUMB), e && this.thumbs.filter('[data-photoid="' + e + '"]').addClass(this.CLASS_SELECTED_THUMB), _r_();
}, a.prototype.getThumb = function(e) {
if (_i_("269:bb015630"), this.slick && this.gallery && this.gallery.slick) {
var t = this.gallery.slick("getSlick"), i = t.$slides.eq(e).attr("data-photoid");
if (i) return _r_(this.thumbs.filter('[data-photoid="' + i + '"]'));
}
_r_();
}, a.prototype.updatePhotosViewed = function(e) {
_i_("269:8740129b"), void 0 !== typeof e && -1 === n.inArray(e, this.photosViewed) && this.photosViewed.push(e), _ || this.photosViewed.length !== this.totalSlides || (B.et.goal("hp_lb_viewed_all_gallery_photos"), _ = !0), _r_();
}, a.prototype.setCurrentPhotoById = function(e, t) {
_i_("269:59eea9fe");
var i = this;
setTimeout(function() {
_i_("269:c6d94303");
var e = i.slides.filter('[data-photoid="' + t + '"]'), n = i.gallery.slick("getSlick");
i.gallery.slick("slickGoTo", n.$slides.index(e.get(0))), _r_();
}, 0), _r_();
}, a.prototype.run = function() {
_i_("269:2d6ae3e4"), this.initTimer = window.setTimeout(function() {
_i_("269:2c990098"), this.gallery.slick(this.options), _r_();
}.bind(this), 0), _r_();
}, i.exports = a, _r_();
}), B.ensureNamespaceExists("hotel"), B.hotel.rtLightbox = function(e, t, i, n) {
_i_("269:a1934134");
var o = e.require("jquery"), r = e.require("ga-tracker"), _ = e.require("trap-focus"), a = e.require("hotel/rooms_table/lightbox/gallery"), s = e.require("rewrite_tt"), l = "hp_rt_lightbox_wrapper", c = "hp_rt_lightbox_overlay";
e.env.b_run_droom_hp_rt_lb_new_gallery && (l += " hp_rt_lightbox_wrapper_v3", e.env.b_run_droom_hp_increase_lb_photo_res && (l += " hp_rt_lightbox_wrapper_v3_hires"), e.env.fe_run_gallery_photo_tags && (l += " hp_rt_lightbox_wrapper_v3_tags"), l += " hp_rt_lightbox_wrapper_v3_two_column");
var d, h, u, f = e.events, p = o(t), b = o(i), m = o("body"), g = o("<div></div>", {
"class":c
}), v = o("<div></div>", {
"class":l
}), y = o("<div></div>", {
"class":"hp_rt_lightbox_content"
}).appendTo(v), w = o("<a></a>", {
"class":"lightbox_close_button",
href:"#close-lightbox",
html:"&times;"
}).appendTo(v), M = o(e.env.lp_hp_meta_hightlighted_room ? "#rooms_table, .hp__pinned-room" :"#rooms_table"), k = g.add(w), B = e.env.run_hp_rt_lightbox || e.env.run_hp_rt_lightbox_no_dates, C = !1, T = !1, x = !1, E = "", S = !1, N = e.env.rtl, O = 100, j = function() {
if (_i_("269:a79acc49"), v.height() > 1 && !e.env.is_rooms_table_splitter) {
var t = v.find(".hp-lightbox-gallery-container"), i = v.find(".rt_lightbox_description_meta"), n = t.height() - i.height();
0 > n && (n = -1 * n);
}
(v.height() > p.height() - O || v.find(".js-dr_rt_no_dates").length) && v.css({
position:"absolute",
top:p.scrollTop() + 20
}), _r_();
}, I = function(t) {
if (_i_("269:f623be77"), e.env.fe_room_table_single_option && e.et.track("NAFQTPeVYBXNUObJAEcPTcPUOKe")) return _r_();
if (!T) {
var i, n = o(this), a = n.attr("href"), s = a.replace("#", "#blocktoggle");
h = o(s), u = o(s).parent(), y.append(h), o(this).hasClass("hp_rt_see_photos_button") ? v.addClass("hp_rt_only_photos") :v.removeClass("hp_rt_only_photos"), S ? g.add(v).show(1, j).addClass("visible") :(g.add(v).css({
display:"block"
}).addClass("visible"), setTimeout(j, 0)), L(), E = location.hash.slice("1"), d = a.replace(/#/, ""), i = "rt-lightbox-open-" + d, location.hash = i, f.trigger(e.hotel.Events.RT.LIGHTBOX_OPEN, d, y), T = !0, e.hotel.rtLightbox.isLightboxOpen = !0;
var l = o('a.togglelink.jqrt[href="#' + d + '"]');
if (l.length > 0) {
var c = l.data("room-name-en");
c && r.trackEvent(r.hotelPageTracker, "Hotel: Lightbox open", c);
}
var p = d.replace(/RD/, "");
x || isNaN(p) || !e.et.track("ZdffUWRDSFKGaRIHeZeZFZVET") || (x = !0, o.ajax({
method:"POST",
dataType:"json",
url:"/hotel_lightbox_opened",
data:{
hotel_id:e.env.b_hotel_id,
room_id:p
}
})), e.et.stage("BUcJPPBASMffaAJYeCIObTae", 1), _.trap(v[0]), v.attr({
"aria-hidden":!1
});
}
return _r_(!1);
}, A = function() {
_i_("269:6965cbee");
var e = o(this), t = e.parents(".rt-room-info").attr("id"), i = o('a[href="#RD' + t + '"]:not(.avoid-trigger-lightbox)');
s.showHideTooltip(null, 0, 0), i.length && i.trigger("click"), _r_();
}, P = function(t, i) {
if (_i_("269:f40f8093"), T) {
var n, o, a = {
click:"Click on close button",
esc:"Escape key",
back:"Browser back button"
}, t = t && "object" == typeof t ? "click" :t, l = a[t] ? a[t] :"other";
s.showHideTooltip(null, 0, 0), v.add(g).css({
display:"none"
}).removeClass("visible"), h.prependTo(u), T = !1, e.hotel.rtLightbox.isLightboxOpen = !1, v.css({
position:"fixed",
top:"10%"
}), "pushState" in history ? history.pushState("", document.title, location.pathname + location.search) :(n = m[0].scrollTop, o = m[0].scrollLeft, E ? location.hash = E :location.hash = "_", m[0].scrollTop = n, m[0].scrollLeft = o), "book_now_click" !== t && f.trigger(e.hotel.Events.RT.LIGHTBOX_CLOSE, d, y, l, t), r.trackEvent(r.hotelPageTracker, "Hotel: Lightbox closed", l), i = i && "function" == typeof i ? i :t && "function" == typeof t ? t :null, i && i(), _.release(), v.attr({
"aria-hidden":!0
});
}
return _r_(!1);
}, L = function() {
_i_("269:3cb02dc4");
try {
e.maps && e.maps.map_opened && e.maps.close();
} catch (t) {}
_r_();
}, $ = function() {
_i_("269:81b111f1"), M.delegate(".togglelink", "click", I).delegate("a.smll_roomphoto", "click", function(e) {
return _i_("269:62390402"), e.preventDefault(), A.call(this), _r_(!1);
});
var t = "ZdffZZGbEILJOIFHVHYQDYEaNdNC";
"0" == e.env.b_has_valid_dates_not_in_past && e.env.fe_has_3d_model_gallery && e.et.track(t) && o(".bh-photo-grid").on("click", ".js-photo-grid-interactive-tour", I), o("a.b-group-recommendation__togglelink").bind("click", I), e.env.is_rooms_table_splitter || o(".gr-toggle-room-lightbox").bind("click", function(t) {
_i_("269:c029ac5a"), t.preventDefault();
var i = o(this).attr("href"), n = o('#available_rooms .togglelink[href="' + i + '"]');
e.env.b_is_vacation_rental && e.env.b_is_single_unit_vr && e.et.track("NAFQTPeVYYPTdMdfYMO") && (n = o('#available_rooms .hp-rt-room-link__main-gallery[href="' + i + '"]')), n.length && n.click(), _r_();
}), _r_();
}, D = function() {
_i_("269:5fcbbe9c"), $(), k.bind("click", P), b.bind("keyup", function(e) {
_i_("269:a394625a");
var t = e ? e :window.event;
27 === t.keyCode && P("esc"), _r_();
}), p.bind("hashchange", function() {
_i_("269:2a8cc98b");
var e;
e = "rt-lightbox-open", -1 === location.hash.slice(1).indexOf(e) && T && P("back"), _r_();
}), _r_();
}, R = function(e) {
_i_("269:baefcf20");
var t = !1, i = "Webkit Moz ms O".split(" "), o = document.createElement("div"), r = null;
if (e = e.toLowerCase(), o.style[e] && (t = !0), t === !1) {
r = e.charAt(0).toUpperCase() + e.substr(1);
for (var _ = 0; _ < i.length; _++) if (o.style[i[_] + r] !== n) {
t = !0;
break;
}
}
return _r_(t);
}, J = function() {
_i_("269:c5361669"), B && !C && (C = !0, m.append(g, v), v.attr({
role:"dialog",
"aria-hidden":!0,
"aria-labelledby":"hp_rt_room_gallery_modal_room_name",
"aria-live":"polite",
"aria-modal":!0
}), y.attr({
role:"document"
}), w.attr("aria-label", e.jstmpl.translations("a11y_cta_close")), o(window).resize(function() {
_i_("269:1619d855"), T && (v.css({
position:"fixed",
top:"10%"
}), j()), _r_();
}), N && v.addClass("lightbox_rtl"), S = R("transition"), D(), f.on(e.hotel.Events.RT.LIGHTBOX_OPEN, function(t) {
if (_i_("269:a8964a3a"), e.env.b_run_droom_hp_rt_lb_new_gallery) {
var i = y.find(".hp-lightbox-gallery-container");
i.hasClass("slicked") ? e.events.trigger(e.hotel.Events.RT.LIGHTBOX_GALLERY_READY, i.find("[data-gallery]").slick("getSlick")) :i.length && (i.addClass("slicked"), new a(i));
}
var n = "ZdfbAZQTZOUdTDIDFKVBbFWDdQEYT";
y.find(".t2-" + n).length && (e.et.stage(n, 2), e.et.stage(n, 3));
var o = "ZdfbAZQTZOUdTDIDFKVBbFFcFBO";
if (y.find(".t-" + o).length && (e.et.stage(o, 2), e.et.stage(o, 3), ("gold" == e.env.fe_hotel_account_flag || "silver" == e.env.fe_hotel_account_flag) && e.et.stage(o, 5), ("bronze" == e.env.fe_hotel_account_flag || "copper" == e.env.fe_hotel_account_flag) && e.et.stage(o, 6)), "0" == e.env.b_has_valid_dates_not_in_past && e.env.fe_has_3d_model_gallery) {
var r = "ZdffZZGbEILJOIFHVHYQDYEaNdNC";
y.find(".t-" + r).length && (e.et.stage(r, 2), e.et.stage(r, 4), e.env.fps_avg && e.env.fps_avg < 20 && e.et.stage(r, 8));
}
_r_();
}), f.trigger(e.hotel.Events.RT.LIGHTBOX_READY), f.on(e.hotel.Events.RT.LIGHTBOX_GALLERY_READY, function() {
_i_("269:d2060994"), y.find(".slick-list").removeAttr("tabindex").removeAttr("aria-live"), _r_();
})), _r_();
};
return _r_({
isLightboxEnabled:B,
isLightboxOpen:T,
show:I,
close:P,
init:J
});
}(window.booking, window, document), function() {
_i_("269:fa4cef33");
var e, t = window.booking, i = t.require("jquery");
t.ensureNamespaceExists("hotel"), t.hotel.roomTable = t.hotel.roomTable || {}, t.hotel.roomTable.highlightRoom = function(t) {
if (_i_("269:a7632316"), "string" !== i.type(t) || "RD" !== t.substring(0, 2)) return _r_();
t = t.substring(2);
var n = e.find("#" + t).parents(".rt__room-detail"), o = "rt__room-detail--highlighted";
n.addClass(o), setTimeout(function() {
_i_("269:ec3d45cd"), n.removeClass(o), _r_();
}, 500), _r_();
};
function n() {
_i_("269:78e5ede8"), t.events.on(t.hotel.Events.RT.LIGHTBOX_CLOSE, function(e, i, n, o) {
_i_("269:2908d620"), t.hotel.roomTable.highlightRoom(e), _r_();
}), _r_();
}
t.when({
events:"ready"
}).run(function(o) {
if (_i_("269:868e35a5"), !t.feature && !t.feature.transition || !t.env.b_has_maxotel_rooms) return _r_();
e = i("#rooms_table"), n(), _r_();
}), _r_();
}(), B.ensureNamespaceExists("hotel"), B.hotel.rtGallery = function(e) {
_i_("269:b6bb0bf1");
var t = e.require("jquery"), i = e.events, n = e.env, o = n.b_run_hp_rt_lightbox_image_gallery, r = t("div.hp_rt_lightbox_content"), _ = null, a = null, s = null, l = null, c = 0, d = null, h = 3, u = function() {
_i_("269:6a201d7b");
var e = l ? a.first() :null, t = 1;
d = e && e.length ? e.width() + t :0, _r_();
}, f = function() {
_i_("269:f06894a7"), _ = r.find("ul.rt-lightbox-photo-gallery"), a = _.find("li"), l = a.length, s = r.find("span.rt-lightbox-gallery-controls"), h >= l ? s.addClass("disabled") :s.removeClass("disabled"), d || u(), _r_();
}, p = function(e) {
_i_("269:061374bf");
var t = e * d;
_.css({
marginLeft:-t
}), c = e, _r_();
}, b = function() {
_i_("269:aecc9c7f");
var e = c + 1;
e >= l - (h - 1) && (e = 0), p(e), _r_();
}, m = function() {
_i_("269:9c3bb4f1");
var e = c - 1;
0 > e && (e = l - (h - 1) - 1), p(e), _r_();
}, g = function() {
_i_("269:3ff07a63"), o && (r = t("div.hp_rt_lightbox_content"), i.on("rt-lightbox-open", f), r.delegate("span.rt-lightbox-gallery-prev", "click", m).delegate("span.rt-lightbox-gallery-next", "click", b)), _r_();
};
i.on("rt-lightbox-ready", g), _r_();
}(B), function(e) {
_i_("269:2de55f24");
var t = e.require("jquery");
e.ensureNamespaceExists("hotel"), e.hotel.rtLightbox.gallery = {
_currentId:!1,
_minId:!1,
_maxId:!1,
_rtl:!!e.env.rtl,
goTo:function(e) {
_i_("269:c667bd3b"), t(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"), t(".js-rt_lightbox_gallery_v2__img[data-order=" + e + "]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"), t(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"), t(".js-rt_lightbox_gallery_v2__thumb[data-order=" + e + "]").addClass("selected"), this._currentId = e, _r_();
},
goToPhoto:function(e) {
_i_("269:a9d797a1"), t(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"), t(".js-rt_lightbox_gallery_v2__img[data-id=" + e + "]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"), t(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"), t(".js-rt_lightbox_gallery_v2__thumb[data-id=" + e + "]").addClass("selected"), this._currentId = t(".js-rt_lightbox_gallery_v2__img[data-id=" + e + "]").data("order"), _r_();
},
prev:function() {
_i_("269:468b604c");
var e;
e = 1 === this._currentId ? this._maxId :this._currentId - 1, this.goTo(e), _r_();
},
next:function() {
_i_("269:92b79f63");
var e;
e = this._currentId === this._maxId ? this._minId :this._currentId + 1, this.goTo(e), _r_();
},
addBinds:function() {
_i_("269:2c83a09c");
var i = this;
e.events.on("rt-lightbox-open", function() {
_i_("269:cb0f756c"), i._currentId = parseFloat(t(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__current").data("order")), i._minId = parseFloat(t(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:first").data("order")), i._maxId = parseFloat(t(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:last").data("order")), i.goTo(1), _r_();
}), t(document).keyup(function(e) {
_i_("269:e57fde10"), 37 === e.keyCode ? i.prev() :39 === e.keyCode && i.next(), _r_();
}), t(document).on("click", ".js-rt_lightbox_gallery_v2__thumb", function(n) {
_i_("269:9bf655ce"), n.preventDefault(), e.events.trigger("hp:rt:room:lightbox:gallery:thumb:click"), i.goTo(parseFloat(t(this).data("order"))), _r_();
}), t(document).on("click", ".js-rt_lightbox_gallery_v2__gallery_arrows_left", function(t) {
_i_("269:88be53a2"), t.preventDefault(), e.events.trigger("hp:rt:room:lightbox:gallery:left:click"), i._rtl ? i.next() :i.prev(), _r_();
}), t(document).on("click", ".js-rt_lightbox_gallery_v2__gallery_arrows_right", function(t) {
_i_("269:45720386"), t.preventDefault(), e.events.trigger("hp:rt:room:lightbox:gallery:right:click"), i._rtl ? i.prev() :i.next(), _r_();
}), _r_();
},
init:function() {
_i_("269:9cd7d84c"), this.addBinds(), _r_();
},
initElse:function() {}
}, e.env.b_run_hp_rt_lightbox_image_gallery_v2 && e.hotel.rtLightbox.gallery.init(), _r_();
}(booking), $(B.hotel.rtLightbox.init), B.define("hotel/review-list", function(e, t, i) {
_i_("269:63b97f1e");
var n = e("jquery"), o = n(window), r = n("#review_list_score_container"), _ = n("#reviewer_type_filter"), a = B.env.hotelAction.showReviews, s = "total", l = !1, c = !1, d = "total", h = "", u = _.find("option:selected"), f = n("#blockdisplay4.pagination_scroll_top .sliding-panel-widget-scrollable"), p = "adUTWALOLOLOOTOeBDKASNHRUUO";
u.length ? d = u.data("customer-type") :_.length && (d = _.find("option").first().data("customer-type")), window.location.hash.indexOf("tab-reviews-business_traveller") > -1 && (d = "business_traveller");
var b = function(e, t) {
_i_("269:e3f151b1");
var i = n(".review_list_loader, .reviews_placeholder_wrapper"), o = n("#review_list_page_container");
o.hide(), i.removeClass("hideme");
var r = n("#review_sort").val();
r && (e += ";sort=" + r);
var _ = B.require("events");
_.trigger("hotel:reviewlist:request:tab"), e.indexOf("newoff=") > 0 && B.et.track(p) && (e = e.replace("offset=", "off_set=").replace("newoff=", "offset=")), n.ajax({
url:e,
error:function() {
_i_("269:9824c364"), o.show(), i.addClass("hideme"), _r_();
},
success:function(e) {
_i_("269:fb983e4e");
var r = B.require("events");
B.et.stage("adUAVGZSIcAQDdWWe", 1), o.html(e), o.show(), i.addClass("hideme"), l = !0, B.events.trigger("REVIEWS:fetched"), B.et.stage("adUAVYCCDdIcPRSSZWIKGYBSKBZKBHGCTEdaWYO", 1), B.et.stage("adUAVYCIFBUcAQDEVdZMTWbCGVbEfKFWC", 1), r.trigger("hotel:reviewlist:success:tab"), B.et.initAttributesTracking(n("#review_list_page_container")), n(window).trigger("scroll"), void 0 !== t && t(), o.loadComponents(), B.et.initAttributesTracking(o), _r_();
}
}), _r_();
}, m = function(e) {
_i_("269:6de6a94f");
var t = n(e), i = t.attr("href"), r = n("html, body");
o.scrollTop() > n("#blockdisplay4").offset().top && r.animate({
scrollTop:n("#blockdisplay4").offset().top
}), B.et.customGoal("adUAVYCIFBUcAQDEVdZMTWbCGVbEfKFWC", 1), window.setTimeout(function() {
_i_("269:260aa301"), b(i), _r_();
}, 500), _r_();
}, g = function(e, t, i, o) {
_i_("269:68f2af4e"), i && i.constructor === Array ? i = i.join() :i && i.constructor === Object && i.jquery && (i = i.get().join());
var r = n("#reviewer_type_filter").find("option[data-customer-type=" + e + "]");
r.length || (r = n("#review_display_settings"));
var _ = r.data("pagename"), a = r.data("cc"), s = r.data("dist"), l = r.data("add"), c = "/reviewlist";
_ || (_ = B.env.hotelAction.hotelName, a = B.env.b_countrycode), c += B.env.b_query_params_with_lang, c += ";pagename=" + _, c += ";cc1=" + a, c += ";type=" + e, c += ";score=" + t, c += ";dist=" + s, c += ";rows=10", n(".language_filter").length && (c += ";r_lang=" + i), c += ";rurl=" + l;
var d = ";review_topic_category_id=";
return T() && (d = ";improved_review_topic_category_id="), o && o.length ? c += d + o.join() :B.env.filterReviewsByTopic && B.env.defaultReviewsTopic.length && (c += d + B.env.defaultReviewsTopic.join()), _r_(c);
}, v = function(e, t, i) {
if (_i_("269:2890e1ec"), c) return _r_();
c = !0;
var o = g(e, t, i);
b(o, function() {
_i_("269:f4036845"), c = !1, n(".review-list-topic-filter__clone").remove(), _r_();
}), _r_();
}, y = function(e) {
_i_("269:0164895b"), e.preventDefault();
var t = n(this), i = t.closest(".review_item_response_container").data("full-response"), o = t.prev("p");
o.html(i), t.hide(), _r_();
}, w = function() {
_i_("269:6e5835bf");
var e = !1;
_.bind("change", function() {
if (_i_("269:d951a9de"), !e) {
var t = _.val(), i = B.require("ga-tracker");
i.trackEvent(i.clickTracker, "Action: reviewlist", "Reviewer type filter: " + t);
}
e = !1;
var o = n(this).find(":selected");
s = o.data("customer-type"), v(s, h, [ B.env.defaultReviewsLanguage ]), _r_();
});
var t = n("#review_sort");
t.bind("change", function() {
_i_("269:55fe2df4"), e = !0;
var i = t.val() || "default", n = B.require("ga-tracker");
n.trackEvent(n.clickTracker, "Action: reviewlist", "Review list sort: " + i), _.trigger("change"), _r_();
}), r.delegate(".page_link a", "click", function(e) {
_i_("269:808fdf18"), e.preventDefault();
var t = n(this);
t.hasClass("ignore_pagination") || (m(t), f.length && f.animate({
scrollTop:0
}, 100)), _r_();
}), r.delegate(".review_item_response_more", "click", y), B.events.on("reviews-tab-opened", function(e, t) {
_i_("269:d4c1b2be"), t = t || e.tab, (!l || B.env.reviewsPrefiltered || B.env.reviewsFilteredByFood || B.env.reviewsFiltersShouldBeReset) && v(d, h, [ B.env.defaultReviewsLanguage ]), _r_();
}), _r_();
}, M = function() {
_i_("269:c40fbdb7"), a && w(), B.hotel.hashedTabs && B.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4") && v(d, h, [ B.env.defaultReviewsLanguage ]), _r_();
}, k = function() {
_i_("269:b5aa02d9"), v(d, h, [ B.env.defaultReviewsLanguage ]), _r_();
}, C = function(e) {
return _i_("269:4ed92167"), _r_(g(d, h, [ B.env.defaultReviewsLanguage ], e && e.topics));
};
i.exports = {
init:M,
loadReviews:k,
filterByTypeAndLanguages:v,
getLoadReviewsUrl:C
};
function T() {
return _i_("269:ad6ba62c"), _r_(n(".review-list-topic-filter__list-item a[data-topic-from-content=1]").length > 0);
}
_r_();
}), B.when({
events:"ready"
}).require([ "hotel/review-list" ], function(e) {
_i_("269:2448170b"), e.init(), _r_();
}), function(e) {
_i_("269:3df6a213");
var t = e.require("jquery"), i = function() {
_i_("269:30fa15ba"), e.events.on("hotel:reviewlist:success:tab", n), _r_();
}, n = function() {
_i_("269:848bcf05");
var i = e.env.b_hotel_id;
t.ajax({
method:"GET",
url:"/has_seen_review_list",
data:{
hotel_id:i
},
error:function(e) {},
success:function() {}
}), _r_();
};
e.when({
events:"ready"
}).run(function(e) {
_i_("269:fcf00b64"), i(), _r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:f62c36e2");
var t = e.require("jquery"), i = t(".review_list_nav .language_filter"), n = t(".language_filter_value_row", i), o = t(".language_more_cell", n), r = t(".language_more", o), _ = t(".language_filter_lightbox_done"), a = t(".language_filter_lightbox_content"), s = t(".language_filter_value_row_first", a), l = t(".language_filter_checkbox", a), c = t("#reviewer_type_filter"), d = t("#review_score_filter"), h = e.require("hotel/review-list").filterByTypeAndLanguages, u = [ e.env.defaultReviewsLanguage ], f = function(i) {
_i_("269:ab108274"), i.preventDefault();
var o = s.find("input").map(function(e, i) {
return _i_("269:664d3c0a"), _r_(t(i).is(":checked"));
}).toArray();
t.each(o, function(e, i) {
_i_("269:a94a976b"), t(n.find("input").get(e)).prop("checked", i), _r_();
}), g(), e.lightbox.hide(), _r_();
}, p = function(t) {
_i_("269:051393b1"), t.preventDefault(), m(), e.lightbox.show(a, {
customWrapperClassName:"language_filter_lightbox"
}), _r_();
}, b = function(e) {
_i_("269:c3c6ab69"), u = t(e).filter(":checked").map(function(e, i) {
return _i_("269:b7f4b21f"), _r_(t(i).val());
}).toArray(), _r_();
}, m = function() {
_i_("269:0233d309"), l.each(function(e, i) {
_i_("269:26f7864c");
var n = t(i);
u.indexOf(n.val()) >= 0 ? n.prop("checked", !0) :n.prop("checked", !1), _r_();
}), _r_();
}, g = function(e) {
_i_("269:f4acf59e"), e ? e.data && e.data.languages && "fromPage" === e.data.languages && b(t("input", n)) :b(l), h(c.val(), d.val(), u, !1), _r_();
}, v = function() {
_i_("269:eab63dc6"), c.unbind("change"), c.bind("change", g), d.bind("change", g), r.bind("click", p), _.bind("click", f), i.delegate(".language_filter_checkbox", "change", {
languages:"fromPage"
}, g), _r_();
};
e.define("reviews/review_list_lang_filter", function(e, t, i) {
_i_("269:3cc41767"), i.exports = {
filter:g
}, _r_();
}), e.when({
events:"ready"
}).run(function(e) {
_i_("269:58932076"), v(), _r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:056f4a14");
var t = e.require("jquery"), i = t("#review_list_score_container"), n = i.find(".score_bar_value"), o = function() {
_i_("269:8643805b"), e.events.on("reviews-tab-opened", r), _r_();
}, r = function(e) {
_i_("269:878eddf3"), e && e.each || (e = n), e.each(function(e, i) {
_i_("269:7145a346");
var n = t(i), o = n.data("score") + "%";
n.animate({
width:o
}), _r_();
}), _r_();
};
e.when({
events:"ready"
}).run(function(t) {
_i_("269:9da22e9d"), o(), e.hotel.hashedTabs && e.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4") && window.setTimeout(r, 400), _r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:abd1cd52");
var t = e.require("jquery"), i = t("#guidelines_content"), n = function() {
_i_("269:3c16dfb3");
var t = e.require("ga-tracker");
t.trackEvent(t.clickTracker, "Action: reviewlist", "Review guidelines open"), _r_();
}, o = function(t) {
_i_("269:00175905"), t.preventDefault(), e.lightbox.show(i), n(), _r_();
}, r = function() {
_i_("269:150be5e3"), t(".js-guidelines_open_link").bind("click", o), _r_();
};
e.when({
events:"ready"
}).run(function(t) {
_i_("269:94fba2f0"), r(), e.events.on("REVIEWS:fetched", r), _r_();
}), _r_();
}(window.booking), function() {
_i_("269:1fa2c798");
var e = window.booking, t = e.require("jquery");
function i() {
_i_("269:68389722"), booking.events.on("REVIEWS:fetched", function() {
_i_("269:74e550c8"), t(".review_item_feedback").find(".bicon-flag").each(function() {
_i_("269:2300bb04");
var e = t(this);
e.dropdown({
content:function() {
return _i_("269:8be20822"), _r_(e.siblings(".review_report_form_pop").html());
},
extraClass:"review_report_form_pop active",
position:"left"
}), _r_();
}), t("body").on("click", ".review_report_form_pop.active label", function(i) {
_i_("269:f82fa1ac"), i.preventDefault();
var n = t(this), o = n.parents(".review_report_form_pop_list"), r = t(".review_report_form_pop.active"), _ = n.find("input"), a = o.data("reviewurl"), s = o.data("hotelid"), l = _.val(), c = "review", d = {
hotel_id:s,
content_url:a,
content_type:c,
type:l
};
n.find("input").attr("checked", "checked"), t.ajax({
url:"/report_user_content",
dataType:"json",
type:"post",
data:d,
complete:function(i) {
_i_("269:a3932e55");
var n = t(".review_report_form_pop_list[data-reviewurl=" + a + "]");
if (r.width(r.width()), r.height(r.height()), r.html('<p class="review_useful_thankyou">' + window.transl_content_feedback_thankyou_short + "</p>"), n.parent().siblings("i").addClass("active"), setTimeout(function() {
_i_("269:58db1954"), n.trigger("click").unbind("click"), _r_();
}, 1500), '{"success":1}' === i.response) {
var o = e.require("ga-tracker");
o.trackEvent(o.clickTracker, "Action: reviewlist", "Report inappropriate");
}
_r_();
}
}), _r_();
}), _r_();
}), _r_();
}
window.addEventListener("load", i), _r_();
}(), function(e) {
_i_("269:68c97c77");
var t = e.require("jquery"), i = e.lightbox;
if (e.et.track("adUAVGPZHQFWUWeTaWYSfMTdWe")) return _r_();
var n = function() {
_i_("269:83948b59");
var e = t(this), n = e.find("img").data("image"), o = document.createElement("img");
o.onload = function() {
_i_("269:c171c759"), i.show(o, {
customWrapperClassName:"review_photo_lightbox",
positionAfterCallBack:function() {
_i_("269:6675b80a");
var e = parseInt(o.width, 10) + 48, i = parseInt(o.height, 10) + 48;
t(".modal-wrapper").css({
width:e,
height:i,
left:Math.max(0, t(window).width() / 2 - e / 2)
}), _r_();
}
}), _r_();
}, o.src = n, _r_();
}, o = function() {
_i_("269:9130927b"), t(".review_item_photo").bind("click", n), _r_();
}, r = function() {
_i_("269:bd8f8abb"), ("reviews_hotel" === e.env.b_action || "reviews_review" === e.env.b_action) && o(), "hotel" === e.env.b_action && (e.events.on("REVIEWS:fetched", function() {
_i_("269:303a9a68"), o(), _r_();
}), e.events.on("RECENT_REVIEWS:fetched", function() {
_i_("269:303a9a681"), o(), _r_();
}), e.hotel.hashedTabs && e.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4") && window.setTimeout(function() {
_i_("269:403cda7f"), o(), _r_();
}, 250)), _r_();
};
e.when({
events:"ready"
}).run(function(e) {
_i_("269:9364ccbf"), r(), _r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:5b1ebbc5");
var t = e("sliding-panel-model"), i = e("events"), n = e("jquery"), o = B.hotel.hashedTabs, r = t.get("hp-reviews-sliding");
n(window).hashchange(function() {
if (_i_("269:c62a27d2"), !r.isPanelShown()) return _r_();
var e = window.location.hash.slice(1);
"tab-reviews" !== e && "tab-4" !== e && r.hide(), _r_();
}), i.on("sliding-panel/on:hide", function(e) {
_i_("269:aa491e65"), i.trigger("open-tab", {
tab:"main"
}), _r_();
}), r.on(t.EVENTS.show, function() {}), o.getVisibleTab().is("#blockdisplay4") && r.show(), i.on("reviews-tab-opened", function() {
_i_("269:449d6106"), r.show(), _r_();
}), i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED, function() {
_i_("269:360b21d2"), t.hideAll(), _r_();
}), _r_();
}(B.require), $(function() {
"use strict";
if (_i_("269:b79d4450"), !B.atlas) return _r_();
B.atlas.define("atlas-common-icons", [ "jQuery", "icons-default", "util-env" ], function(e, t, i) {
_i_("269:bdeeed0c");
function n() {
_i_("269:893364e0");
var n, o = e.extend({}, t.ICONS), r = {
hotel:c({
x:153,
y:33,
z:2e3
}),
hotel_soldout:c({
x:153,
y:33,
z:2e3
}),
geosearch_place:c({
w:28,
h:25,
x:131,
y:96,
z:2e3
}),
city:c({
w:22,
h:21,
x:22,
y:97,
z:2e3
}),
city_current:c({
w:28,
h:25,
x:44,
y:97,
z:4e3
})
}, _ = {
hotel:c({
url:"//r.bstatic.com/static/img/map_sprites_visited_markers/33b475d25581f5b29b54296e99cdef7f5dc0a68e.png",
w:17,
h:28,
x:1,
y:0,
z:2e3
}),
hotel_soldout:c({
url:"//r.bstatic.com/static/img/map_sprites_visited_markers/33b475d25581f5b29b54296e99cdef7f5dc0a68e.png",
w:17,
h:28,
x:18,
y:1,
z:2e3
})
}, a = {
hotel:c({
url:"//r.bstatic.com/static/img/map_sprites_visited_markers/33b475d25581f5b29b54296e99cdef7f5dc0a68e.png",
w:17,
h:28,
x:1,
y:0,
z:2e3
}),
hotel_soldout:c({
url:"//r.bstatic.com/static/img/map_sprites_visited_markers/33b475d25581f5b29b54296e99cdef7f5dc0a68e.png",
w:17,
h:28,
x:18,
y:1,
z:2e3
})
}, s = "//r.bstatic.com/static/img/map_sprites_omnibus_mk10/5b3667e72b1c92071866620511426f3698deff58.png", l = {
url:s,
w:18,
h:27,
x:33,
y:33,
z:400
};
function c(t) {
return _i_("269:811aeaeb"), _r_(e.extend({}, l, t));
}
if (e.extend(o, {
hotel_soldout_current:c({
w:22,
h:36,
x:22,
y:60,
z:1010
}),
hotel_soldout:c({
x:17,
z:300
}),
hotel_current:c({
w:22,
h:36,
x:198,
y:60,
z:1e3
}),
hotel:c({}),
geosearch_place:c({
w:28,
h:25,
x:103,
y:96,
z:500
}),
city:c({
w:22,
h:21,
x:0,
y:97,
z:500
}),
city_current:c({
w:28,
h:25,
x:44,
y:97
})
}), B.env.fe_atlas_map_with_list_enabled && e.extend(o, {
hotel_large:c({
w:22,
h:36,
x:198,
y:60,
z:1e3
})
}), !i.get("tdot") && i.get("hasValidDates") && "hotel" == i.get("action") && (n = "//r.bstatic.com/static/img/map_sprites_omnibus_mk15/4206b244c07f061f06cedfce4d15d6a619a8a625.png", e.extend(o, {
hotel_soldout:c({
url:n,
w:16,
h:28,
x:198,
y:33
}),
hotel:c({
url:n,
w:16,
h:28,
x:215,
y:33
}),
hotel_comp_set:c({
url:n,
w:16,
h:28,
x:215,
y:33
})
}), e.extend(r, {
hotel_soldout:c({
url:n,
w:16,
h:28,
x:232,
y:33,
z:501
}),
hotel:c({
url:n,
w:16,
h:28,
x:249,
y:33,
z:501
}),
hotel_comp_set:c({
url:n,
w:16,
h:28,
x:249,
y:33,
z:501
})
})), !i.get("tdot") && i.get("hasValidDates") && "searchresults" == i.get("action") && (n = "//q.bstatic.com/static/img/map_sprites_sr_soldout_red_markers/e466b9d8f6a01c87b9d2f6962e85ed1add7f2800.png", e.extend(o, {
hotel_soldout:c({
url:n,
w:17,
h:28,
x:0,
y:0
})
}), e.extend(r, {
hotel_soldout:c({
url:n,
w:17,
h:28,
x:17,
y:1,
z:501
})
})), !i.get("tdot") && i.get("hasValidDates") && "hotel" == i.get("action") && (n = "//q.bstatic.com/static/img/map_sprites_sr_soldout_red_markers/e466b9d8f6a01c87b9d2f6962e85ed1add7f2800.png", e.extend(o, {
hotel:c({
x:34,
y:33,
z:60
}),
hotel_soldout:c({
url:n,
w:17,
h:28,
x:0,
y:0
})
}), e.extend(r, {
hotel:c({
x:153,
y:33,
z:2e3
}),
hotel_soldout:c({
url:n,
w:17,
h:28,
x:17,
y:0,
z:501
})
})), !i.get("tdot") && "searchresults" == i.get("action")) {
var d = "//q.bstatic.com/static/img/map_sprite_genius_v2/d664595e94e85264f524b9422a4c3b263494b592.png";
e.extend(o, {
hotel_genius:c({
url:d,
w:18,
h:27,
x:0,
y:0,
z:120
})
}), e.extend(r, {
hotel_genius:c({
url:d,
w:18,
h:27,
x:18,
y:0,
z:501
})
});
}
if ("hotel" == i.get("action")) {
var h = "//r.bstatic.com/static/img/map_sprite_landmark_white/d06630d4553ad0082d06bafec43fe2002db77448.png";
e.extend(o, {
landmark:c({
url:h,
w:21,
h:19,
x:0,
y:0,
z:100,
scaleW:71,
scaleH:23
}),
landmark_current:c({
url:h,
w:25,
h:22,
x:44,
y:0,
z:2e3,
scaleW:71,
scaleH:23
})
}), e.extend(r, {
landmark:c({
url:h,
w:21,
h:19,
x:22,
y:0,
z:900,
scaleW:71,
scaleH:23
})
});
}
i.get("bbtool_fv") && e.extend(o, {
hotel_company_favorite:c({
x:0,
y:33,
z:2999
}),
hotel_company_favorite_current:c({
x:0,
y:60,
w:22,
h:36,
z:2999
}),
company_saved_address:c({
x:66,
y:60,
w:22,
h:36,
z:3e3
})
});
function u(e) {
return _i_("269:b0143ac7"), _r_(e && o.hasOwnProperty(e) ? o[e] :o["default"]);
}
function f(t) {
return _i_("269:90d1fe22"), _r_(t && r.hasOwnProperty(t) ? e.extend({}, u(t), r[t]) :u(t));
}
function p(t) {
return _i_("269:399ef496"), _r_(t && _.hasOwnProperty(t) ? e.extend({}, u(t), _[t]) :u(t));
}
function b(t) {
return _i_("269:4c335a5b"), _r_(t && a.hasOwnProperty(t) ? e.extend({}, u(t), a[t]) :u(t));
}
e.extend(this, {
ICONS:o,
HOVER_ICONS:r,
getIcon:u,
getHover:f,
getVisited:p,
getOpened:b
}), _r_();
}
return _r_({
init:n,
getInstance:function() {
_i_("269:bb456a3a");
var e = {};
return n.call(e), _r_(e);
}
});
}), _r_();
}), $(function() {
"use strict";
_i_("269:766233fd");
var e = [ "util-env", "util-array", "atlas-common-overlay", "plot-markers-default" ];
if (!B.atlas) return _r_();
B.atlas.define("atlas-common-markers", e, function(e, t, i, n) {
_i_("269:15940d72");
var o, r = {
setTimeout:null
}, _ = 100, a = null, s = e.get("action");
function l(e, t, i) {
_i_("269:a94374c5");
var n, r, _, a, s = 35, l = 56, c = 5, d = this.ubber.$domNode, h = this.config, u = h && h.marker, f = {
w:d.width(),
h:d.height()
}, p = {
w:e.outerWidth(),
h:e.outerHeight()
};
return l = l > f.w - i.x - c ? c :l, o && (u && (a = u.b_states && u.b_states.overlay ? o.getMarkerDimension(u) :o.getMarkerIcon(u)), a && (_ = a.h)), _ = _ || 27, p.w + c + l > f.w && (p.w = f.w - c - l, e.find(".iw-container").css({
"max-width":p.w
})), n = i.x - c - p.w / 2, n = n + p.w + c > f.w ? f.w - p.w - c - l :n, n = 3 > n - l ? 3 :n, r = i.y + p.h > f.h - s ? i.y - p.h - _ - 12 :i.y + 4, _r_({
x:n,
y:r
});
}
function c(e) {
_i_("269:48f89195"), e.setIW({
disablePan:!0,
className:"iw-overlay-lp",
engine:"html",
getPosition:l,
isFixed:!0
}), _r_();
}
function d(t, i) {
if (_i_("269:4dfc9c6c"), i && i.data && i.data.b_id && i.data.b_basic_type) {
var n = {};
n.className = "iw-overlay-lp iw-overlay-" + i.data.b_basic_type + (i.data.b_id === e.get("destinationId") ? "-current" :""), t.setIW(n);
}
_r_();
}
function h() {
_i_("269:9532f251");
var e = this;
n.prepare([], e), e.getMarkers().then(function(t) {
_i_("269:801192e6");
var i = t;
return i = n.add(i, e, t), i = n.manipulate(i, e), i = n.disperse(i, e), _r_(e.setMarkers(i).then(function(t) {
return _i_("269:0363b01b"), e.trigger(e.EVENTS.MARKERS_READY, t), _r_(t);
}));
}), e.get("topLandmarkIWOpen") || e.closeIW(), _r_();
}
function u(t) {
_i_("269:2b125385");
var i = this, n = B.rocketmiles_results && B.rocketmiles_results[t.data.b_id];
if ("hotel" == s && "landmark" == t.data.b_basic_type) return i.openIW(t.id, {}, B.jstmpl("atlas_iw_mini_landmark").render(t.data)), _r_(!0);
if ("geosearch_place" === t.type && t.data) return i.setIW({
className:"iw-overlay-lp iw-overlay-geosearch-place"
}), i.openIW(t.id, t.data.data), _r_(!0);
if (/^(city|airport)/.test(t.type) || e.get("isLandOrAddrMarkerEnabled") && /^(landmark|event)/.test(t.type) || e.get("isSkiArea") && "landmark" === t.data.b_basic_type) {
if (a !== t.id) return a && i.setIconOut(a), i.closeIW(), d(i, t), "hotel" == s && /^(city)/.test(t.type) && (t.data.b_states = t.data.b_states || {}, B.atlas.require("ufi-toggle-polygon").checkEnableCityCenterCopy(t.data, i) ? t.data.b_states.fe_city_center_copy = !0 :t.data.b_states.fe_city_center_copy = !1), t.data.b_is_current = (t.id || t.data.b_id) === e.get("destinationId"), i.openIW(t.id, {}, B.jstmpl("atlas_iw_mini_landmark").render(t.data)), _r_(!0);
} else {
if ("opentable_small" === t.type) return d(i, t), i.openIW(t.id, {}, B.jstmpl("xsell_ot_iw_mini").render(t.data)), _r_(!0);
if (e.get("bbtool_fv") && /company_saved_address/.test(t.type)) return d(i, t), i.openIW(t.id, {}, B.jstmpl("atlas_iw_mini_company_saved_address").render(t.data)), _r_(!0);
if (n) {
var o = B.require("rocketmiles-api"), r = o.hotelCardData(B.rocketmiles_results[t.data.b_id]);
return i.openIW(t.id, {}, B.jstmpl("sp_rocketmiles_maps_iw_mini").render(r)), _r_(!0);
}
if ("hotel" === t.data.b_basic_type && B.env.fe_atlas_map_with_list_enabled) return i.closeIW(), i.openIW(t.id, {}, B.jstmpl("atlas_iw_mini_map_with_list").render(t.data)), _r_(!0);
}
return _r_(!1);
}
function f(t) {
_i_("269:b1d4298f");
var i = this;
r.setTimeout && clearTimeout(r.setTimeout), r.setTimeout = setTimeout(function() {
_i_("269:77777323"), i.setIconHover(t.id), i.trigger("marker-hover-triggered", t), i.once("iw-rendered", function(e) {
_i_("269:7a607021"), e === t.id && i.trigger("marker-hover-triggered-ga", t), _r_();
}), !u.call(i, t) && t.id && /^(hotel)/.test(t.data.b_basic_type) && a !== t.id && (a && i.setIconOut(a), i.closeIW(), d(i, t), e.get("hasValidDates") && "hotel" === s ? i.openIWLoading(t.id, B.jstmpl("atlas_iw_mini_loading_with_marker_data").render(t.data)) :i.openIWLoading(t.id, B.jstmpl("atlas_iw_mini_loading").render({})), t.data.iwXHR = i.getIW(t.id, function(n) {
_i_("269:550c2693");
var o;
if ("object" != typeof n) return _r_();
e.get("destinationId") == t.id ? i.set("currentHotel", n) :n.b_destination_reference = i.get("currentHotel"), n.b_basic_type = t.data ? t.data.b_basic_type :"", "searchresults" === s && (o = B.atlas.require("cheapest-price"), n.b_is_cheapest = o.isCheaper({
markerData:n,
map:i
})), d(i, t), n = $.extend(t.data, n), i.openIW(t.id, {}, B.jstmpl("atlas_iw_mini").render(n)), _r_();
})), _r_();
}, _), _r_();
}
function p(e) {
_i_("269:656d393a");
var t = this;
e.data && e.data.iwXHR && e.data.iwXHR.abort && e.data.iwXHR.abort(), r.setTimeout && clearTimeout(r.setTimeout), B.atlas.getVariant("ebccCcCcCDSScYMeCFC") ? t.setIconOut(e.b_atlas_id) :t.setIconOut(e.id), a === e.id || e.data.b_preventIwAutoClose || (t.setIW({
className:"iw-overlay-lp"
}), t.closeIW()), _r_();
}
function b(t) {
_i_("269:a278a69f");
var i = this, n = i.getMarker(t.id);
n && n.data && ("hotel" === s && n.b_states.compset && B.et.goalWithValue("js_map_hp_compset_click", 1), "hotel" === s && /^hotel.*/.test(n.data.b_type) && !/current/.test(n.data.b_type) && setTimeout(function() {
_i_("269:18c222ad"), i.setIconVisited(n.b_atlas_id), _r_();
}, 100), (n.data.b_id !== e.get("destinationId") && /city|address|airport/.test(n.data.b_type) || "opentable_small" === n.b_type) && (a && i.setIconOut(a), a = n.b_atlas_id, i.openIWLoading(n.b_atlas_id), i.setIconHover(n.b_atlas_id), d(i, n), "opentable_small" === n.b_type ? i.openIW(n.b_atlas_id, {}, B.jstmpl("xsell_ot_iw_mini").render(n.data)) :i.openIW(n.b_atlas_id, {}, B.jstmpl("atlas_iw_landmark").render(n.data)))), _r_();
}
function m(e) {
_i_("269:9d845ae9");
var t = this, i = e.property;
r.setTimeout && clearTimeout(r.setTimeout), a !== i.b_atlas_id && (t.setIconOut(i.data.b_atlas_id), t.setIW({
className:"iw-overlay-lp"
}), t.closeIW()), _r_();
}
function g(t) {
if (_i_("269:9fd4c061"), o = t, c(t), e.get("bbtool_fv") && t.plotMarkers.manipulate.set("company-favorite", function(e, t) {
return _i_("269:5270417f"), e.forEach(function(e) {
_i_("269:dd32abd9"), "hotel" === e.b_basic_type && e.b_states.company_favorite && !/company_favorite/.test(e.b_type) && (e.b_type = "hotel_company_favorite", e.b_persistent = !0), _r_();
}), _r_(e);
}), t.plotMarkers.manipulate.set("set-current-marker", function(t, i) {
_i_("269:40d3eb14"), t.forEach(function(t) {
_i_("269:a2a12f33"), t.b_id === e.get("destinationId") && (t.b_type = t.b_type + "_current"), _r_();
}), _r_();
}), B.atlas.getVariant("ebccCcCcCWNVdVTPREFHT")) {
var i = e.get("destinationId");
t.plotMarkers.manipulate.set("remove-cities", function(e, t) {
return _i_("269:704aad8f"), _r_(e.filter(function(e) {
return _i_("269:d1ac6360"), _r_(!(/city/.test(e.b_type) && e.b_id !== i));
}));
});
}
!function() {
_i_("269:b36883c7");
var e = B.atlas.getVariant("ebccCcCcCWNAdMKJZKe");
e && (2 === e && t.plotMarkers.manipulate.set("remove-soldouts", function(e, t) {
return _i_("269:cba2a77d"), _r_(e.filter(function(e) {
return _i_("269:cca91f79"), _r_(!e.b_states.soldout);
}));
}), t.plotMarkers.manipulate.set("maps_www_sr_price_markers", function(t, i) {
_i_("269:48f771b3"), t.forEach(function(t, i) {
_i_("269:63e86ea9"), 1 === e ? t.b_states.bigger_price = !0 :3 === e && 10 > i && (t.b_persistent = !0), _r_();
}), _r_();
})), _r_();
}(), t.on("idle", h), t.on("marker-click", function(e) {
_i_("269:d80fafdc");
var t = e.data;
B.env.fe_atlas_map_with_list_enabled && t && /^hotel/.test(t.b_basic_type) ? window.open(e.data.b_url + ";atlas_src=sr_iw_btn;from_sr_map=1;from=searchresults", "_blank") :b.call(this, e), _r_();
}), t.on(t.EVENTS.FIXED_IW_AUTO_OPEN, b), t.on("close", t.closeIW), t.on("open", v), t.on("ready-for-autoopen", v), t.on("marker-hover-triggered", u), t.on("marker-hover", f), t.on("marker-out", p), t.on("iw-close", function() {
_i_("269:cbec5dd4"), a && (t.setIconOut(a), a = null), _r_();
}), e.get("hasValidDates") && (t.on("iw-get-before", function(e) {
_i_("269:18f0e96c");
var i = e.marker;
if (!i || "hotel" !== i.b_basic_type) return _r_();
i.b_states && i.b_states.soldout || t.once("iw-get-success", function(e) {
_i_("269:a4ddd18b");
var t, n = e && e.b_hotels && e.b_hotels[i.b_id];
n && (t = n.soldout, t && "function" == typeof B.squeak && B.squeak("fBTeecTcEBWOMPXYPTDaPPYAQHDFQaQC")), _r_();
}), _r_();
}), t.on("iw-get-success", function(e) {
_i_("269:9b7c9794");
var t, i = e && e.b_hotels && e.b_hotels;
if (!i) return _r_();
for (var n in i) t = i[n], t.soldout || t.b_availability && t.b_availability.b_blocks || "function" != typeof B.squeak || B.squeak("fBTeeccQIFdOTAZfVIePYbONMOKe");
_r_();
})), e.get("debug") && console && t.on("markers-dispersed", y), e.get("isVillaSite") || "searchresults" != s && "hotel" != s || t.on("fixed-iw-open", m), $("body").on("click", "#marker_close", function() {
_i_("269:69492c74"), t.closeIW(), _r_();
}), _r_();
}
function v() {
_i_("269:bce84fcd");
var t, i = this, n = e.get("destinationAtlasId");
if (t = i.getMarker(n), !t) return i.once(i.EVENTS.MARKERS_READY, v), _r_();
"hotel" === t.b_basic_type ? (i.trigger(i.EVENTS.FIXED_IW_AUTO_OPEN, {
id:t.b_atlas_id,
type:t.b_type,
latLng:[ t.b_latitude, t.b_longitude ],
data:t,
isAutoOpen:!0
}), "hotel" === s && i.once("iw-get-success", function(t) {
_i_("269:59714e88"), t && t.b_hotels && !i.get("currentLabelShown") && B.atlas.require([ "label-current-hotel" ], function(n) {
_i_("269:219883c4"), new n({
map:i,
label:B.jstmpl("atlas_current_property_label").render(t.b_hotels[e.get("destinationId")])
}), i.set("currentLabelShown", !0), _r_();
}), _r_();
})) :n && i.get("currentPropertyId") || (i.set("srUfiIwAutoShown", !0), i.openIW(t.b_atlas_id, {}, B.jstmpl("atlas_iw_landmark").render(t)), i.trigger("ufi-current-iw-auto-open")), _r_();
}
function y(e) {
_i_("269:1e192a26");
var t, i, n = {
hotel:function(e) {
return _i_("269:09646668"), _r_("hotel" === e.b_basic_type);
},
"hotel.available":function(e) {
return _i_("269:baf1623d"), _r_("hotel" === e.b_basic_type && e.b_states && e.b_has_av);
},
"hotel.soldout":function(e) {
return _i_("269:071ef55f"), _r_("hotel" === e.b_basic_type && e.b_states && e.b_states.soldout);
},
"hotel.searchresults":function(e) {
return _i_("269:b10a5789"), _r_("hotel" === e.b_basic_type && e.b_states && e.b_states.searchresults);
},
"hotel.compset":function(e) {
return _i_("269:2a8d39f5"), _r_("hotel" === e.b_basic_type && e.b_states && e.b_states.compset);
},
city:function(e) {
return _i_("269:2f3d764a"), _r_("city" === e.b_basic_type);
},
landmark:function(e) {
return _i_("269:65330b9f"), _r_("landmark" === e.b_basic_type);
}
}, o = {};
if (console && console.table) {
for (i in n) t = e.filter(n[i]).length, t > 0 && (o[i] = {
number:t
});
console.table(o);
}
_r_();
}
return _r_({
init:g,
setupIW:c,
getIWPosition:l,
markerOut:p,
markerClick:b,
idle:h
});
}), _r_();
}), function() {
_i_("269:eec41827");
var e = B.require("jquery");
e(function() {
"use strict";
if (_i_("269:c730cd53"), !B.atlas) return _r_();
var t = [ "pubsub", "util-env" ], i = B.require("promise");
B.atlas.define("atlas-common-overlay", t, function(t, n, o) {
if (_i_("269:613c1eb2"), B.atlas.getVariant("ebccCcCcCDSDNQcbRYfHYOZKe")) var r = new i(function(e) {
_i_("269:2d80fc92");
var t, i = {};
n.get("destinationId") && n.get("destinationType") ? B.require("fragment").call("geo.get_map_bounding_box", {
dest_id:n.get("destinationId"),
dest_type:n.get("destinationType"),
checkin:n.get("checkinDate"),
checkout:n.get("checkoutDate"),
aid:n.get("aid")
}).then(function(t) {
_i_("269:f9a05870"), i.boundingBox = {
sw:[ t.sw_lat, t.sw_long ],
ne:[ t.ne_lat, t.ne_long ]
}, e(i), _r_();
}, function() {
_i_("269:c566e69d"), B.env.b_map_bbox ? (t = B.env.b_map_bbox.split(","), i.boundingBox = {
sw:[ t[1], t[0] ],
ne:[ t[3], t[2] ]
}, e(i)) :e({}), _r_();
}) :e({}), _r_();
});
var _, a = {}, s = ".show_map", l = "#close_map_lightbox, #close_map", c = "#b_map_container", d = "map_opened", h = new t(), u = B.env, f = u.b_map_center_latitude || u.b_latitude, p = u.b_map_center_longitude || u.b_longitude, b = u.b_map_google_static_thumbnail_zoom_level || 14, m = e(c), g = e("body"), v = window.location, y = !1, w = window.history && window.history.replaceState && "searchresults" === n.get("action") && n.get("isNotIE11AndBelow"), M = [], k = n.get("isMapSrAjax") && "searchresults" === B.env.b_action;
e.extend(a, h);
var C = B.require("events");
h.on("open", function() {
_i_("269:cf0eb7f6"), C.trigger("atlas-common-overlay:open"), _r_();
}), h.on("close", function() {
_i_("269:33884d71"), C.trigger("atlas-common-overlay:close"), _r_();
});
function T(t) {
_i_("269:b1473b75");
var i, o, r, _ = {};
return t && (i = e('[data-map-id="' + t + '"]'), o = i.data("bbox") || u.b_map_bbox, r = i.data("coords")), o ? (r = o.split(","), _.boundingBox = {
sw:[ r[1], r[0] ],
ne:[ r[3], r[2] ]
}) :"string" == typeof r && i.length ? (r = r.split(","), _ = e.extend(_, {
center:[ r[1], r[0] ],
zoom:parseInt(i.data("zoom") || i.attr("rel") || b, 10),
boundingBox:null
})) :n.get("defaultBoundingBox") ? (r = n.get("defaultBoundingBox").split(","), _.boundingBox = {
sw:[ r[0], r[1] ],
ne:[ r[2], r[3] ]
}) :n.get("googleBoundingBox") ? (r = n.get("googleBoundingBox").split(","), _.boundingBox = {
sw:[ r[1], r[0] ],
ne:[ r[3], r[2] ]
}) :_ = e.extend(_, {
center:[ f, p ],
zoom:parseInt(b, 10),
boundingBox:null
}), /^show_id/.test(t) && B.atlas.getVariant("ebccCcCcCWNMSAUETbNKe") ? _.currentPropertyId = t.replace(/^show_id/, "") :_.currentPropertyId = null, _r_(_);
}
function x() {
_i_("269:f6ae7d8c");
var t, o = new RegExp("(?:" + d + "-)(.+)", "i"), _ = o.exec(v.hash), a = {
center:[ f, p ],
zoom:b
};
if (null !== _ && _[1] ? a.centralPolygonCoords = e("#" + _[1]).data("centralPolygon") || "" :a.centralPolygonCoords = "", n.get("isMapSrAjax") && _ && _[1]) {
var s = _[1], l = e('[data-map-id="' + s + '"]'), t = l.data("coords");
if (t) {
t = t.split(",");
var c = _[1].replace(/show_id/, "");
a.propertyId = c, a.selectedProperty = {
id:c,
latitude:t[1],
longitude:t[0],
$trigger:l
};
}
}
var h = new i(function(e, i) {
if (_i_("269:938ff91f"), _ && 2 === _.length) a = T(_[1]); else {
if (!n.get("tdot") && "hotel" === n.get("action")) return _r_(B.atlas.getVariant("ebccCcCcCDSDNQcbRYfHYOZKe") ? r.then(function(t) {
_i_("269:59776c4b"), e(Object.assign(a, t)), _r_();
}) :B.require("fragment").call("geo.get_map_bounding_box", {
dest_id:n.get("destinationId"),
dest_type:n.get("destinationType"),
checkin:n.get("checkinDate"),
checkout:n.get("checkoutDate"),
aid:n.get("aid")
}).then(function(t) {
_i_("269:1d63dcc5"), a.boundingBox = {
sw:[ t.sw_lat, t.sw_long ],
ne:[ t.ne_lat, t.ne_long ]
}, e(a), _r_();
}, function() {
_i_("269:e3d4bdfe"), t = B.env.b_map_bbox.split(","), a.boundingBox = {
sw:[ t[1], t[0] ],
ne:[ t[3], t[2] ]
}, e(a), _r_();
}));
u.b_map_bbox ? (t = u.b_map_bbox.split(","), a.boundingBox = {
sw:[ t[1], t[0] ],
ne:[ t[3], t[2] ]
}) :n.get("defaultBoundingBox") ? (t = n.get("defaultBoundingBox").split(","), a.boundingBox = {
sw:[ t[0], t[1] ],
ne:[ t[2], t[3] ]
}) :a = T();
}
e(a), _r_();
});
return _r_(h);
}
function E() {
_i_("269:5b841dae"), B.require("et").stage("ebccCcCcCDSDNQcbRYfHYOZKe", 1);
var t = x();
t.then(function(t) {
_i_("269:43db3ce0"), B.env.fe_atlas_map_with_list_enabled || S(), B.env.relocation_mode, m.show(), n.get("enableDistrictPolyFromSRLink") && B.atlas.require("current-district-polygon").updateState(t), h.trigger("open", t), y = !0, "searchresults" === n.get("action") && B.et.track("OQPIFdTLFbOFUIEFGWe") && e("body").addClass("sr-map-view-visible"), n.get("disableBodyScroll") && g.css("overflow", "hidden"), _r_();
}), _r_();
}
function S(t) {
_i_("269:0092324d"), t = t || m;
var i = e(window).scrollTop(), o = 50, r = {}, _ = n.get("isRTL");
k && (r[_ ? "right" :"left"] = B.atlas.require("split-view").getAdjustedLeftMargin()), !B.atlas.assert.tdot && "hotel" === B.env.b_action || k ? (r.top = o, r.bottom = 30, m.addClass("b_map_container_fixed")) :(r.top = o + i, r.bottom = 30 - i), t.css(r), _r_();
}
function N() {
if (_i_("269:82b99299"), !y) return _r_();
B.env.fe_atlas_map_with_list_enabled || m.hide(), y = !1, h.trigger("close"), "searchresults" === n.get("action") && B.et.track("OQPIFdTLFbOFUIEFGWe") && e("body").removeClass("sr-map-view-visible"), n.get("disableBodyScroll") && g.css("overflow", "auto"), _r_();
}
function O(e) {
if (_i_("269:9bd51558"), w ? j(e) :v.hash = e || "map_closed", typeof window.onhashchange === o || w) return _r_(e ? E() :N());
_r_();
}
function j(e) {
_i_("269:c10a779c");
var t, i = "#" + (e || "map_closed");
M.push(i), t = M.reduceRight(function(e, t) {
return _i_("269:e6dd891f"), (/^#map_/.test(t) || /^#map_/.test(e)) && e.unshift(t), _r_(e);
}, []), window.history.replaceState({
mapHist:t
}, o, i), M = e ? M :[], _r_();
}
function I(e, t) {
_i_("269:8e3ce53d"), _ = t, O(e ? d + "-" + e :d), _r_();
}
function A() {
_i_("269:910367e0"), O(), _r_();
}
function P(t) {
_i_("269:69fe4fe8");
var i = e(this).attr("data-map-id");
t.preventDefault(), t.stopPropagation(), "searchresults" === n.get("action") ? B.et.goal("atlas_sr_open_click") :"hotel" === n.get("action") && B.et.goal("atlas_hp_open_click"), I(i), _r_();
}
function L() {
_i_("269:2e1f39b5"), A(), _r_();
}
function $(t) {
_i_("269:78a10eb6"), e(document).on("click", s, function() {
_i_("269:e9aced16");
var i = e(this), n = i.data("source");
t.trigger("map-open", n), _r_();
}).on("click", l, function() {
_i_("269:f5c2ad44"), t.trigger("map-close", "button"), _r_();
}), e(document).keyup(function(e) {
_i_("269:dc54746e"), 27 === e.which && m.is(":visible") && t.trigger("map-close", "esc"), _r_();
}), n.get("triggerAutoOpen") && t.trigger("map-open", "param"), v.hash.indexOf(d) > -1 && t.trigger("map-open", "hash"), _r_();
}
function D() {
if (_i_("269:7118b042"), e(document).on("click", s, P).on("click", l, L), e(document).keyup(function(e) {
_i_("269:e5d773a6"), 27 === e.which && m.is(":visible") && setTimeout(function() {
_i_("269:f566da9a"), A(), _r_();
}, 1), _r_();
}), n.get("triggerAutoOpen")) {
if (B.atlas.assert.hp) R(), B.et.goal("atlas_hp_open_auto"); else if (B.atlas.assert.sr) {
if (window.history && window.history.pushState && B.et.track("AEJPCceGNffaAUaJKe")) {
var t = document.title ? document.title :"", i = window.location.search, r = window.location.pathname ? window.location.pathname :"", _ = r + i;
window.history.pushState("map close", t, _);
}
} else B.atlas.assert.lp && B.et.goal("atlas_lp_open_auto");
O(v.hash.indexOf(d) > -1 ? d + "_" + Math.floor(1e6 * Math.random()) :d);
} else v.hash.indexOf(d) > -1 && E();
w ? e(window).on("popstate", function(e) {
_i_("269:0492953f");
var t, i = e.originalEvent.state && e.originalEvent.state.mapHist;
i ? (t = "#", /^#map_/.test(i[0]) || (t = i[0]), window.history.replaceState(o, o, t)) :(M.push(v.hash), v.hash.indexOf(d) > -1 ? E() :N()), _r_();
}) :e(window).on("hashchange", function() {
return _i_("269:af155c9f"), _r_(v.hash.indexOf(d) > -1 ? E() :N());
}), !B.env.fe_atlas_map_with_list_enabled && k && e(window).bind("resize", function() {
_i_("269:0ad126b4"), B.atlas.require("split-view").adjustLeftMargin(m), _r_();
}), _r_();
}
function R() {
if (_i_("269:2301eea9"), B.env.b_paid_traffic && window.history && window.history.pushState) {
var e = document.title ? document.title :"", t = window.location.search, i = window.location.pathname ? window.location.pathname :"", n = i + t;
window.history.pushState("map close", e, n);
}
_r_();
}
function J(t, i, n) {
_i_("269:d952d6ce");
var r, _, a = 100;
m = i || m, t.on("marker-hover", function(e) {
_i_("269:660de76e");
var i = t.getMarker(e.id), o = function() {
_i_("269:be229550"), i && (t.trigger("marker-mini-iw-hover", {
id:i.b_atlas_id,
type:i.b_type,
latLng:[ i.b_latitude, i.b_longitude ],
data:i
}), r = e.id), _r_();
};
if (r == e.id) return clearTimeout(_), _r_();
n instanceof RegExp && e.id && !n.test(t.getMarker(e.id).data.b_type) ? o() :setTimeout(o, a), _r_();
}), t.on("marker-out", function(e) {
_i_("269:bfdae345");
var i = function() {
_i_("269:f5b29090");
var i = t.getMarker(e.id);
i && (t.trigger("marker-mini-iw-out", e), r == e.id && (r = o)), _r_();
};
n && e.id && !n.test(t.getMarker(e.id).data.b_type) ? i() :_ = setTimeout(i, a), _r_();
});
var s = ".iw-overlay-hotel .mini, .iw-overlay-hotel-current .mini";
B.env.fe_atlas_map_with_list_enabled && (s += ", .map-card__container.mini"), m.on("mouseenter", s, function() {
_i_("269:355784ec");
var t = e(this).data("marker-id");
if (!t) return _r_();
r == t ? clearTimeout(_) :r = t, _r_();
}), m.on("mouseleave", s, function() {
_i_("269:21ed0390");
var i, n = e(this).data("marker-id");
if (!n) return _r_();
r == n && (_ = setTimeout(function() {
_i_("269:7d1c4b28"), i = t.getMarker(n), i && (t.trigger("marker-mini-iw-out", {
id:i.b_atlas_id,
type:i.b_type,
latLng:[ i.b_latitude, i.b_longitude ],
data:i
}), r == n && (r = o)), _r_();
}, a)), _r_();
}), m.on("click", s, function() {
_i_("269:709388a3");
var i = e(this).data("marker-id"), n = i && t.getMarker(i);
if (!i || !n) return _r_();
t.trigger("marker-mini-iw-click", {
id:n.b_atlas_id,
type:n.b_type,
latLng:[ n.b_latitude, n.b_longitude ],
data:n
}), _r_();
}), _r_();
}
function F() {
return _i_("269:fa168f0c"), _r_({
isOpen:y,
options:_
});
}
return e.extend(a, {
addEvents:D,
addGAEvents:$,
addMiniIWEvents:J,
getStatus:F,
close:A,
open:I
}), _r_(a);
}), _r_();
}), _r_();
}(), $(function() {
"use strict";
if (_i_("269:e8922fe3"), !B.atlas) return _r_();
B.atlas.define("google-analytics", [ "util-env", "util-object", "pubsub" ], function(e, t, i) {
_i_("269:5fa3b168");
var n, o = {
page:e.get("action"),
isWithDates:!!e.get("checkinCheckoutInterval")
}, r = new i(), _ = B.require("ga-tracker"), a = [ {
event:"map-open",
source:function(e) {
return _i_("269:ed89fee3"), _r_(e);
},
action:"show_map"
}, {
event:"map-close",
source:function(e) {
return _i_("269:ed89fee31"), _r_(e);
},
action:"close_map"
} ], s = [ {
event:"click",
action:"gm_market_POI_click",
cond:function(e) {
return _i_("269:6281cd7b"), _r_(e && e.placeId ? !0 :!1);
}
}, {
event:"marker-click",
source:function(e) {
return _i_("269:5e35240d"), _r_(e.data.b_type);
},
action:"marker_click"
}, {
event:"marker-hover-triggered-ga",
source:function(e) {
return _i_("269:5e35240d1"), _r_(e.data.b_type);
},
action:"marker_hover"
}, {
event:"iw-click-title",
source:"title",
action:"iw_click"
}, {
event:"iw-click-button",
source:"reserve_button",
action:"iw_click"
}, {
event:"iw-close.button",
source:"close_button",
action:"iw_close"
}, {
event:"zoomin.button",
source:"zoom_control",
action:"zoomin"
}, {
event:"zoomout.button",
source:"zoom_control",
action:"zoomout"
}, {
event:"zoom",
source:"all",
action:function(e) {
_i_("269:4d9c0ef4");
var t;
return t = e > n ? "zoomin" :n > e ? "zoomout" :void 0, n = e, _r_(t);
}
}, {
event:"doubleclick",
source:"doubleclick",
action:"zoomin"
}, {
event:"google-map-type-change",
source:"maptype_control",
action:"maptype_change",
value:function(e) {
_i_("269:03f97944");
var t = {
hybrid:1,
roadmap:2,
satellite:3,
terrain:4
};
return _r_(t[e]);
}
}, {
event:"drag-start",
source:"mouse",
action:"drag_map"
} ];
function l(e) {
_i_("269:d3fd6337"), d(a, r), e.addGAEvents(r), _r_();
}
function c(e) {
_i_("269:026fd0bd"), e.on(e.EVENTS.LOAD, function() {
_i_("269:0932ccc3"), n = e.getZoom(), _r_();
}), d(s, e), _r_();
}
function d(e, i) {
_i_("269:a9368705"), e.forEach(function(e) {
_i_("269:2553f80a"), i.on(e.event, function(i) {
_i_("269:81f4aa43");
var n = t.extend({}, o, e);
Object.keys(n).forEach(function(e) {
_i_("269:3bc1d67a"), "function" == typeof n[e] && (n[e] = n[e](i)), _r_();
}), h(n), _r_();
}), _r_();
}), _r_();
}
function h(e) {
_i_("269:74fdb64a");
var t = {
hitType:"event",
eventCategory:"Map",
nonInteraction:1
};
if (e.hasOwnProperty("cond") && !e.cond) return _r_();
if (!e.action) return _r_();
t.eventAction = e.action + ":", t.eventAction += e.source || "", t.eventLabel = e.page + ":", t.eventLabel += e.isWithDates ? "with_dates" :"without_dates", e.value && (t.eventValue = e.value), _.trackEvent(t.eventCategory, t.eventAction, t.eventLabel, t.eventValue), _r_();
}
return _r_({
trackMap:c,
trackPage:l,
gaPubSub:r
});
}), _r_();
}), $(function() {
if (_i_("269:60366261"), !B.atlas) return _r_();
B.atlas.define("atlas-style", function() {
"use strict";
return _i_("269:7f07c66e"), _r_({
setStyle:function(e) {
_i_("269:3ca9919d"), "function" == typeof this.Interface.setStyle && this.Interface.setStyle(e), _r_();
}
});
}), B.atlas.define("default-styles", [ "styles-cartography" ], function(e) {
_i_("269:a0e496f8");
var t = [];
return t = e.STYLES.concat(t), _r_(t.length ? {
STYLES:t
} :{});
}), _r_();
}), $(function() {
if (_i_("269:016f86c2"), !B.atlas) return _r_();
B.atlas.define("atlas-retina", function() {
_i_("269:a18aa2bc");
var e = !1, t = 1.5, i = window.screen;
return i && "undefined" != typeof i.systemXDPI && "undefined" != typeof i.logicalXDPI && i.systemXDPI > i.logicalXDPI ? e = i.systemXDPI / i.logicalXDPI > t :void 0 !== window.devicePixelRatio && (e = window.devicePixelRatio > t), _r_(e);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:485fb153"), !B.atlas) return _r_();
B.atlas.define("template-helpers", [ "jQuery", "util-env" ], function(e, t) {
_i_("269:e63f91e0");
function i() {
if (_i_("269:20ebca5c"), !B.jstmpl) return _r_();
B.jstmpl.fn.HELPER_FROM_PRICE = function(e) {
return _i_("269:918a05ee"), _r_(B.env.map_vars.translation_from.replace("price_placeholder", e).replace("price_placeholdernbsp;", "$ "));
}, B.jstmpl.fn.HELPER_IS_DEFINED = function(e) {
return _i_("269:b0002327"), _r_(!!e || 0 === e || e === !1);
}, B.jstmpl.fn.HELPER_ENV = function(e) {
return _i_("269:d5e6da89"), _r_(B.env.hasOwnProperty(e) ? B.env[e] :"");
}, B.jstmpl.fn.HELPER_LENGTH = function(e) {
return _i_("269:7cbd17d1"), _r_("string" == typeof e ? e.length :0);
}, B.jstmpl.fn.HELPER_IW_B_BLOCKS = function(e, t, i) {
if (_i_("269:50c0cfe7"), !e) return _r_(!1);
if (e[t] && e[t][i]) return _r_(e[t][i]);
if (e.b_room_group && e.b_room_group[t] && e.b_room_group[t][i]) return _r_(e.b_room_group[t][i]);
return _r_(!1);
}, B.jstmpl.fn.ATLAS_TRACK = function(e) {
return _i_("269:ddb152a9"), _r_(B.atlas && B.atlas.trackInTemplate ? B.atlas.trackInTemplate(e) :!1);
}, B.jstmpl.fn.ATLAS_ENV = function(e) {
return _i_("269:6e6069d2"), _r_(e ? t.get(e) :!1);
}, B.jstmpl.fn.ATLAS_FLAGS = function(e, t) {
return _i_("269:948bbd4a"), _r_(e[t] && 1 == e[t] ? "1" :"");
}, B.jstmpl.fn.strings = function(e) {
_i_("269:94604234");
var t = "";
try {
t = B.strings(e);
} catch (i) {
B.reportError && B.reportError(i, "Atlas: B.strings not found");
}
return _r_(t);
}, B.jstmpl.fn.ATLAS_CUSTOM_GOAL = function(e, t) {
_i_("269:88bb1dd8"), B.et.customGoal(e, t), _r_();
}, B.jstmpl.fn.ATLAS_KEYS = function(e) {
return _i_("269:096b299d"), _r_("object" == typeof e ? Object.keys(e) :[]);
}, _r_();
}
return _r_({
init:i
});
}), _r_();
}), function() {
"use strict";
_i_("269:8a1f4a89"), B.atlas.define("atlas-feature-loader", [ "jQuery", "util-env" ], function(e, t) {
_i_("269:2b2b14c8");
function i(t, i, n) {
_i_("269:903d750e");
var o = [];
return t.forEach(function(t) {
_i_("269:a4e93415");
var r = B.et.track(t.name);
if (t.stages && t.cond && Array.isArray(t.stages) && t.stages.forEach(function(e) {
_i_("269:466e3e8c"), i.on(e.event, function n(o) {
_i_("269:d19ab4da"), "function" == typeof e.cond ? e.cond.call(i, o) && (B.et.stage(t.name, e.stage), i.off(e.event, n)) :(void 0 === e.cond || e.cond) && (B.et.stage(t.name, e.stage), i.off(e.event, n)), _r_();
}), _r_();
}), (r || t.fullOn || t._FORCE_VARIANT_) && t.cond && (Array.isArray(t.atlasModules) && B.atlas.require(t.atlasModules, function() {
_i_("269:b347ccf9");
var t, n, o, r = [].slice.call(arguments);
for (t = 0, n = r.length; n > t; ++t) o = r[t], o && o.init ? o.init.call(i) :e.extend(i, o);
_r_();
}), t.autoload = "number" == typeof t.autoload && r !== t.autoload ? !1 :t.autoload, t.autoload)) try {
var _ = B.atlas.require(t.name), a = _.init && _.init({
map:i,
atlasOptions:n,
variant:r
});
o.push(a);
} catch (s) {
B.reportError && B.reportError(s, "Atlas: failed to load " + t.name), B.env.b_dev_server && console.error(s);
}
_r_();
}), _r_(o);
}
return _r_({
init:i
});
}), _r_();
}(), $(function() {
"use strict";
if (_i_("269:dc122a2e"), !B.atlas) return _r_();
B.atlas.define("atlas-label", [ "jQuery", "geo.latLng" ], function(e, t) {
_i_("269:e2b904aa");
function i(i, n) {
if (_i_("269:3c684a52"), this.map = i, this.options = n, this.$domNode = e(n.content), !(n.coordinates instanceof t)) throw "Label: coordinates are not a LatLng object.";
n && (this.promise = this.create(n)), _r_();
}
return i.prototype.create = function(e) {
_i_("269:3cfa6af4");
var t = this;
return e.hidden && t.$domNode.css({
display:"none"
}), _r_(this.map.addLabel({
domNode:e.content,
coordinates:t.options.coordinates,
direction:e.position
}));
}, i.prototype.setPosition = function(e, t) {
_i_("269:9af45b1b"), this.promise.then(function(i) {
_i_("269:58b88ef3"), i.Overlay.position({
coordinates:e,
direction:t
}, i.domNode), _r_();
}), _r_();
}, i.prototype.show = function() {
_i_("269:c7d147bf");
var e = this;
this.promise.then(function(t) {
_i_("269:6e996563"), e.options.showInViewport && e.showInViewport(), e.$domNode.show(), _r_();
}), _r_();
}, i.prototype.hide = function() {
_i_("269:99260c04");
var e = this;
this.promise.then(function(t) {
_i_("269:88f9beef"), e.$domNode.hide(), _r_();
}), _r_();
}, i.prototype.fadeIn = function(e) {
_i_("269:62ee2ca6");
var t = this;
this.promise.then(function(i) {
_i_("269:0aa78a5e"), t.options.showInViewport && t.showInViewport(), t.$domNode.fadeIn(e), _r_();
}), _r_();
}, i.prototype.fadeOut = function(e) {
_i_("269:c54e05fa");
var t = this;
this.promise.then(function(i) {
_i_("269:c264be76"), t.$domNode.fadeOut(e), _r_();
}), _r_();
}, i.prototype.showInViewport = function() {
_i_("269:0bbc8c3a");
var e = this;
this.promise.then(function(t) {
_i_("269:d473714a");
var i = e.map.getViewFromMap().latLngToPixel(e.options.coordinates);
i.x + e.$domNode.width() > e.map.$domNode.innerWidth() ? (e.setPosition(e.options.altCoordinates, "left"), e.$domNode.css({
"margin-left":-e.$domNode.width()
}), e.labelIsSwapped = !0) :e.labelIsSwapped && (e.setPosition(e.options.coordinates, "right"), e.$domNode.css({
"margin-left":0
}), e.labelIsSwapped = !1), _r_();
}), _r_();
}, _r_(i);
}), _r_();
}), B.define("morphdom", function(e, t, i) {
_i_("269:40e7d1ea"), function(e) {
if (_i_("269:ab944764"), "object" == typeof t && "undefined" != typeof i) i.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
var n;
n = "undefined" != typeof window ? window :"undefined" != typeof global ? global :"undefined" != typeof self ? self :this, n.morphdom = e();
}
_r_();
}(function() {
_i_("269:97955ce2");
var e, t;
e = {
exports:t = {}
};
var i, n, o = "undefined" != typeof document ? document.body || document.createElement("div") :{}, r = "http://www.w3.org/1999/xhtml", _ = 1, a = 3, s = 8;
n = o.hasAttributeNS ? function(e, t, i) {
return _i_("269:eade7059"), _r_(e.hasAttributeNS(t, i));
} :o.hasAttribute ? function(e, t, i) {
return _i_("269:48b626c7"), _r_(e.hasAttribute(i));
} :function(e, t, i) {
return _i_("269:b1b897cf"), _r_(!!e.getAttributeNode(i));
};
function l(e) {
_i_("269:ace7a10f");
for (var t in e) if (e.hasOwnProperty(t)) return _r_(!1);
return _r_(!0);
}
function c(e) {
_i_("269:6e64c2c2"), !i && document.createRange && (i = document.createRange(), i.selectNode(document.body));
var t;
return i && i.createContextualFragment ? t = i.createContextualFragment(e) :(t = document.createElement("body"), t.innerHTML = e), _r_(t.childNodes[0]);
}
var d = {
OPTION:function(e, t) {
_i_("269:766a26cf"), e.selected = t.selected, e.selected ? e.setAttribute("selected", "") :e.removeAttribute("selected", ""), _r_();
},
INPUT:function(e, t) {
_i_("269:8ce9f1cf"), e.checked = t.checked, e.checked ? e.setAttribute("checked", "") :e.removeAttribute("checked"), e.value !== t.value && (e.value = t.value), n(t, null, "value") || e.removeAttribute("value"), e.disabled = t.disabled, e.disabled ? e.setAttribute("disabled", "") :e.removeAttribute("disabled"), _r_();
},
TEXTAREA:function(e, t) {
_i_("269:fafa0a75");
var i = t.value;
e.value !== i && (e.value = i), e.firstChild && e.firstChild.nodeValue !== i && (e.firstChild.nodeValue = i), _r_();
}
};
function h() {}
var u = function(e, t) {
return _i_("269:ee20f945"), _r_(e.nodeName === t.nodeName && e.namespaceURI === t.namespaceURI);
};
function f(e, t) {
return _i_("269:b9ab9e43"), _r_(t && t !== r ? document.createElementNS(t, e) :document.createElement(e));
}
function p(e, t) {
_i_("269:deb7b359");
var i, o, r, _, a, s, l = t.attributes;
for (i = l.length - 1; i >= 0; i--) o = l[i], r = o.name, a = o.value, _ = o.namespaceURI, _ ? (r = o.localName || r, s = e.getAttributeNS(_, r)) :s = e.getAttribute(r), s !== a && (_ ? e.setAttributeNS(_, r, a) :e.setAttribute(r, a));
for (l = e.attributes, i = l.length - 1; i >= 0; i--) o = l[i], o.specified !== !1 && (r = o.name, _ = o.namespaceURI, n(t, _, _ ? r = o.localName || r :r) || e.removeAttributeNode(o));
_r_();
}
function b(e, t) {
_i_("269:6593b9e4");
for (var i = e.firstChild; i; ) {
var n = i.nextSibling;
t.appendChild(i), i = n;
}
return _r_(t);
}
function m(e) {
return _i_("269:dc0a4ac8"), _r_(e.id);
}
function g(e, t, i) {
if (_i_("269:af448acf"), i || (i = {}), "string" == typeof t) if ("#document" === e.nodeName || "HTML" === e.nodeName) {
var n = t;
t = document.createElement("html"), t.innerHTML = n;
} else t = c(t);
var o = {}, r = {}, g = i.getNodeKey || m, v = i.onBeforeNodeAdded || h, y = i.onNodeAdded || h, w = i.onBeforeElUpdated || h, M = i.onElUpdated || h, k = i.onBeforeNodeDiscarded || h, B = i.onNodeDiscarded || h, C = i.onBeforeElChildrenUpdated || h, T = i.childrenOnly === !0, x = [];
function E(e, t) {
_i_("269:17cb2e51");
var i = g(e);
if (i ? o[i] = e :t || B(e), e.nodeType === _) for (var n = e.firstChild; n; ) E(n, t || i), n = n.nextSibling;
_r_();
}
function S(e) {
if (_i_("269:5e13d614"), e.nodeType === _) for (var t = e.firstChild; t; ) g(t) || (B(t), S(t)), t = t.nextSibling;
_r_();
}
function N(e, t, i) {
if (_i_("269:f34545d8"), k(e) === !1) return _r_();
t.removeChild(e), i ? g(e) || (B(e), S(e)) :E(e), _r_();
}
function O(e, t, i, n) {
_i_("269:cb66c668");
var l = g(t);
if (l && delete o[l], !n) {
if (w(e, t) === !1) return _r_();
if (p(e, t), M(e), C(e, t) === !1) return _r_();
}
if ("TEXTAREA" !== e.nodeName) {
var c, h, f, b, m, k = t.firstChild, B = e.firstChild;
e:for (;k; ) {
for (f = k.nextSibling, c = g(k); B; ) {
var T = g(B);
if (h = B.nextSibling, !i && T && (m = r[T])) {
m.parentNode.replaceChild(B, m), O(B, m, i), B = h;
continue;
}
var E = B.nodeType;
if (E === k.nodeType) {
var S = !1;
if (E === _ ? (u(B, k) && (T || c ? c === T && (S = !0) :S = !0), S && O(B, k, i)) :(E === a || E == s) && (S = !0, B.nodeValue = k.nodeValue), S) {
k = f, B = h;
continue e;
}
}
N(B, e, i), B = h;
}
c && ((b = o[c]) ? (O(b, k, !0), k = b) :r[c] = k), v(k) !== !1 && (e.appendChild(k), y(k)), k.nodeType === _ && (c || k.firstChild) && x.push(k), k = f, B = h;
}
for (;B; ) h = B.nextSibling, N(B, e, i), B = h;
}
var j = d[e.nodeName];
j && j(e, t), _r_();
}
var j = e, I = j.nodeType, A = t.nodeType;
if (!T) if (I === _) A === _ ? u(e, t) || (B(e), j = b(e, f(t.nodeName, t.namespaceURI))) :j = t; else if (I === a || I === s) {
if (A === I) return j.nodeValue = t.nodeValue, _r_(j);
j = t;
}
if (j === t) B(e); else {
O(j, t, !1, T);
var P = function(e) {
_i_("269:07e8f038");
for (var t = e.firstChild; t; ) {
var i = t.nextSibling, n = g(t);
if (n) {
var r = o[n];
if (r && u(t, r)) {
if (t.parentNode.replaceChild(r, t), O(r, t, !0), t = i, l(o)) return _r_(!1);
continue;
}
}
t.nodeType === _ && P(t), t = i;
}
_r_();
};
if (!l(o)) e:for (;x.length; ) {
var L = x;
x = [];
for (var $ = 0; $ < L.length; $++) if (P(L[$]) === !1) break e;
}
for (var D in o) if (o.hasOwnProperty(D)) {
var R = o[D];
B(R), S(R);
}
}
return !T && j !== e && e.parentNode && e.parentNode.replaceChild(j, e), _r_(j);
}
return e.exports = g, _r_(e.exports);
}), _r_();
}), B.define("event-map", function(e, t, i) {
_i_("269:89a520be");
var n = e("jquery");
i.exports = function(e, t, i) {
_i_("269:b05ebb5f");
var e = n(e);
for (var o in t) if (t.hasOwnProperty(o)) {
var r = o.split(/\s+/), _ = r.shift(), a = r.join(), s = i ? t[o].bind(i) :t[o];
"function" == typeof n.fn.on ? e.is(n(a)) ? e.on(_, s) :e.on(_, a, s) :e.delegate(a, _, s);
}
_r_();
}, _r_();
}), B.define("report-error", function() {
_i_("269:c368b216");
function e(e) {
_i_("269:8ea0d968");
var t = {};
return _r_(e && "[object Function]" === t.toString.call(e));
}
function t(t, i) {
_i_("269:cc4fb343");
var n = B.env && B.env.b_dev_server, o = e(B.reportError) && B.reportError.bind(B), r = !o;
if (n || r) throw new Error(t);
o({
message:t
}, i), _r_();
}
return _r_(t);
}), B.define("component/reactive", function(e, t, i) {
_i_("269:794879b8");
var n, o = e("morphdom"), r = e("component"), _ = e("component/loader"), a = e("event-map"), s = e("report-error"), l = B.env && B.env.is_fe_reactive_components_shout_error_on_broken_template, c = 0, d = 50;
function h(e) {
_i_("269:d12e6d1c"), !n && document.createRange && (n = document.createRange(), n.selectNode(document.body));
var t;
return n && n.createContextualFragment ? t = n.createContextualFragment(e) :(t = document.createElement("body"), t.innerHTML = e), _r_(t.childNodes);
}
function u(e) {
return _i_("269:df331070"), _r_(1 === h(e).length);
}
function f(e, t) {
_i_("269:a0ce698b");
var i;
if (e !== t && (i = _.getComponent(t)) && i.render !== r.prototype.render) return i.render(), _r_(!1);
_r_();
}
function p(e, t, i) {
_i_("269:392320f0");
var n, o, r, _, a, s = t.attributes;
if (!s) return _r_();
for (n = 0, o = s.length; o > n; ++n) r = s[n], 0 === r.name.indexOf("on:") && (a = r.name.split(":")[1], _ = r.value, t.addEventListener(a, e[_], !1));
_r_();
}
function b(e) {
return _i_("269:c394c36c"), _r_(e.nodeType === Node.ELEMENT_NODE);
}
function m(e, t) {
_i_("269:5b730617");
var i = function() {
return _i_("269:8d3439e9"), _r_(NodeFilter.FILTER_ACCEPT);
};
if (!b(t)) return _r_();
i.acceptNode = i;
var n = document.createTreeWalker(t, NodeFilter.SHOW_ELEMENT, i, !1);
for (p(e, t); n.nextNode(); ) n.currentNode && n.currentNode.hasAttribute("data-component") && n.nextSibling(), p(e, n.currentNode);
_r_();
}
function g(e, t) {
_i_("269:77cf2403");
var i = e.getAttribute(jQuery.expando);
return i && t.setAttribute(jQuery.expando, i), _r_(!0);
}
function v(e) {
_i_("269:41a87fd0");
var t = {
onBeforeElUpdated:function(t, i) {
_i_("269:2dd8152c"), p(e, t, i), _r_();
},
onBeforeElChildrenUpdated:function(e, t) {
return _i_("269:f36af85d"), _r_(f(e, t));
},
onBeforeNodeDiscarded:null,
onNodeAdded:function(t) {
_i_("269:0f4c88b2"), m(e, t), _r_();
}
};
return "msie" === B.env.b_browser && B.env.b_browser_version <= 8 && (t.onBeforeElUpdated = g), _r_(t);
}
function y(e) {
if (_i_("269:074605b6"), e.indexOf(" ") >= 0) throw new Error('component/reactive: invalid "' + e + '". Component name must not contain spaces');
return _r_(e);
}
function w(e, t) {
_i_("269:1dac0125"), e && "number" == typeof e.length && e.forEach(function(e) {
_i_("269:e926ef12"), "function" == typeof e && e.call(t), _r_();
}), _r_();
}
function M(e) {
_i_("269:187091b6");
for (var t in e) "function" == typeof e[t] && (e[t] = e[t].bind(e));
_r_();
}
i.exports = r.extend({
init:function() {
_i_("269:78f6c02a"), this.name = y(this.el.getAttribute("data-component")), M(this), m(this, this.el), this.initialize(), this.renderOptions = v(this), w(this.addons, this), this.render(), _r_();
},
getState:function() {
throw _i_("269:292ddbaf"), new Error("getState() not implemented on component " + this.name);
},
events:function(e) {
_i_("269:a6e7bc31"), a(this.el, e, this), _r_();
},
render:function() {
if (_i_("269:0237adef"), !this.template) return _r_();
if (++c > d) throw new Error(this.name + ": max render depth reached (" + d + "). Stuck in a loop?");
var e = B.jstmpl(this.template).render(this.getState()).trim();
l && !u(e) && s("Broken. Reactive components requires having one root node element in rendered template. Add a root element to the template.", "component/reactive"), o(this.el, e, this.renderOptions), _.loadComponents(this.$el), c = 0, _r_();
}
}), _r_();
}), B.define("atlas-components/city-center-toggle", function(e) {
_i_("269:b4db886c");
var t = e("Atlas/polygons"), i = B.browserStorageHandler, n = e("atlas-tools/polygons-loaders"), o = e("Atlas/util-env");
return _r_({
requiredActions:[ "setCityCenterData", "updateToggleVisibility", "updateToggleTooltipVisibility", "toggleSurroundingsElement" ],
currentPropertyData:null,
initialize:function() {
_i_("269:a98e4a70"), n.loadCityCenter(o.get("ufi"))["catch"](this.handleLoadingError.bind(this)).then(this.handlePolygonLoaded.bind(this, "cityCenter", this.actions.setCityCenterData)), this.store.once(this.store.EVENTS.FIXED_IW_AUTO_OPEN, this.handleCurrentPropertyLoaded.bind(this)), _r_();
},
handleCurrentPropertyLoaded:function(e) {
_i_("269:f026dd9e"), this.currentPropertyData = e, _r_();
},
handleLoadingError:function() {
return _i_("269:b87b20d3"), _r_(null);
},
handlePolygonLoaded:function(e, t, i, n) {
if (_i_("269:b163f4ac"), !i) return _r_();
t(i, n), this.actions.updateToggleVisibility(!0), this.currentPropertyData ? this.tryToAutoEnablePolygon(e, i, this.currentPropertyData) :this.store.once(this.store.EVENTS.FIXED_IW_AUTO_OPEN, this.tryToAutoEnablePolygon.bind(this, e, i)), _r_();
},
tooltipShownKeyName:"hp_maps_surroundings_tooltip_shown_",
updateTooltipVisibility:function(e) {
_i_("269:498515f2");
var t = this.tooltipShownKeyName + e;
if (i.getPermanentValue(t)) return _r_();
this.actions.updateToggleTooltipVisibility(!0, e), i.addPermanentValue(t, !0), setTimeout(this.actions.updateToggleTooltipVisibility.bind(null, !1), 1e4), _r_();
},
tryToAutoEnablePolygon:function(e, i, n) {
_i_("269:199364c6");
var o = n && n.latLng && i.some(function(e) {
return _i_("269:f07414bb"), _r_(t.isPointInsidePolygon(n.latLng, e.polygon));
});
o && (this.preventIWCloseOnBoundsChange(), this.actions.toggleSurroundingsElement(this.store, e), this.updateTooltipVisibility(e)), _r_();
},
preventIWCloseOnBoundsChange:function() {
_i_("269:a8c781d7"), this.store.set("preventIWCloseOnBoundsChange", !0);
var e = setTimeout(function() {
_i_("269:3813945c"), this.store.set("preventIWCloseOnBoundsChange", !1), _r_();
}.bind(this), 5e3);
this.store.once("bounds-change", function() {
_i_("269:f7fe96ea"), clearTimeout(e), this.store.set("preventIWCloseOnBoundsChange", !1), _r_();
}.bind(this)), _r_();
}
});
}), B.define("atlas-components/toggle-reducer", function(e, t, i) {
return _i_("269:9dc83ae4"), _r_({
name:"toggle",
initialState:{
visible:!1,
tooltipVisible:!1,
tooltipType:"cityCenter",
numberOfTogglesEnabled:0,
toggles:{}
},
updateToggleTooltipVisibility:function(e, t, i) {
return _i_("269:e3dc265e"), e.tooltipVisible = t, i && (e.tooltipType = i), _r_(e);
},
updateToggleVisibility:function(e, t) {
return _i_("269:59dcb4ee"), e.visible = t, _r_(e);
},
toggleSurroundingsElement:function(e, t, i) {
return _i_("269:e8141a0c"), e.toggles[i] = !e.toggles[i], e.numberOfTogglesEnabled = Object.keys(e.toggles).reduce(function(t, i) {
return _i_("269:859ee47f"), _r_(t + (e.toggles[i] ? 1 :0));
}, 0), _r_(e);
}
});
}), booking.jstmpl("maps_toggle", function() {
_i_("269:0a158786");
var e = [ "\n    ", '<div class="map_toggles__container\n            ', "\n                visible\n            ", '"\n>\n    <div class="', "map_toggles__item map_toggles__item-surroundings", " surroundings-applied", '">\n        <div class="map_toggles__item-content">\n            <div class="map_toggles__item-text">\n                ', "/private/www_maps_areas_feature_explore_title/name", '\n            </div>\n            <div class="map_toggles__item-visual">\n                <div class="map_toggles__item-icon"></div>\n                <div class="map_toggles__item-counter">\n                    ', '\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="map_toggles__tooltip_container ', "visible", '">\n        <div class="map_toggles__tooltip_content">\n            <div class="map_toggles__tooltip_icon"></div>\n            <div class="map_toggles_tooltip_text">\n                ', "/private/www_maps_areas_feature_city_centre_header/name", "\n            </div>\n        </div>\n    </div>\n</div>\n", "\n" ], t = [ "visible", "numberOfTogglesEnabled", "tooltipVisible" ];
return _r_(function(i) {
_i_("269:2e652aec");
var n = "", o = this.fn;
function r(i) {
return _i_("269:41ff1f93"), i += e[1], o.MD(t[0]) && (i += e[2]), i += e[3], i += e[4], o.MJ(o.MB(t[1]) > 0) && (i += e[5]), i += [ e[6], o.ME(e[7], o.MB, o.MN, null), e[8], o.MC(t[1]), e[9] ].join(""), o.MD(t[2]) && (i += e[10]), i += [ e[11], o.ME(e[12], o.MB, o.MN, null), e[13] ].join(""), _r_(i);
}
return n += e[0], n = r(n), n += e[14], _r_(n);
});
}()), B.define("atlas-components/toggle", function(e, t, i) {
_i_("269:8fa65bba");
var n = e("et"), o = "ebccCcCcCWNCCCeSGeAKaXHe";
i.exports = {
template:"maps_toggle",
requiredActions:[ "toggleSurroundingsView", "updateToggleTooltipVisibility" ],
initialize:function() {
_i_("269:11282d70"), this.events({
"click .map_toggles__item-surroundings":this.handleSurroundingsToggleClick.bind(this)
}), _r_();
},
componentDidUpdate:function(e, t) {
_i_("269:fe29a9ce"), e.visible && e.visible !== t.visible && this.store.trigger("explore-toggle-visible"), _r_();
},
handleSurroundingsToggleClick:function() {
_i_("269:271c129f"), n.customGoal(o, 1), this.actions.toggleSurroundingsView(this.store), this.actions.updateToggleTooltipVisibility(!1), _r_();
},
getState:function() {
return _i_("269:a75b05e4"), _r_(this.store.getState().toggle);
}
}, _r_();
}), B.define("atlas-components/polygons-reducer", function(e, t, i) {
_i_("269:cade9623");
var n = {
strokeColor:"#0AB21B",
strokeWeight:2,
strokeOpacity:1,
fillColor:"#0AB21B",
fillOpacity:.08,
clickable:!1
}, o = {
visible:!1,
updateBounds:!0,
options:Object.assign({}, n),
segments:null
};
return _r_({
name:"polygons",
initialState:{
cityCenter:Object.assign({}, o)
},
toggleSurroundingsElement:function(e, t, i) {
return _i_("269:f32ae69d"), e[i] && (e[i].visible = !e[i].visible), _r_(e);
},
setCityCenterData:function(e, t, i) {
return _i_("269:6ac8381a"), _r_(this.updatePolygonsData(e, "cityCenter", t, i));
},
updatePolygonsData:function(e, t, i, n) {
return _i_("269:7f366184"), e[t] = Object.assign({}, e[t] || o, n || {}), e[t].segments = i, _r_(e);
},
updatePolygonVisiblity:function(e, t, i) {
return _i_("269:657bcf52"), e[t] && (e[t].visible = i), _r_(e);
}
});
}), B.define("atlas-components/polygons", function(e) {
return _i_("269:42ce209e"), _r_({
initialize:function() {
_i_("269:a12c3afa"), this.polygons = {}, _r_();
},
getState:function() {
return _i_("269:f25b4829"), _r_(this.store.getState().polygons);
},
componentDidUpdate:function(e, t) {
_i_("269:0d02429e"), Object.keys(e).forEach(function(i) {
_i_("269:33a808d9");
var n = e[i], o = t[i] || {};
n.visible !== o.visible && this.updatePolygon(i, n), _r_();
}.bind(this)), _r_();
},
updatePolygon:function(e, t) {
_i_("269:1ea64cc8"), t.visible ? (this.polygons[e] ? this.showPolygon(e, t) :this.polygons[e] = this.renderPolygon(e, t), t.updateBounds && this.updateBounds(e, t)) :this.polygons[e] && this.hidePolygon(e), _r_();
},
renderPolygon:function(e, t) {
_i_("269:43f7fd0d");
var i = this.store;
return _r_(t.segments && t.segments.map(function(e) {
return _i_("269:cad1d84a"), _r_(i.createPolygon(Object.assign({}, t.options, {
paths:e.polygon
})));
}));
},
showPolygon:function(e) {
_i_("269:3c31fd35"), this.polygons[e].forEach(function(e) {
_i_("269:ddc7d938"), e.show(), _r_();
}), _r_();
},
hidePolygon:function(e) {
_i_("269:5168335f"), this.polygons[e].forEach(function(e) {
_i_("269:2ee8dbf8"), e.hide(), _r_();
}), _r_();
},
getActiveMarker:function() {
return _i_("269:a9e9020f"), _r_(this.store.getActiveMarkers().filter(function(e) {
return _i_("269:39d92d21"), _r_(e.b_behaviors && e.b_behaviors.active || e.b_states && e.b_states.active);
})[0]);
},
updateBounds:function(e, t) {
_i_("269:cb337639");
var i = this.store.Bounds(), n = this.getActiveMarker();
n && i.extend([ parseFloat(n.b_latitude, 10), parseFloat(n.b_longitude, 10) ]), t.segments && t.segments.forEach(function(e) {
_i_("269:cd5cd4ac"), e.polygon.forEach(function(e) {
_i_("269:89b7d485"), i.extend(e), _r_();
}), _r_();
}), this.store.fitBounds && this.store.fitBounds(i.bounds), _r_();
}
});
}), B.define("atlas-components/surroundings-reducer", function(e, t, i) {
_i_("269:eaa42414");
var n = e("Atlas/util-env");
function o(e, t, i) {
return _i_("269:fa3173a8"), e.visible = i, t.set("showSurroundingsView", e.visible), _r_(e);
}
i.exports = {
name:"surroundings",
initialState:{
toggles:{
cityCenter:!1,
landmarks:!1
},
visible:!1,
cityCenterDataAvailable:!1,
landmarksDataAvailable:!1,
carouselPosition:0,
inCityName:n.get("inCityName"),
cityName:n.get("cityName")
},
toggleSurroundingsView:function(e, t) {
return _i_("269:d02ddfe5"), _r_(o(e, t, !e.visible));
},
openSurroundingsView:function(e, t) {
return _i_("269:1cdce5c7"), _r_(o(e, t, !0));
},
closeSurroundingsView:function(e, t) {
return _i_("269:38795473"), _r_(o(e, t, !1));
},
toggleSurroundingsElement:function(e, t, i) {
return _i_("269:38ef2d64"), e.toggles[i] = !e.toggles[i], "cityCenter" === i && t.set("showCityCenter", e.toggles.cityCenter), _r_(e);
},
setCityCenterData:function(e, t) {
return _i_("269:dbebd64d"), e.cityCenterDataAvailable = !!t, _r_(e);
},
setLandmarksData:function(e, t) {
return _i_("269:2fb86bec"), e.landmarksDataAvailable = !!t, _r_(e);
},
carouselNext:function(e, t) {
return _i_("269:77f9cfec"), e.carouselPosition = e.carouselPosition + 1, _r_(e);
},
carouselPrev:function(e, t) {
return _i_("269:bf7c316c"), e.carouselPosition = e.carouselPosition - 1, _r_(e);
}
}, _r_();
}), booking.jstmpl("maps_surroundings", function() {
_i_("269:4f6505ed");
var e, t = [ "\n    ", '\n<div class="', "map_panel__wrapper map_panel__surroundings", " active", " map_panel__wrapper--blocks", '">\n    <div class="map_panel__container">\n        <div class="map_panel__header">\n            <div class="map_panel__heading">\n                ', "/private/www_maps_areas_feature_explore_title/name", '\n            </div>\n            <div class="map_panel__close"></div>\n        </div>\n        <div class="map_panel__block-container">\n            <div class="map_panel__block">\n\n                \n                ', '\n                    <div class="', "map_panel__item toggle__city-center", '">\n                        <div class="map_panel__toggle-container">\n                            <div class="map_panel__toggle-icon">\n                                <div class="map_panel__toggle-icon--city-center"></div>\n                            </div>\n                            <div class="map_panel__toggle-text">\n                                <div class="map_panel__toggle-name">\n                                    ', "/private/www_maps_areas_feature_city_centre_header/name", '\n                                </div>\n                                <div class="map_panel__toggle-description">\n                                    ', "/private/www_maps_areas_feature_city_centre_generic/name", '\n                                </div>\n                            </div>\n                            <div class="map_panel__toggle-toggle"></div>\n                        </div>\n                    </div>\n                ', "\n                \n\n                \n                ", "map_panel__item toggle__landmarks", '">\n                        <div class="map_panel__toggle-container js_landmarks_toggle">\n                            <div class="map_panel__toggle-icon">\n                                <div class="map_panel__toggle-icon--landmarks"></div>\n                            </div>\n                            <div class="map_panel__toggle-text">\n                                <div class="map_panel__toggle-name">\n                                    ', "/private/maps_explore_sidebar_top_things_to_do_header/name", "/private/maps_explore_sidebar_top_things_to_do_subheader/name", '\n                                </div>\n                            </div>\n                            <div class="map_panel__toggle-toggle"></div>\n                        </div>\n\n                        ', '\n                            <div class="map_panel__toggle-items-container on-first-item">\n                                <div class="map_panel__toggle-items-wrapper js_landmarks_items" style="transform: translateX(-', 'px)">\n                                    ', '\n                                        <div class="map_panel__toggle-item-content js_landmarks_item jq_tooltip" data-title="', '" data-id="', '">\n                                            <div class="map_panel__toggle-item-image"\n                                                style="background-image: url(', ');"></div>\n                                            <div class="map_panel__toggle-item-text">\n                                                <div class="map_panel__toggle-item-category">\n                                                    ', '\n                                                </div>\n                                                <div class="map_panel__toggle-item-name">\n                                                    ', "\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ", '\n                                </div>\n                            </div>\n                            <div class="map_panel__toggle-items--controls">\n                                <div class="js_map_panel__toggle-items--controls-previous map_panel__toggle-items--controls-previous ', "active", '">\n                                    ', "/private/d_map_gallery_previous/name", '\n                                </div>\n                                <div class="map_panel__toggle-items--controls-dots">\n                                    <div class="map_panel__toggle-items--controls-dot ', '"></div>\n                                    <div class="map_panel__toggle-items--controls-dot ', '"></div>\n                                </div>\n                                <div class="js_map_panel__toggle-items--controls-next map_panel__toggle-items--controls-next ', "/private/d_map_gallery_next/name", "\n                                </div>\n                            </div>\n                        ", "\n\n                    </div>\n                ", "\n                \n\n            </div>\n        </div>\n    </div>\n</div>\n", "\n" ], i = [ "surroundings", "landmarks" ];
return _r_(function(n) {
_i_("269:bd3c2aa9");
var o = "", r = this.fn;
function _(o) {
if (_i_("269:d4c26a58"), o += t[1], o += t[2], r.MJ(r.MG((r.MC(i[0]) || {}).visible)) && (o += t[3]), r.MJ(r.MC(i[0]).landmarksDataAvailable) && (o += t[4]), o += [ t[5], r.ME(t[6], r.MB, r.MN, null), t[7] ].join(""), r.MJ(r.MC(i[0]).cityCenterDataAvailable) && (o += t[8], o += t[9], r.MJ(r.MG(((r.MC(i[0]) || {}).toggles || {}).cityCenter)) && (o += t[3]), o += [ t[10], r.ME(t[11], r.MB, r.MN, null), t[12], (n.unshift({
city_name:r.MG((r.MC(i[0]) || {}).cityName),
in_city_name:r.MG((r.MC(i[0]) || {}).inCityName)
}), e = r.ME(t[13], r.MB, r.MN, null), n.shift(), e), t[14] ].join("")), o += t[15], r.MJ(r.MC(i[0]).landmarksDataAvailable)) {
if (o += t[8], o += t[16], r.MJ(r.MG(((r.MC(i[0]) || {}).toggles || {}).landmarks)) && (o += t[3]), o += [ t[17], r.ME(t[18], r.MB, r.MN, null), t[12], (n.unshift({
city_name:r.MG((r.MC(i[0]) || {}).cityName),
in_city_name:r.MG((r.MC(i[0]) || {}).inCityName)
}), e = r.ME(t[19], r.MB, r.MN, null), n.shift(), e), t[20] ].join(""), r.MJ(2 == r.ATLAS_TRACK("ebccCcCcCDSSeCXeQUGIRKWe")) || r.MJ(2 == r.ATLAS_TRACK("ebccCcCcCWNTUMKebYLAXCC"))) {
o += [ t[21], r.F.entities(r.MI(r.MC(i[0]).carouselPosition) * r.MI(300)), t[22] ].join("");
var _ = (r.MC(i[1]) || {}).list || [];
n.unshift({
card:null
});
for (var a, s = 1, l = _.length; l >= s; s++) n[0].card = a = _[s - 1], o += [ t[23], (a || {}).b_title, t[24], (a || {}).b_id, t[25], r.STATIC_HOSTNAME(a.b_thumb_photo, 0, 0, 0), t[26], (a || {}).b_category, t[27], (a || {}).b_title, t[28] ].join("");
n.shift(), o += t[29], r.MJ(0 != r.MC(i[0]).carouselPosition) && (o += t[30]), o += [ t[31], r.ME(t[32], r.MB, r.MN, null), t[33] ].join(""), r.MJ(0 == r.MC(i[0]).carouselPosition) && (o += t[30]), o += t[34], r.MJ(1 == r.MC(i[0]).carouselPosition) && (o += t[30]), o += t[34], r.MJ(2 == r.MC(i[0]).carouselPosition) && (o += t[30]), o += t[35], r.MJ(2 != r.MC(i[0]).carouselPosition) && (o += t[30]), o += [ t[31], r.ME(t[36], r.MB, r.MN, null), t[37] ].join("");
}
o += t[38];
}
return o += t[39], _r_(o);
}
return o += t[0], o = _(o), o += t[40], _r_(o);
});
}()), B.define("atlas-components/surroundings", function(e, t, i) {
_i_("269:305a837a");
var n = e("Atlas/util-env"), o = e("et"), r = "ebccCcCcCDSSeCXeQUGIRKWe", _ = "ebccCcCcCWNTUMKebYLAXCC", a = "ebccCcCcCWNCCCeSGeAKaXHe", s = e("Atlas/geometry.point");
i.exports = {
template:"maps_surroundings",
requiredActions:[ "toggleSurroundingsElement", "closeSurroundingsView", "showLandmarkIW", "openSurroundingsView", "carouselNext", "carouselPrev" ],
initialize:function() {
if (_i_("269:796b3694"), this.store.on("marker-click", this.handleMarkerClick.bind(this)), this.store.on("marker-hover-triggered", this.handleMarkerHover.bind(this)), this.events({
"click .map_panel__close":this.handleCloseViewEvent.bind(this),
"mousedown .toggle__city-center":this.handleToggleCityCenterMouseDown,
"mousedown .js_landmarks_toggle":this.handleToggleLandmarkMouseDown,
"click .js_landmarks_items":this.handleLandmarksContainerClick,
"click .js_landmarks_item":this.handleLandmarkClick,
"mouseenter .js_landmarks_item":this.handleLandmarkMouseEnter,
"mouseleave .js_landmarks_item":this.handleLandmarkMouseLeave,
"click .js_map_panel__toggle-items--controls-next":this.carouselNext,
"click .js_map_panel__toggle-items--controls-previous":this.carouselPrev
}), B.atlas.getVariant("ebccCcCcCDSSeCXeQUGIRKWe") && (this.mapOffset = this.store.get("offset") || 0, this.isOffsetChanged = !1), B.atlas.getVariant("ebccCcCcCWNCCCeSGeAKaXHe") || B.atlas.getVariant("ebccCcCcCWNTUMKebYLAXCC")) {
var e = !1, t = $("#b_map_container");
this.store.subscribe(function() {
_i_("269:a4ace9b5");
var i = this.getState().surroundings.visible;
i ? e || (t.css({
overflow:"hidden"
}), e = !0) :setTimeout(function() {
_i_("269:e6377396"), t.css({
overflow:"inherit"
}), e = !1, _r_();
}, 1500), _r_();
}.bind(this));
}
_r_();
},
componentDidUpdate:function(e, t) {
if (_i_("269:b4380c7c"), e.surroundings.visible !== t.surroundings.visible && (this.store.trigger(e.surroundings.visible ? "explore-panel-opened" :"explore-panel-closed"), n.get("ddot") && "hotel" === n.get("action") && o.customGoal(r, e.surroundings.visible ? 4 :5)), e.surroundings.toggles.cityCenter !== t.surroundings.toggles.cityCenter && this.store.trigger(e.surroundings.toggles.cityCenter ? "city-center-enabled" :"city-center-disabled"), B.atlas.getVariant("ebccCcCcCDSSeCXeQUGIRKWe")) {
var i = this.getState().surroundings.visible;
i && !this.isOffsetChanged ? (this.store.set("offset", new s(this.getPanelWidth(), 0)), this.isOffsetChanged = !0) :!i && this.isOffsetChanged && (this.store.set("offset", this.mapOffset), this.isOffsetChanged = !1);
}
_r_();
},
getPanelWidth:function() {
_i_("269:3fc4ba84");
var e = this.el.querySelector(".map_panel__container");
return _r_(e.offsetWidth);
},
handleMarkerClick:function(e) {
if (_i_("269:30aef8c7"), "top_landmark" === e.data.b_type) return this.actions.openSurroundingsView(this.store), o.customGoal(r, 3), _r_();
"hotel" === n.get("action") && this.handleCloseViewEvent(), _r_();
},
handleCloseViewEvent:function() {
_i_("269:7cf4d761"), this.actions.closeSurroundingsView(this.store, !1), o.customGoal(a, 3), _r_();
},
handleToggleCityCenterMouseDown:function() {
_i_("269:b2510ec4"), this.actions.toggleSurroundingsElement(this.store, "cityCenter"), o.customGoal(a, 2), _r_();
},
handleMarkerHover:function(e) {
_i_("269:30a053a0"), "top_landmark" === e.data.b_type && this.openLandmarkIW(e.data), _r_();
},
handleToggleLandmarkMouseDown:function(e) {
_i_("269:e96870bf"), this.actions.toggleSurroundingsElement(this.store, "landmarks"), o.customGoal(r, 1), o.customGoal(_, 1), _r_();
},
handleLandmarksContainerClick:function(e) {
_i_("269:6b4f3dd0"), this.isLandmarksEnabled() || (this.actions.toggleSurroundingsElement(this.store, "landmarks"), o.customGoal(r, 1), o.customGoal(_, 1)), _r_();
},
emphasiseLandmarkMarker:function(e, t) {
_i_("269:9da57778");
var i = this.store.getMarker("top_landmark_" + e);
if (!i) return _r_();
if (t) {
var n = this.store.get("offset");
this.store.set("offset", new s(this.getPanelWidth() / 2, 0)), this.store.setCenter([ i.b_latitude, i.b_longitude ]), this.store.set("offset", n), setTimeout(function() {
_i_("269:5913216d"), this.openLandmarkIW(i), _r_();
}.bind(this), 500);
}
this.store.setIconActive(i.b_atlas_id), _r_();
},
handleLandmarkClick:function(e) {
_i_("269:cd89f89d"), this.isLandmarksEnabled() && (this.emphasiseLandmarkMarker(e.currentTarget.getAttribute("data-id"), !0), o.customGoal(r, 2)), _r_();
},
handleLandmarkMouseEnter:function(e) {
_i_("269:0a36f1dd"), this.isLandmarksEnabled() && this.emphasiseLandmarkMarker(e.currentTarget.getAttribute("data-id"), !1), _r_();
},
openLandmarkIW:function(e) {
_i_("269:deebad59"), this.store.openIW(e.b_atlas_id, {}, B.jstmpl("atlas_iw_top_landmark").render(e)), this.store.set("topLandmarkIWOpen", !0), _r_();
},
handleLandmarkMouseLeave:function(e) {
if (_i_("269:ded7dc07"), !this.isLandmarksEnabled()) return _r_();
this.store.setIconOut(), this.store.closeIW(), this.store.set("topLandmarkIWOpen", !1), _r_();
},
isLandmarksEnabled:function() {
return _i_("269:0c570c48"), _r_(this.getState().surroundings.toggles.landmarks);
},
carouselNext:function() {
_i_("269:957f56d6"), this.getState().surroundings.carouselPosition < 2 && this.actions.carouselNext(), _r_();
},
carouselPrev:function() {
_i_("269:a9ff7dfa"), this.getState().surroundings.carouselPosition > 0 && this.actions.carouselPrev(), _r_();
},
getState:function() {
return _i_("269:93568087"), _r_(this.store.getState());
}
}, _r_();
}), B.define("atlas-components/landmarks-reducer", function(e, t, i) {
_i_("269:5fbf78b1");
var n = e("Atlas/atlas-marker-properties"), o = "hotel" === B.env.b_action && "www" === B.env.b_site_type;
i.exports = {
name:"landmarks",
initialState:{
list:[]
},
setLandmarksData:function(e, t, i) {
return _i_("269:12d05f9c"), e.list = t.reduce(function(e, t) {
if (_i_("269:2c5c8e05"), !t.b_xlocations || !t.b_xlocations[0]) return _r_(e);
var r = t.b_xlocations[0], _ = Object.assign({}, t, {
b_basic_type:i.b_type || "landmark",
b_type:i.b_type || "landmark",
b_latitude:r.b_latitude,
b_longitude:r.b_longitude,
b_persistent:i.b_persistent,
b_category:t.b_type,
b_marker_photo:t.b_thumb_photo,
b_name:t.b_title,
b_states:i.b_states,
b_template:i.b_template
});
return o && (_ = Object.assign(_, n.getMarkerDimension(_), {
zIndex:n.getZIndex(_)
})), _r_(e.concat([ _ ]));
}, []), _r_(e);
}
}, _r_();
}), B.define("atlas-tools/polygons-loaders", function() {
"use strict";
_i_("269:827bca09");
function e(e) {
return _i_("269:81904479"), _r_(B.require("fragment").call("ufi.districts", {
ufi:e,
city_centre:!0,
get_polygons:!0
}).then(function(e) {
if (_i_("269:3d516880"), !e) return _r_(null);
var i = Object.keys(e).map(function(t) {
return _i_("269:7fbfc098"), e[t].id = t, _r_(e[t]);
});
return _r_(t(i) ? i :null);
}));
}
function t(e) {
return _i_("269:7f9137be"), _r_(e.length > 0 && e.every(function(e) {
return _i_("269:12b5047c"), _r_(e && e.polygon);
}));
}
function i(e) {
return _i_("269:b84a858d"), _r_(B.require("fragment").call("geo.geo_object", {
class_name:"OldTown",
ufi:e,
load_geometry_for_map:!0
}).then(function(e) {
if (_i_("269:52d4ecb8"), !e || !e.length) return _r_(null);
return _r_(e.map(function(e) {
return _i_("269:df654767"), e.polygon = n(e.geom), _r_(e);
}));
}));
}
function n(e) {
_i_("269:12297623");
for (var t = [], i = e.split(","), n = 0; n < i.length; n += 2) {
var o = parseFloat(i[n]), r = parseFloat(i[n + 1]);
isNaN(o) || isNaN(r) || t.push([ o, r ]);
}
return _r_(t);
}
return _r_({
loadCityCenter:e,
loadOldTown:i
});
}), $(function() {
"use strict";
if (_i_("269:ddd4e7db"), !B.atlas) return _r_();
B.atlas.define("label-current-hotel", [ "jQuery" ], function(e) {
_i_("269:a3cb7b06");
function t(t) {
_i_("269:bf6ab58e");
var i = t.label, n = t.map, o = e(i);
n.addLabel({
domNode:o.get(0),
coordinates:[ B.env.b_map_center_latitude || B.env.b_latitude, B.env.b_map_center_longitude || B.env.b_longitude ]
}), o.loadComponents(), _r_();
}
return _r_(t);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:0176de52"), !B.atlas) return _r_();
B.atlas.define("zoom-control", [ "jQuery" ], function(e) {
_i_("269:238dfd31");
function t(t) {
return _i_("269:d20d12bf"), this.map = t.map, this.zoomInControl = t.$elZoomIn || e("#map_atlas_custom_zoom > .map_atlas_custom_zoom_increment"), this.zoomOutControl = t.$elZoomOut || e("#map_atlas_custom_zoom > .map_atlas_custom_zoom_decrement"), this.$container = null, this.initializeBindings(), _r_(this);
}
return t.prototype.initializeBindings = function() {
_i_("269:c8cd019c");
var t = this.zoomInControl, i = this.zoomOutControl, n = this.map;
t.bind("click", function(t) {
_i_("269:b0ce74f0"), t.preventDefault();
var o = e(this), r = !1;
o.hasClass("disabled") || (i.removeClass("disabled"), r = n.incrementZoom(), n.trigger("zoomin.button"), r && o.addClass("disabled")), _r_();
}), i.bind("click", function(i) {
_i_("269:7be6319c"), i.preventDefault();
var o = e(this), r = !1;
o.hasClass("disabled") || (t.removeClass("disabled"), r = n.decrementZoom(), n.trigger("zoomout.button"), r && o.addClass("disabled")), _r_();
}), _r_();
}, t.prototype.destroyBindings = function() {
_i_("269:34798b70");
var e = this.zoomInControl, t = this.zoomOutControl;
e.off("click"), t.off("click"), _r_();
}, _r_(t);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:30f93939"), !B.atlas) return _r_();
B.atlas.define("map-markers-disperse", [ "markers-disperser", "util-array", "util-env" ], function(e, t, i) {
_i_("269:7d3b2976");
function n(e, i, n) {
_i_("269:90f7dfcc");
var o, r = i.getActiveMarkers() || [], _ = e.concat(r), a = [];
return n && (o = t.findIndex(_, function(e) {
return _i_("269:7b4b8e89"), _r_(e.b_id === n);
}), o > 0 && (a = _.splice(o, 1))), _r_(a.concat(_));
}
function o(t, o, r, _) {
_i_("269:25dd0a67");
var a = n(t, o, r), s = [], l = _ || {
top:-10,
left:-9,
bottom:-12,
right:-9
}, c = new e({
map:o,
offset:l,
useRankedLogic:i.get("ddot") && ("searchresults" === i.get("action") || "ski_searchresults" === i.get("action"))
}), s = c.filter(a);
return o.trigger("markers-dispersed", s), _r_(s);
}
return _r_({
initialize:o
});
}), _r_();
}), B.define("Atlas/markers-disperser", [ "Atlas/markers-shape", "Atlas/util-getset", "Atlas/util-object", "Atlas/util-array", "Atlas/util-env" ], function(e, t, i, n, o) {
"use strict";
_i_("269:b4750a4e");
var r = {
offset:{
top:0,
left:0,
bottom:0,
right:0
}
};
function _(e) {
_i_("269:a59d8283");
var n = {};
i.extend(n, r, e), i.extend(this, t.call(this, n)), this.waste = [], _r_();
}
return _.prototype.filter = function(t, i) {
_i_("269:c9432b65");
var o = this.get("map"), r = o.getViewFromMap(), _ = this.get("offset"), a = [], s = [], l = this.waste = [], c = this.get("useRankedLogic");
if (c) {
var d = t.reduce(function(e, t) {
return _i_("269:336ed490"), t.b_has_av || "hotel" !== t.b_basic_type ? e.av.push(t) :e.noav.push(t), _r_(e);
}, {
av:[],
noav:[]
});
t = d.av.concat(d.noav);
}
var h = o.get("showCityCenter"), u = o.get("currentPropertyId");
return n.each(t, function(t, d) {
_i_("269:9024f07a");
var f = new e(t, r, o), p = !0, b = !0;
if (c) {
var m = Math.min(100, 5 * d);
b = m >= 100 * Math.random();
}
t.b_id === u && (b = !1), !a.length || t.b_persistent || t.b_states && t.b_states.persistent || h && t.b_behaviors && t.b_behaviors.active || h && t.b_states && t.b_states.active || !b ? (a.push(t), s.push(f)) :(!i || a.length <= i) && (n.each(s, function(e) {
_i_("269:92cd59b5"), f.intersects(e, _) && (p = !1), _r_();
}), p ? (a.push(t), s.push(f)) :l.push(t)), _r_();
}), _r_(a);
}, _r_(_);
}), B.define("Atlas/markers-shape", [ "Atlas/geometry.point", "Atlas/geo.latLng" ], function(e, t) {
"use strict";
_i_("269:67885408");
function i(i, n, o) {
_i_("269:f08f96d4");
var r = new t(i.b_latitude, i.b_longitude), _ = n.latLngToPixel(r), a = {
ox:0,
oy:0
};
i && i.b_states && i.b_states.overlay ? i.width && i.height ? Object.assign(a, {
w:i.width,
h:i.height,
labelWidth:i.labelWidth || 0
}) :Object.assign(a, o.getMarkerDimension(i)) :Object.assign(a, o.getIcon(i.b_type)), this.tl = new e(_.x - a.w / 2 + a.ox, _.y - a.h + a.oy), i.b_states && i.b_states.show_price && i.b_u_total_price ? this.br = new e(_.x + (a.w / 2 + a.labelWidth), this.tl.y + a.h) :this.br = new e(this.tl.x + a.w, this.tl.y + a.h), _r_();
}
return i.prototype.intersects = function(e, t) {
_i_("269:ec381fc5");
var i = e.tl, n = e.br, o = this.tl, r = this.br;
return _r_(!(i.x > r.x + t.right || i.y > r.y + t.bottom || n.x < o.x - t.left || n.y < o.y - t.top));
}, _r_(i);
}), $(function() {
"use strict";
if (_i_("269:2949f774"), !B.atlas) return _r_();
B.atlas.define("central-district-polygon", [ "jQuery", "util-env", "geo.bounds" ], function(e, t, i) {
_i_("269:6254a72d");
function n(t) {
_i_("269:0a871243"), this.options = e.extend({}, t || {});
var i = this;
this.map = this.options.map, this.paths = [];
function n() {
_i_("269:74a4f01f");
var e = i.map.get("centralPolygonCoords");
e ? (i.setPaths(e), i.showPolygon(!0)) :i.removePolygon(), _r_();
}
this.map.done(n), this.map.on("open", n), _r_();
}
return e.extend(n.prototype, {
showPolygon:function(t) {
if (_i_("269:36b72b33"), this.polygon && t !== !0) return _r_();
if (this.removePolygon(), !this.paths || !this.paths.length) return _r_();
this.polygon = this.map.createPolygon({
clickable:!1,
fillColor:"#0896FF",
fillOpacity:.07,
strokeColor:"#003580",
strokeOpacity:.8,
strokeWeight:2,
paths:this.paths
});
var n = new i();
e.each(this.paths, function(e, t) {
_i_("269:cf2aa0b6"), n.extend(t), _r_();
}), this.map.setBounds && this.map.setBounds(n), _r_();
},
removePolygon:function() {
_i_("269:41937a1c"), this.polygon && this.polygon.remove && (this.polygon.remove(), this.polygon = null), _r_();
},
setPaths:function(e) {
_i_("269:ac584340");
for (var t, i, n = e.split(","), o = [], r = 0; r < n.length; r += 2) t = parseFloat(n[r]), i = parseFloat(n[r + 1]), isNaN(t) || isNaN(i) || o.push([ t, i ]);
this.paths = o, _r_();
}
}), _r_(n);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:dd3a42c4"), !B.atlas) return _r_();
B.atlas.define("pin-favicon", [], function() {
_i_("269:aa97913a");
var e = s($('link[rel="shortcut icon"]').first().attr("href")), t = s("//q.bstatic.com/static/img/map-pin-favicon/b96539b4bc3662d46832d3d778308b00ef283a95.png"), i = 0, n = document.title;
function o(n) {
_i_("269:3c5addb7");
var o = (n ? t :e).replace("{counter}", i++);
$('link[rel="shortcut icon"]').first().attr("href", o), _r_();
}
function r(e) {
_i_("269:8589289f"), e ? document.title = e :document.title = n, _r_();
}
function _() {
_i_("269:20ddebad"), o(!0), _r_();
}
function a() {
_i_("269:75396364"), o(!1), _r_();
}
function s(e) {
_i_("269:baef2806");
var t = e + "#f={counter}";
return _r_(t);
}
return _r_({
addPin:_,
removePin:a,
updateTitle:r
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:9ccf726c"), !B.atlas) return _r_();
B.atlas.define("iw-control-events", [], function() {
return _i_("269:f831799f"), _r_(new booking.events.Emitter());
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:9424b10a"), !B.atlas) return _r_();
var e = [ "iw-control-events", "util-env", "util-array" ];
B.atlas.define("iw-control-view", e, function(e, t, i) {
_i_("269:46e9b26f");
var n = B.require("promise");
function o(t) {
_i_("269:7f1581bf");
var i = B.jstmpl("atlas_iw_control_view_wrapper");
this._data = {}, this.tmpl = B.jstmpl("atlas_iw_control_view"), this.$wrapper = $(i.render(t)), t.topOverlay.append(this.$wrapper), this.map = t.map, this.events = e, this.bindEvents(), this.isVisible = !1, this.isReviewOpen = !0, _r_();
}
o.prototype.bindEvents = function() {
_i_("269:5bca2bbe");
var e = this.$wrapper, i = this;
this.on("add", $.proxy(this.updateRender, this)), this.map.on("bounds-change", function() {
if (_i_("269:0aa010a6"), i.map.get("preventIWCloseOnBoundsChange")) return _r_();
i.close(), _r_();
}), e.on("click", ".iw-close", function(e) {
_i_("269:009f022f"), e.preventDefault(), i.close(), i.map.trigger("iw-close.button"), "hotel" === t.get("action") && B.et.customGoal("YdXfdKNKNKPZZPXCSFYSaET", 1), _r_();
}), e.on("click", ".js-map-hotel__link", function() {
_i_("269:e4c061c1"), i.map.trigger("iw-click-title"), _r_();
}).on("click", ".js-map-hotel__button", function() {
_i_("269:4b12d985"), i.map.trigger("iw-click-button"), _r_();
}), "hotel" === t.get("action") && (this.map.on("city-center-enabled", this.handleCityCenterChange.bind(this)), this.map.on("city-center-disabled", this.handleCityCenterChange.bind(this))), _r_();
}, o.prototype.handleCityCenterChange = function() {
_i_("269:12c86825"), this._currentMarker && this.updateRender(this._currentMarker), _r_();
};
function r(e) {
return _i_("269:18d4a60a"), _r_(e.getActiveMarkers().filter(function(e) {
return _i_("269:39d92d211"), _r_(e.b_behaviors && e.b_behaviors.active || e.b_states && e.b_states.active);
})[0]);
}
o.prototype.close = function() {
_i_("269:41662f6b"), this.$wrapper.hide(), this.clearMarkerId();
var e = r(this.map);
e && "top_landmark" === e.b_type || (B.atlas.getVariant("ebccCcCcCWNMSAUETbNKe") ? this.marker && this.map.setIconOut(this.marker.b_atlas_id) :this.map.setIconOut()), this.isVisible && (this.trigger("close", []), this.map.trigger("fixed-iw-close")), this.marker = null, this.isVisible = !1, _r_();
}, o.prototype.updateRender = function(e) {
_i_("269:d72dbf96");
var i = this;
if ("object" != typeof e) return _r_();
var n = this.tmpl, o = $.extend({}, e), r = {
markers:[]
};
if (!o) return _r_();
r.markers.push(o), r.markers = r.markers.map(function(e) {
_i_("269:11606d6a");
var i = e.b_basic_type;
return e.b_id === t.get("destinationId") && (i += "-current"), e.b_class_name = "iw-overlay-" + i, _r_(e);
}), $.extend(r, {
fe_china_estimated_rating:t.get("fe_china_estimated_rating")
});
var _ = B.rocketmiles_results && B.rocketmiles_results[e.b_id];
if (_ && Object.assign(r, {
is_rocketmiles_hotel:!0,
rocket:B.require("rocketmiles-api").hotelCardData(_)
}), "hotel" === t.get("action")) {
this._currentMarker = o;
var a = this.map.getState(), s = a.polygons.cityCenter, l = [ this._currentMarker.b_latitude, this._currentMarker.b_longitude ], c = B.require("Atlas/polygons"), d = s.segments && s.segments.some(function(e) {
return _i_("269:9411a4c8"), _r_(c.isPointInsidePolygon(l, e.polygon));
});
r.b_is_in_city_center = d, r.b_city_center_enabled = a.surroundings.toggles.cityCenter, e && e.b_nearest_beaches && B.atlas.getVariant("YWYHfUDeAOTTQBbLOASIQPNPCPRGLT") && (e.b_nearest_beaches.length && B.et.stage("YWYHfUDeAOTTQBbLOASIQPNPCPRGLT", 2), e.b_top_poi && e.b_top_poi.length ? e.b_top_poi && e.b_top_poi.length && B.et.stage("YWYHfUDeAOTTQBbLOASIQPNPCPRGLT", 4) :B.et.stage("YWYHfUDeAOTTQBbLOASIQPNPCPRGLT", 3));
}
this.renderTemplate({
view:this,
tmplData:n.render(r)
}).then(function(e) {
_i_("269:61900f9e"), i.map.trigger("fixed-iw-open", {
$infoWindow:e,
IwControlView:i,
property:o
}), _r_();
}), this.marker = o, this.isVisible = !0, _r_();
};
function _(e, t) {
_i_("269:e031d40a"), this.$wrapper.show().html(e), e.delay(0).css({
opacity:0
}).animate({
opacity:1
}, {
duration:400,
easing:"easeOutQuart"
}), t(e), _r_();
}
return o.prototype.renderTemplate = function(e) {
_i_("269:25168323");
var i = e.tmplData, o = $(i), r = this.isVisible, a = this.$wrapper, s = this;
return _r_(new n(function(e, i) {
_i_("269:5434cdf4"), "hotel" === t.get("action") ? r ? a.find(".iw-control").animate({
opacity:0
}, {
duration:200,
complete:function() {
_i_("269:80a1fd2c"), _.call(s, o, e), _r_();
}
}) :_.call(s, o, e) :(a.show().html(o), e(o)), _r_();
}));
}, o.prototype.on = function() {
_i_("269:bcc8471b");
var e = Array.prototype.slice.call(arguments);
this.events.on.apply(this.events, e), _r_();
}, o.prototype.trigger = function() {
_i_("269:3b3f2150");
var e = Array.prototype.slice.call(arguments);
this.events.trigger.apply(this.events, e), _r_();
}, o.prototype.get = function(e) {
return _i_("269:d50e8b1a"), _r_(this._data[e]);
}, o.prototype.set = function(e, t) {
return _i_("269:61377c06"), this._data[e] = t, _r_(this.get(e));
}, o.prototype.clearMarkerId = function() {
_i_("269:69705c86"), this.set("markerIdList"), this.trigger("markerList:updated", [], this.map), _r_();
}, o.prototype.saveMarkerId = function(e) {
_i_("269:efaa5261");
var t = this.get("markerIdList") || [];
t.push(e), this.set("markerIdList", t), this.trigger("markerList:updated", this.get("markerIdList"), this.map), _r_();
}, _r_(o);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:81d0bbb7"), !B.atlas) return _r_();
B.atlas.define("iw-control", [ "iw-control-view", "geo.view", "geo.latLng", "iw-control-events", "util-env", "jQuery" ], function(e, t, i, n, o, r) {
_i_("269:92b0bf2a");
function _(t) {
_i_("269:29f2fcde");
var i = {
map:t.map,
topOverlay:t.topOverlay
};
this.viewOptions = i, this.map = t.map, this.view = new e(i), this.bindEvents(), _r_();
}
_.prototype.bindEvents = function() {
_i_("269:6ef0e0e1");
var e = this, t = this.map;
B.env.fe_atlas_map_with_list_enabled || t.on("marker-click", i), t.on("fixed-iw-auto-open", i);
function i(i) {
_i_("269:7123f056");
var n = i.data, o = i.id;
if (!/hotel.*/.test(n.b_type)) return _r_();
e.view.close(), e.getIWFromMap(o, n), t.setIconActive(o), _r_();
}
t.on("iw-control-show", function(i) {
_i_("269:8230e81c");
var n = i.markerId, o = i.data;
e.getIWFromMap(n, o), t.off("iw-control-show"), _r_();
}), _r_();
}, _.prototype.getIWFromMap = function(e, t) {
_i_("269:37a76d8e");
var i = this.map, _ = /^hotel/.test(t.b_type);
n.trigger("markerList:updated", [ e ], this.map), _ && i.getIW(e, function(t) {
_i_("269:f7a891cd"), r.extend(t, i.getMarker(e)), o.get("destinationId") == t.b_id && i.set("currentHotel", t), n.trigger("add", t), _r_();
}), _r_();
}, _.prototype.createGeoView = function() {
_i_("269:a6e62dbc");
var e = this.viewOptions.topOverlay, i = e.width(), n = e.height(), o = new t(i, n), r = this.map.getBoundingBox();
return o.setNorthEast(a(r.NE)), o.setSouthWest(a(r.SW)), _r_(o);
};
function a(e) {
return _i_("269:5f07e1ec"), _r_(new i(parseFloat(e[0]), parseFloat(e[1])));
}
return _r_(_);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:5bc498d5"), !B.atlas) return _r_();
B.atlas.define("plot-markers", [ "util-env" ], function(e) {
_i_("269:63d0de1e");
var t = e.get("debug");
function i(e) {
_i_("269:3d5d8cf7"), this.names = {}, this.list = [], this.map = e, _r_();
}
return i.prototype.set = function(e, t) {
_i_("269:ab5ce361");
var i = "string" == typeof e && e.length > 0, n = t instanceof Function;
i && n && !this.names[e] && (this.names[e] = !0, this.list.push({
name:e,
callback:t
})), _r_();
}, i.prototype.init = function(e, i, n) {
_i_("269:38fcbf23");
var o;
return o = this.list.reduce(function(e, o) {
_i_("269:94214b50"), t && window.console && window.console.log && window.console.log("plot-markers: executing " + o.name, ", Marker count:", e.length);
var r = e;
return _r_(o.callback(r, i, n) || r);
}, e), _r_(o);
}, _r_(i);
}), B.atlas.define("plot-markers-default", [ "util-env", "plot-markers", "atlas-marker-properties" ], function(e, t, i) {
_i_("269:c51756cd");
var n, o, r, _;
function a() {
_i_("269:1cc15de0");
var a = this;
n = new t(a), o = new t(a), r = new t(a), _ = new t(a), o.set("concat-marker-types", function(e) {
return _i_("269:4ec954f6"), _r_([].concat(e.b_hotels || [], e.b_cities || [], e.b_airports || []));
}), r.set("prepare-markers", function(e) {
return _i_("269:9ba12d81"), a.prepMarkers(e), _r_(e);
}), B.env.relocation_mode && r.set("set-recommendation-number", function(e) {
_i_("269:f891166e");
var t = JSON.parse(localStorage.getItem("recommendations"));
return t && e.forEach(function(e) {
_i_("269:1af8fcc9");
for (var i = 0; i < t.hotels.length; i++) e.b_id == t.hotels[i] && (e.b_recommendation_number = i + 1), e.b_id == t.original_hotel_id && (e.b_is_original_hotel = !0);
_r_();
}), _r_(e);
}), e.get("isLandOrAddrMarkerEnabled") && o.set("landmark_address_marker", function(t, i, n) {
return _i_("269:e4a78265"), n.b_current_landmark && n.b_current_landmark.length && (n.b_current_landmark[0].b_marker_type += "_current", n.b_current_landmark[0].b_persistent = !0), t = n.b_current_landmark ? t.concat(n.b_current_landmark) :t, n.b_place && e.get("isEventSearch") && (n.b_place[0].b_basic_type = "event", n.b_place[0].b_marker_type = "event"), t = n.b_place ? t.concat(n.b_place) :t, _r_(t);
}), e.get("isSkiArea") && o.set("landmark_ski_marker", function(e, t, i) {
return _i_("269:062d1bf0"), i.b_landmarks && i.b_landmarks.length && (i.b_landmarks.forEach(function(e) {
_i_("269:3f214e09"), e.b_persistent = !0, _r_();
}), e = e.concat(i.b_landmarks)), _r_(e);
}), e.get("bbtool_fv") && o.set("company_saved_address_marker", function(e, t, i) {
return _i_("269:e2533e70"), i.b_saved_locations && i.b_saved_locations.length && ($.each(i.b_saved_locations, function(e, t) {
_i_("269:75181691"), t.b_marker_type = "company-saved-address", t.b_type = "company_saved_address", t.b_basic_type = "company_saved_address", t.b_persistent = !0, _r_();
}), e = e.concat(i.b_saved_locations)), _r_(e);
}), _.set("DOM-MARKERS: add-marker-properties", function(e, t) {
return _i_("269:802631bb"), e.forEach(function(e) {
_i_("269:67d052f7"), e && e.b_states && e.b_states.overlay && ("www" === B.env.b_site_type ? e.zIndex = t.getMarkerZIndex(e) :"mdot" === B.env.b_site_type && (e.zIndex = i.getZIndex(e))), _r_();
}), _r_(e);
}), a.get("disperse") && _.set("disperse", function(t, i) {
_i_("269:28150cde");
var n = B.atlas.require("map-markers-disperse");
return _r_(n.initialize(t, i, e.get("destinationId")));
}), this.plotMarkers = {
prepare:n,
add:o,
manipulate:r,
disperse:_
}, _r_();
}
return _r_({
init:a,
prepare:function(e, t, i) {
return _i_("269:06afea97"), _r_(n.init(e, t, i));
},
add:function(e, t, i) {
return _i_("269:039ec55d"), _r_(o.init(e, t, i));
},
manipulate:function(e, t, i) {
return _i_("269:c91925c5"), _r_(r.init(e, t, i));
},
disperse:function(e, t, i) {
return _i_("269:0c3d3a17"), _r_(_.init(e, t, i));
}
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:2d6860f6"), !B.atlas) return _r_();
B.atlas.define("cheapest-price", [], function() {
_i_("269:18f85ca0");
var e, t = 0, i = 3;
function n(n) {
_i_("269:57daac8b");
var r, _ = n.markerData, a = !1;
if (r = o(_), isNaN(r) || !(null == e || e >= r)) return _r_(a);
return a = !0, e = r, t++, i > t && (a = !1), _r_(a);
}
function o(e) {
if (_i_("269:82501c74"), e.b_availability) return _r_(e.b_availability.b_price_rounded);
_r_();
}
return _r_({
isCheaper:n
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:eb7ba23a"), !B.atlas) return _r_();
B.atlas.define("current-district-polygon", [ "util-env", "polygons" ], function(e, t) {
_i_("269:a11d1f63");
var i = {
paths:[],
clickable:!1,
strokeColor:"#FEBA02",
strokeWeight:2,
strokeOpacity:.8,
fillColor:"#FEBA02",
fillOpacity:.2
}, n = e.get("districtId"), o = !1;
function r(e) {
_i_("269:5af9de0c");
var r = {}, _ = {}, a = this.get("renderedPolysFromSrDistrictClick") || {};
if (!(e instanceof Array)) return _r_();
if (e.some(function(e) {
_i_("269:a742906d");
var t = n == e.id;
return t && (r = e), _r_(t);
}), !r.polygon || r.polygon.length < 1) return _r_();
if (a[r.id] && (o ? a[r.id].show() :a[r.id].hide()), !o || void 0 != a[r.id]) return _r_();
_ = $.extend(_, i, {
paths:r.polygon
}), a[r.id] = t.createPolygon.call(this, _), this.set("renderedPolysFromSrDistrictClick", a), _r_();
}
function _(e) {
_i_("269:da6c369a"), o = e.centralPolygonCoords ? !1 :!0, _r_();
}
function a(e) {
_i_("269:8df21138");
var t = e.map;
t.on(t.EVENTS.MARKERS_READY, function(e) {
_i_("269:55f86d10");
var i = B.atlas.require("current-district-polygon");
i.addPolygon.call(t, e.b_official_districts || []), _r_();
}), _r_();
}
return _r_({
init:a,
addPolygon:r,
updateState:_
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:0c1054b0"), !B.atlas) return _r_();
B.atlas.define("ufi-toggle-polygon", [ "util-env", "util-array", "polygons", "ufi-toggle-polygon-ufi-toggle" ], function(e, t, i, n) {
_i_("269:69642fa3");
var o = {
paths:[],
clickable:!1,
fillColor:"#0896FF",
fillOpacity:.07,
strokeColor:"#003580",
strokeOpacity:.8,
strokeWeight:2
}, r = [], _ = {}, a = !1, s = !0;
function l(e) {
_i_("269:21c6988f"), this.map = e.map, this.polygonState = "undefined" != typeof e.polygonState ? e.polygonState :a, this.overlayAllowsRender = e.overlayAllowsRender || s, this.reset(e), this.bindUfiEvents(), _r_();
}
l.prototype.reset = function(e) {
_i_("269:98c4b15e");
var t = !isNaN(this.ufiId);
this.ufiId = t ? this.ufiId :e.ufiId, t || this.findCityCenterDistrict(e.districtList), this.renderPolygon(), _r_();
}, l.prototype.findCityCenterDistrict = function(e) {
_i_("269:2f044d8d");
var i;
i = t.find(e.b_official_districts, c), i || (i = t.find(e.b_free_districts, c)), this.cityCenterDistrict = i, _r_();
}, l.prototype.renderPolygon = function(e) {
if (_i_("269:78ecfd06"), !this.cityCenterDistrict) return _r_();
var t, n = $.extend({}, o, {
paths:this.cityCenterDistrict.polygon
});
_[this.cityCenterDistrict.id] ? t = _[this.cityCenterDistrict.id] :(t = i.createPolygon.call(this.map, n), _[this.cityCenterDistrict.id] = t), this.cityCenterPoly = t, this.render(), _r_();
}, l.prototype.render = function(e) {
_i_("269:724c5376"), this.polygonState && this.overlayAllowsRender ? this.cityCenterPoly.show() :this.cityCenterPoly.hide(), _r_();
}, l.prototype.updateStateOverlay = function(e) {
_i_("269:d186a605"), this.overlayAllowsRender = e, this.renderPolygon(), _r_();
}, $.extend(l.prototype, n);
function c(e) {
return _i_("269:20590536"), _r_(1 == e.city_centre);
}
function d(i) {
_i_("269:b9fe5988");
var n = t.find(i.b_cities, function(t) {
return _i_("269:8f6b2ccf"), _r_(e.get("ufi") == t.b_id);
});
if (n) return n.b_persistent = 1, _r_(n.b_id);
return _r_(!1);
}
function h(e) {
_i_("269:7078c042");
var t = e.centralPolygonCoords || e.circleCenterCoords ? !1 :!0;
r.forEach(function(e) {
_i_("269:bc80b5b2"), e.updateStateOverlay(t), _r_();
}), s = t, _r_();
}
function u(e, t) {
_i_("269:13c3fa0c");
var i = r[t.get("UfiTogglePolygonInstance")];
return _r_(e.b_id == i.ufiId && i.overlayAllowsRender);
}
function f(e) {
_i_("269:d9df7502");
var t = e.map;
t.on(t.EVENTS.MARKERS_READY, function(i) {
_i_("269:e9d1c1c8");
var n, o = "number" == typeof t.get("UfiTogglePolygonInstance") ? t.get("UfiTogglePolygonInstance") :!1;
e.districtList = i, e.ufiId = d(e.districtList), o === !1 ? (t.set("UfiTogglePolygonInstance", r.length), n = new l(e), r[r.length] = n) :(n = r[o], n.reset(e)), _r_();
}), _r_();
}
return _r_({
initialize:f,
updateState:h,
checkEnableCityCenterCopy:u
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:7a8f412b"), !B.atlas) return _r_();
B.atlas.define("ufi-toggle-polygon-ufi-toggle", [ "util-env", "util-array", "polygons" ], function(e, t, i) {
_i_("269:ec2ddf18");
var n = {};
return n.bindUfiEvents = function() {
_i_("269:fbcda861"), this.map.on("marker-hover", $.proxy(this.togglePolygon, this), {
show:!0
}), this.map.on("marker-out", $.proxy(this.togglePolygon, this), {
show:!1
}), _r_();
}, n.togglePolygon = function(e, t, i) {
_i_("269:763d3227");
var n;
e.id == this.ufiId && this.overlayAllowsRender && (n = "boolean" == typeof t.show ? t.show :!0, this.polygonState = n, this.renderPolygon()), _r_();
}, _r_(n);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:326cda24"), !B.atlas) return _r_();
B.atlas.define("goals-with-values", [ "util-env" ], function(e) {
_i_("269:0470de67");
var t;
t = [ {
evt:"marker-click",
name:"js_atlas_hp_click_property_per_visitor",
condition:"hotel" == e.get("action"),
filter:function(e) {
return _i_("269:7a4787b8"), _r_(/hotel/.test(e.type));
}
}, {
evt:"marker-click",
name:"js_atlas_sr_click_property_per_visitor",
condition:"searchresults" == e.get("action"),
filter:function(e) {
return _i_("269:7a4787b81"), _r_(/hotel/.test(e.type));
}
}, {
evt:"marker-hover-triggered",
name:"js_atlas_hp_hover_property_per_visitor",
condition:"hotel" == e.get("action"),
filter:function(e) {
return _i_("269:7a4787b82"), _r_(/hotel/.test(e.type));
}
}, {
evt:"marker-hover-triggered",
name:"js_atlas_sr_hover_property_per_visitor",
condition:"searchresults" == e.get("action"),
filter:function(e) {
return _i_("269:7a4787b83"), _r_(/hotel/.test(e.type));
}
}, {
evt:"marker-click",
name:"js_atlas_hp_click_landmark_per_visitor",
condition:"hotel" == e.get("action"),
filter:function(e) {
return _i_("269:1761c867"), _r_(/landmark/.test(e.type));
}
}, {
evt:"marker-click",
name:"js_atlas_sr_click_landmark_per_visitor",
condition:"searchresults" == e.get("action"),
filter:function(e) {
return _i_("269:1761c8671"), _r_(/landmark/.test(e.type));
}
}, {
evt:"marker-hover-triggered",
name:"js_atlas_hp_hover_landmark_per_visitor",
condition:"hotel" == e.get("action"),
filter:function(e) {
return _i_("269:1761c8672"), _r_(/landmark/.test(e.type));
}
}, {
evt:"marker-hover-triggered",
name:"js_atlas_sr_hover_landmark_per_visitor",
condition:"searchresults" == e.get("action"),
filter:function(e) {
return _i_("269:1761c8673"), _r_(/landmark/.test(e.type));
}
} ];
function i(e, t, i, n) {
if (_i_("269:8feeb3b3"), !window.requestAnimationFrame || void 0 === window.performance || void 0 === window.performance.now) return _r_();
var o, r = B.debug("atlas_fps"), _ = 0;
function a(e) {
if (_i_("269:934a8340"), r.log(t, "fps", e), _) {
var i = _ * o;
_ += 1, o = (i + e) / _;
} else _ = 1, o = e;
r.log(t, "fps avg", o), _r_();
}
var s = !1;
function l() {
_i_("269:ccb2dad4");
var e = performance.now(), t = 0;
s = !1;
var i = function() {
if (_i_("269:75f9df68"), t++, s) {
var n = performance.now(), o = Math.round(1e3 * t / (n - e));
a(o);
} else requestAnimationFrame(i);
_r_();
};
requestAnimationFrame(i), _r_();
}
var c, d = 500;
function h() {
_i_("269:1405c7e3"), c = void 0, s = !0, _r_();
}
function u() {
_i_("269:6435682a"), void 0 === c ? l() :clearTimeout(c), c = setTimeout(h, d), _r_();
}
n ? (e.on(i, l), e.on(n, h)) :e.on(i, u), setTimeout(function() {
_i_("269:2d335b47"), o && (r.log(t, "1m", o), B.et.goalWithValue(t + "_avg_1m", parseInt(o))), n ? (e.off(i, l), e.off(n, h)) :e.off(i, u), _r_();
}, 6e4), _r_();
}
function n(e, t) {
if (_i_("269:f3120839"), t.filter && !t.filter.apply(this, [].slice.call(arguments, 0))) return _r_();
if (!B.et || !B.et.goal) return _r_();
B.et.goalWithValue(t.name, 1), _r_();
}
return _r_({
init:function() {
_i_("269:02000537");
var o = this;
if ("default" !== this.get("id")) return _r_();
"mdot" !== B.env.b_site_type && $.each(t, function(e, t) {
_i_("269:318545ff"), t.condition && o.on(t.evt, n, t, !0), _r_();
}), "searchresults" === e.get("action") && (i(this, "js_atlas_sr_pan_fps", "drag-start", "drag-end"), i(this, "js_atlas_sr_zoom_fps", "zoom")), "hotel" === e.get("action") && (i(this, "js_atlas_hp_pan_fps", "drag-start", "drag-end"), i(this, "js_atlas_hp_zoom_fps", "zoom")), _r_();
}
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:78a3ec02"), !B.atlas) return _r_();
B.atlas.define("map-track", [ "jQuery", "util-env" ], function(e, t) {
_i_("269:d65a6353");
var i = B.require("promise"), n = "/map_track", o = "error: hash generation failed!";
function r(e) {
_i_("269:8c73d251"), this.map = e.map, _r_();
}
r.prototype.init = function() {
if (_i_("269:38ee11b5"), !JSON || !JSON.stringify) return _r_();
var e = this.map, i = this;
B.atlas.mapTrack = B.atlas.mapTrack || {
timesOpened:1
}, 1 === B.atlas.mapTrack.timesOpened && this.getHash().then(function(n) {
_i_("269:cda618ef"), e.set("map-track", n), i.log({
event:"map-open",
is_auto_open:t.get("triggerAutoOpen"),
times_map_opened:B.atlas.mapTrack.timesOpened
}), _r_();
}), e.on(e.EVENTS.MARKERS_GET_SUCCESS, function(e) {
_i_("269:63697c70"), i.metaData = e.b_search_metadata, _r_();
}), this.bindEvent(), _r_();
}, r.prototype.getHashData = function() {
_i_("269:32d992bc");
var e = {
aid:t.get("aid"),
nr_adults:t.get("adultsTotal"),
available_hotels:t.get("availableHotels"),
country:t.get("b_guest_country"),
checkin:t.get("checkinDate"),
checkout:t.get("checkoutDate"),
nr_children:t.get("childrenTotal"),
currency:t.get("currency"),
dest_id:t.get("destinationId"),
dest_type:t.get("destinationType"),
lang:t.get("lang"),
nr_rooms:t.get("nrRooms"),
total_hotels:t.get("totalHotels"),
sr_pageview_id:t.get("srPageviewId"),
is_auto_open:t.get("triggerAutoOpen"),
times_map_opened:B.atlas.mapTrack.timesOpened
};
for (var i in e) "undefined" == typeof e[i] && delete e[i];
return _r_(e);
}, r.prototype.getHash = function() {
_i_("269:686eebaa");
var t = this.getHashData();
return this.hashPromise = new i(function(i, r) {
_i_("269:cc3ae9f0"), e.ajax({
type:"POST",
url:n,
data:t,
success:function(e) {
_i_("269:137054b2"), e.hash ? i(e.hash) :r(o), _r_();
},
error:function() {
_i_("269:06d0f3fd"), r(o), _r_();
}
}), _r_();
}), _r_(this.hashPromise);
}, r.prototype.bindEvent = function() {
_i_("269:5ba126f2");
var e = this.map, i = this;
e.on("marker-click", function(e) {
_i_("269:dd2157d8");
var t = e.data, n = _("marker-click", t);
i.log(n), _r_();
}), e.on("marker-hover-triggered", function(e) {
_i_("269:7e81eabc");
var t = e.data, n = _("marker-hover", t);
i.log(n), _r_();
}), e.once("markers-ready", function(t) {
_i_("269:1051674d"), i.logContextData({
event:"map-ready"
}), e.on("markers-ready", function() {
_i_("269:f9c5a612"), i.logContextData({
event:"markers-ready"
}), _r_();
}), _r_();
}), e.on("hp-current-iw-title-click", function(t) {
_i_("269:7a910790");
var n = e.getMarker(t.id), o = a("hp_iw_ttl_current", n);
i.log(o), _r_();
}), e.on("hp-current-iw-button-click", function(t) {
_i_("269:57a379e7");
var n = e.getMarker(t.id), o = a("hp_iw_btn_current", n);
i.log(o), _r_();
}), e.once("open", function() {
_i_("269:502a52ab"), B.atlas.mapTrack.timesOpened++, i.log({
event:"map-open",
is_auto_open:1 === B.atlas.mapTrack.timesOpened && t.get("triggerAutoOpen") ? !0 :!1,
times_map_opened:B.atlas.mapTrack.timesOpened
}), _r_();
}), e.once("close", function() {
_i_("269:0fa66db2"), i.log({
event:"map-close",
is_auto_open:1 === B.atlas.mapTrack.timesOpened && t.get("triggerAutoOpen") ? !0 :!1,
times_map_opened:B.atlas.mapTrack.timesOpened
}), _r_();
}), _r_();
}, r.prototype.log = function(t) {
_i_("269:b6398a35"), this.hashPromise && this.hashPromise.then(function(i) {
_i_("269:110a5a13"), e.ajax({
type:"POST",
url:n,
data:e.extend({
hash:i
}, t),
success:function(e) {}
}), _r_();
}), _r_();
}, r.prototype.logContextData = function(e) {
_i_("269:c88ba981");
var i = this.map, n = i.getActiveMarkers(), o = i.getBounds(), n = n.filter(function(e) {
return _i_("269:74384696"), _r_(o.contains([ e.b_latitude, e.b_longitude ]));
});
this.metaData && (e.bbox_total_hotels = this.metaData.bbox_total_hotels, e.bbox_matching_hotels = this.metaData.bbox_available_hotels), e.total_hotels = t.get("totalHotels"), e.nflt = t.get("paramNflt"), e.zoom = i.getZoom(), e.bbox = function() {
_i_("269:52cf84c9");
var e = i.getBoundingBox();
if (e.SW && e.NE) return e = [ e.SW[1], e.SW[0], e.NE[1], e.NE[0] ], _r_(e.join(","));
_r_();
}(), e.marker = function() {
return _i_("269:2e98cf77"), _r_(n.length);
}(), e.property_marker = function() {
return _i_("269:ff890386"), _r_(n.filter(function(e) {
return _i_("269:096466681"), _r_("hotel" === e.b_basic_type);
}).length);
}(), e.ufi_marker = function() {
return _i_("269:80c3a502"), _r_(n.filter(function(e) {
return _i_("269:46534839"), _r_("city" === e.b_basic_type);
}).length);
}(), e.b_hotel_data = function() {
return _i_("269:99c0c9a4"), _r_(JSON.stringify(n.reduce(function(e, t) {
return _i_("269:a90ea701"), "hotel" == t.b_basic_type && e.push({
id:t.b_id,
soldout:!t.b_has_av,
review_score:t.b_review_score || ""
}), _r_(e);
}, [])));
}(), e.times_map_opened = B.atlas.mapTrack.timesOpened, this.log(e), _r_();
};
function _(e, t) {
_i_("269:1138ca41");
var i;
return i = {
source:"marker",
source_id:t.b_id,
source_type:t.b_basic_type,
event:e
}, "undefined" != typeof t.b_has_av && (i.source_labels = i.source_labels || [], t.b_has_av || i.source_labels.push("soldout")), t.b_states && t.b_states.current && (i.source_labels = i.source_labels || [], i.source_labels.push("current")), i.source_labels && i.source_labels.length && (i.source_labels = i.source_labels.join(",")), i.times_map_opened = B.atlas.mapTrack.timesOpened, _r_(i);
}
function a(e, t) {
_i_("269:0e4a793d");
var i = {
source:e,
source_id:t.b_id,
source_type:"hotel",
event:"iw-click"
};
return _r_(i);
}
return _r_(r);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:51103756"), !B.atlas) return _r_();
B.atlas.define("map-legend", [ "util-env" ], function(e) {
_i_("269:2afed119");
var t = {
hotel_company_favorite:"atlas-marker atlas-marker-hotel atlas-marker-company-favorite legend",
company_saved_address:"atlas-marker atlas-marker-hotel atlas-marker-company-saved-address legend"
};
function i() {
_i_("269:983ebf7c");
var e = this;
this.on(e.EVENTS.LOAD, function() {
_i_("269:57ee280b"), n(e), _r_();
}), _r_();
}
function n(e) {
_i_("269:25142588");
var t = o(e);
if (t.length > 0) {
var i = $(B.jstmpl("atlas_iw_mini_company_legend").render({
fe_legendData:t
}));
i.find(".iw_company_legend__close").click(function() {
_i_("269:e0a06e38"), i.hide(), _r_();
}), e.$domNode.append(i);
}
_r_();
}
function o(e) {
_i_("269:4533c1f3");
var i = [], n = {}, o = e.getActiveMarkers();
return $.each(o, function(e, o) {
_i_("269:4b81c13e"), o.b_type && t[o.b_type] && !n[o.b_type] && (i.push({
fe_name:o.b_type,
fe_class:t[o.b_type]
}), n[o.b_type] = !0), _r_();
}), _r_(i);
}
return _r_({
init:i
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:c904f3f4"), !B.atlas || !B.atlas.define) return _r_();
B.atlas.define("hp_iw_free_cancellation_tooltip", [ "util-env" ], function(e) {
_i_("269:b7b229f4");
var t;
function i(e) {
_i_("269:e16b3ff5");
var i = e.map;
i.on("fixed-iw-open", function(e) {
_i_("269:8106daad");
var i = e.$infoWindow;
t = !1, i.on("mouseenter", function() {
_i_("269:602a55e6"), t || ($(".maps_free_cancellation_tooltip").addClass("active"), t = !0), _r_();
}), i.on("mouseleave", function() {
_i_("269:59540d6c"), $(".maps_free_cancellation_tooltip").removeClass("active"), _r_();
}), i.find(".maps_free_cancellation_tooltip").on("mouseenter", function() {
_i_("269:8ef2a54a"), $(this).removeClass("active"), _r_();
}), _r_();
}), _r_();
}
return _r_({
init:i
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:6432ac70"), !B.atlas) return _r_();
B.atlas.define("icons-svg", [ "util-object" ], function(e) {
_i_("269:f8a00644");
var t = "//r.bstatic.com/static/img/atlas_markers-2/071fc2eee7a98c63196cf712c1a1d35b63868ece.svg", i = {
url:t,
w:17,
h:28,
x:0,
y:0,
z:400
}, n = {
"default":i
}, o = {
hover:{
x:50,
y:0
}
};
function r(t, i) {
_i_("269:5740eceb");
var n = this.getIcon(t), r = o[i];
return r && (n = e.extend({}, n, {
x:n.x + r.x,
y:n.y + r.y
})), _r_(n);
}
function _(e) {
return _i_("269:50f4c6ac"), _r_(n.hasOwnProperty(e) ? n[e] :n["default"]);
}
function a(e) {
return _i_("269:2dcdb1ed"), _r_(r.call(this, e, "hover"));
}
function s(e) {
return _i_("269:8b62c9a9"), _r_(r.call(this, e, "visited"));
}
function l(t, o) {
_i_("269:192cc53e"), t && (n[t] = e.extend({}, i, o)), _r_();
}
function c(e, t) {
_i_("269:4fb226ec"), e && (o[e] = t), _r_();
}
return _r_({
ICONS:n,
getIcon:_,
getHover:a,
getVisited:s,
getIconState:r,
setIcon:l,
setIconState:c
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:14b42130"), !B.atlas) return _r_();
B.atlas.define("atlas-svg-icons", [ "util-env" ], function(e) {
_i_("269:bd561d8a");
function t() {
_i_("269:cf858376");
var t = this;
t.setIcon("geosearch_place", {
w:28,
h:25,
x:600,
y:100,
z:2e3
}), t.setIcon("hotel_current", {
w:22,
h:38,
x:400,
y:0,
z:1e3
}), t.setIcon("hotel_soldout_current", {
w:22,
h:38,
x:400,
y:50,
z:1010
}), B.atlas.assert.tdot || (t.setIcon("city", {
w:23,
h:21,
x:600,
y:0
}), t.setIcon("city_current", {
w:30,
h:25,
x:600,
y:50
})), !e.get("tdot") && e.get("hasValidDates") && "hotel" === e.get("action") && (t.setIcon("hotel_soldout", {
x:0,
y:50
}), t.setIcon("hotel", {
x:0,
y:100
})), !e.get("tdot") && e.get("hasValidDates") && "hotel" === e.get("action") && (t.setIcon("hotel_soldout", {
x:0,
y:250
}), t.setIcon("hotel", {
x:0,
y:0
})), _r_();
}
return _r_({
init:t
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:cb489764"), !B.atlas) return _r_();
B.atlas.define("center-on-resize", function(e) {
_i_("269:e98f47af");
function t() {
_i_("269:56c80f24");
var e = this.getCenter();
this.resize(), this.setCenter(e), _r_();
}
return _r_({
resizeCenter:t
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:53605997"), !B.atlas) return _r_();
B.atlas.define("bounding-box-onclose", [ "jQuery" ], function(e) {
_i_("269:2195c2ef");
function t(e) {
_i_("269:4a4d89db");
var t;
e.once(e.EVENTS.LOAD, function() {
_i_("269:42837277"), t = e.getBoundingBox(), t && (t = [ t.SW, t.NE ]), _r_();
}), e.on("close", function() {
_i_("269:a3e7d506");
var i = e.getBoundingBox();
i && (i = [ i.SW, i.NE ]), "object" == typeof t && t[0] && "object" == typeof i && i[0] && (t[0][0] != i[0][0] || t[0][1] != i[0][1]) && (e.isBoundChangeAutoopen = !0), _r_();
}), _r_();
}
return _r_(t);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:e006290d"), !B.atlas) return _r_();
B.atlas.define("bbtool-tip-block", [ "util-env" ], function(e) {
_i_("269:37878d9a");
var t = 3e3, i = B.jstmpl("atlas_bbtool_tip_block"), n = booking.browserStorageHandler.getSessionValue("map-bbtool-tip-hidden");
function o(o) {
if (_i_("269:d6cfe7a8"), n) return _r_();
var r = $(i.render({
b_companyname:B.env.b_companyname,
bbtoolPromoPageURL:e.get("bbtoolPromoPageURL")
}));
setTimeout(function() {
_i_("269:6c74ba7c"), o.topOverlay.append(r), _r_();
}, t), r.find(".js-maps-bbtool-tip__close").click(function() {
_i_("269:55b02c3b"), booking.browserStorageHandler.addSessionValue("map-bbtool-tip-hidden", !0), r.remove(), _r_();
}), _r_();
}
return _r_(o);
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:b1ccb305"), !B.atlas || !B.atlas.define) return _r_();
B.atlas.define("price-overlay-markers-content", [ "util-env" ], function(e) {
_i_("269:c9e1a8db");
var t = $('<div class="atlas-marker-tooltip"></div>'), i = $("body"), n = 0, o = B.atlas.require("atlas-marker-properties");
t.css({
visibility:"hidden",
display:"inline-block",
position:"absolute",
top:0,
left:"-1000px"
});
function r(e) {
_i_("269:ba67dbdc");
var r = this, _ = o.getMarkerDimension(e);
if (_ = {
w:_.disperseWidth || _.width,
h:_.disperseHeight || _.height
}, n ? (clearTimeout(n), n = 0) :i.append(t), B.atlas.getVariant("ebccCcCcCWNAdMKJZKe")) {
var a = $(r.getMarkerContent(e));
a.css({
position:"absolute"
}), r.$domNode.append(a), _.w = a.width(), a.remove();
}
if (e.b_states && e.b_states.show_price && e.b_u_total_price) t.html(e.b_u_total_price), _.labelWidth = t.width(); else if (e.b_label) {
var a = $(r.getMarkerContent(e));
r.$domNode.append(a), _.w = a.width() + a.find(".map-marker-v2-label").width(), _.h = a.height(), a.remove();
}
return n = setTimeout(function() {
_i_("269:70f50041"), t.remove(), n = 0, _r_();
}, 500), _r_(_);
}
return _r_({
getMarkerDimension:r
});
}), _r_();
}), B.define("utils/makeurl", function(e, t, i) {
_i_("269:37a9a4ee");
var n = e("querystring");
t = i.exports = o, t.parse = r, t.pick = _;
function o(e, i, n) {
_i_("269:b1c6469b");
var o = t.parse(e);
return $.extend(o.query, i), _r_(o.toString(n));
}
function r(e) {
return _i_("269:3a4ddb84"), _r_(e instanceof a ? e :new a("string" == typeof e ? n.parseUrl(e) :e));
}
function _(e, t, i, n) {
_i_("269:0f81736e");
var o = r(e), _ = o.query, a = {};
return i && $.extend(_, i), t.forEach(function(e) {
if (_i_("269:094899f0"), e instanceof RegExp) for (var t in _) _.hasOwnProperty(t) && e.test(t) && (a[t] = _[t]); else _.hasOwnProperty(e) && (a[e] = _[e]);
_r_();
}), o.query = a, _r_(o.toString(n));
}
function a(e) {
_i_("269:81d337d1"), this.base = e.base || "", this.query = e.query, this.hash = e.hash;
var t = this.base.match(/^(((https?)\:\/\/)[a-zA-Z0-9][a-zA-Z0-9\-\.\:]+[a-zA-Z0-9])(\/.*)/);
t ? (this.origin = t[1], this.scheme = t[3]) :this.path = this.base, _r_();
}
a.prototype.toString = function(e) {
_i_("269:134103fe"), e = e || {};
var t = this.base || "", i = this.query ? n.stringify(this.query, e) :"";
return i && (t += "?" + i), this.hash && e.keepHash && (t += "#" + this.hash), _r_(t);
}, _r_();
}), $(function() {
"use strict";
if (_i_("269:8f6eb1c2"), !B.atlas || !B.atlas.define) return _r_();
var e = "ebccCcCcCDSDNQUVUWZTNWfKe";
B.when({
action:[ "hotel" ],
events:"ready"
}).run(function(t) {
_i_("269:646dcf60");
var i = t("jquery"), n = "map_opened", o = ".show_map";
i(document).on("click", o, r), (location.hash && location.hash.indexOf(n) > -1 || /(;|&)map=1/.test(location.href)) && r();
function r() {
_i_("269:e252346e"), B.et.stage(e, 1), _r_();
}
_r_();
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:bee104fb"), !B.atlas || !B.atlas.define) return _r_();
var e = "YWYHfZPdHdFaceaT";
B.atlas.define(e, [ "util-env" ], function(t) {
_i_("269:fcfa47ca");
var i = B.et.track(e);
function n(t) {
_i_("269:d3594964");
var n, o, r = t.map, _ = B.require("fragment"), a = B.browserStorageHandler, s = a.getSessionValue("clicked-beach-id") || 0, l = 0, c = B.env.fe_nearby_beaches_present && s && location.hash.indexOf("map_opened-geo-nearby-beaches-map") > -1, d = {
class_name:"Beach",
ufi:B.env.b_ufi || "",
load_geometry_for_map:!0
}, h = _.call("geo.geo_object", d);
r.on("ready", function() {
_i_("269:4a472d8b"), h.then(function(e) {
if (_i_("269:42ac1db6"), Array.isArray(e)) {
if (!e || !e.length) return _r_();
e.length && i > 1 && (n = f(e));
}
_r_();
}), _r_();
}), r.on(r.EVENTS.OPEN, function() {
_i_("269:0ec75f86"), s = a.getSessionValue("clicked-beach-id") || 0, c = B.env.fe_nearby_beaches_present && s && location.hash.indexOf("map_opened-geo-nearby-beaches-map") > -1, r.hasLoaded && n && c && !l && (p(), u(), r.addMarkers(n).then(b())), _r_();
}), r.on(r.EVENTS.CLOSE, function() {
_i_("269:f58665d0"), n && (n.forEach(function(e) {
_i_("269:777c2dac"), this.clearMarker("geo_beach_" + e.b_id), _r_();
}.bind(this)), s = 0, a.deleteSessionValue("clicked-beach-id"), l = 0, o && (o.b_behaviors = {
"pulsating-beach":!1,
"current-beach":!1
})), _r_();
}), r.on(r.EVENTS.MARKER_HOVER, function(t) {
_i_("269:3ece9bd3"), "geo_beach" === t.data.b_basic_type && (r.openIW(t.data.b_atlas_id, {}, B.jstmpl("atlas_iw_mini_geo_beach").render(t.data)), B.et.customGoal(e, 4), t.data.b_behaviors["current-beach"] && (t.data.b_behaviors["pulsating-beach"] = !1)), _r_();
}), r.on("load", function() {
_i_("269:0ebaa474"), n && c && !l && (p(), u(), r.addMarkers(n).then(b())), _r_();
});
function u() {
_i_("269:6c66a65f"), o = n.find(function(e) {
return _i_("269:270b89ad"), _r_(parseInt(e.b_id, 10) === parseInt(s));
}), o && (o.b_behaviors = {
"pulsating-beach":!0,
"current-beach":!0
}), _r_();
}
function f(e) {
_i_("269:b0ef134d");
var t = [];
return e && e.length && e.forEach(function(e) {
_i_("269:61505dea");
var i, n = {
b_id:e.id,
b_type:"beach",
b_basic_type:"geo_beach",
b_persistent:!0,
b_template:"atlas_overlay_marker_sr",
b_states:{
overlay:!0
},
b_name:e.name
};
i = e.center.split(","), n.center = i, n.b_latitude = i[0], n.b_longitude = i[1], n.beach = $.extend({}, e), t.push(n), _r_();
}), _r_(t);
}
function p() {
_i_("269:6bd58f43"), r.set("preventIWCloseOnBoundsChange", !0);
var e = setTimeout(function() {
_i_("269:509208ef"), r.set("preventIWCloseOnBoundsChange", !1), _r_();
}.bind(this), 5e3);
r.once("bounds-change", function() {
_i_("269:75d1134c"), clearTimeout(e), r.set("preventIWCloseOnBoundsChange", !1), _r_();
}.bind(this)), _r_();
}
function b() {
_i_("269:89bf2bba");
var e = r.Bounds(), t = r.getMarker("geo_beach_" + s), i = m(r);
t && i && (e.extend([ parseFloat(i.b_latitude, 10), parseFloat(i.b_longitude, 10) ]), e.extend([ parseFloat(t.b_latitude, 10), parseFloat(t.b_longitude, 10) ]), r.fitBounds && (r.fitBoundsWithOffset(e, {
x:380,
y:0
}), l = 1)), _r_();
}
function m(e) {
return _i_("269:bf6b3aad"), _r_(e.getActiveMarkers().filter(function(e) {
return _i_("269:e79088fb"), _r_("hotel" === e.b_basic_type && e.b_id === B.env.b_hotel_id);
})[0]);
}
_r_();
}
return _r_({
init:n
});
}), _r_();
}), B.require("jquery")(function() {
"use strict";
if (_i_("269:e1acc370"), !B.atlas || !B.atlas.define) return _r_();
var e = "ebccCcCcCDSSeCXeQUGIRKWe", t = "ebccCcCcCWNTUMKebYLAXCC", i = "searchresults" === B.env.b_action ? t :e;
B.atlas.define(i, [], function(i) {
_i_("269:378833ed");
var n = i("et"), o = i("Atlas/geo.bounds"), r = {
b_type:"top_landmark",
b_states:{
overlay:!0
},
b_template:"atlas_overlay_marker_sr",
b_persistent:!0
};
return _r_({
requiredActions:[ "updateToggleVisibility", "setLandmarksData", "toggleSurroundingsElement" ],
getState:function() {
return _i_("269:3169df7c"), _r_(this.store.getState());
},
initialize:function() {
_i_("269:e8450ce7");
var t = this, i = this.handleLandmarksLoaded.bind(this), o = this.loadLandmarks().then(i, function() {});
B.atlas.getVariant(e) && this.store.once("markers-ready", function(i) {
_i_("269:7270b391");
var r, _, a = 0;
i.forEach(function(e) {
_i_("269:6b9b297a"), e.b_states && e.b_states.current && (r = e), _r_();
}), r && (_ = new google.maps.LatLng(r.data.b_latitude, r.data.b_longitude), o.then(function(i) {
if (_i_("269:b0015df5"), !Array.isArray(i)) return _r_();
i.forEach(function(e) {
_i_("269:cf25ce3f");
var t = e.b_xlocations[0], i = google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(t.b_latitude, t.b_longitude), _);
500 > i && a++, _r_();
}), 0 === a ? (B.atlas.getVariant(e) > 1 && (t.toggleLandmarks(i, !1), t.actions.toggleSurroundingsElement(t.store, "landmarks")), n.stage(e, 3)) :n.stage(e, 2), _r_();
})), _r_();
}), _r_();
},
componentDidUpdate:function(e, t) {
_i_("269:fb30713b");
var i = e.surroundings.toggles, n = t.surroundings.toggles, o = e.landmarks.list;
o && i.landmarks !== n.landmarks && this.toggleLandmarks(o, i.landmarks), _r_();
},
loadLandmarks:function() {
return _i_("269:8d5c4720"), _r_(B.require("fragment").call("destination_content.city.things_to_do", {
ufi:B.env.b_ufi,
limit:9,
object_type:"landmark",
landmark_sort:"votes"
}));
},
trackStages:function() {
_i_("269:95b2ea83"), n.stage(t, 1), n.stage(e, 1), _r_();
},
handleLandmarksLoaded:function(i) {
if (_i_("269:558c125a"), !i || !i.length) return _r_();
return this.trackStages(), (B.atlas.getVariant(t) > 1 || B.atlas.getVariant(e) > 1) && (this.actions.updateToggleVisibility(!0), this.actions.setLandmarksData(i, r), this.actions.toggleSurroundingsElement(this.store, "landmarks")), _r_(i);
},
toggleLandmarks:function(e, t) {
_i_("269:f1d2f390"), t ? this.setMarkers(e) :(this.removeMarkers(e), this.store.setIconOut(), this.store.closeIW(), this.store.set("topLandmarkIWOpen", !1)), _r_();
},
removeMarkers:function(e) {
_i_("269:5a5ed1f5"), e.forEach(function(e) {
_i_("269:a0f70274"), this.store.clearMarker("top_landmark_" + e.b_id), _r_();
}.bind(this)), _r_();
},
setMarkers:function(e) {
_i_("269:36d49448"), this.store.addMarkers(e), _r_();
},
updateBounds:function(e) {
_i_("269:edbe3718");
var t = new o();
e.forEach(function(e) {
_i_("269:df371012"), t.extend([ e.b_latitude, e.b_longitude ]), _r_();
}), this.store.setBounds(t), _r_();
}
});
}), _r_();
}), $(function() {
"use strict";
if (_i_("269:85c511d5"), !B.atlas || !B.atlas.define) return _r_();
var e = "ebccCcCcCDSJZRZEYRUC";
B.atlas.define(e, function(t) {
_i_("269:947afac0");
var i = t("et"), n = t("promise"), o = t("Atlas/geo.bounds"), r = t("Atlas/atlas-marker-properties"), _ = [ "restaurant", "bar", "supermarket" ];
function a(e) {
return _i_("269:bbd346ff"), _r_("nearby_" + e);
}
var s = _.map(a);
function l(e, t) {
_i_("269:a0c50aba");
var i = {
height:256,
width:256
}, n = 21;
function o(e) {
_i_("269:978e6cf8");
var t = Math.sin(e * Math.PI / 180), i = Math.log((1 + t) / (1 - t)) / 2;
return _r_(Math.max(Math.min(i, Math.PI), -Math.PI) / 2);
}
function r(e, t, i) {
return _i_("269:52dd02dc"), _r_(Math.floor(Math.log(e / t / i) / Math.LN2));
}
var _ = e.getNorthEast(), a = e.getSouthWest(), s = (o(_.lat) - o(a.lat)) / Math.PI, l = _.lng - a.lng, c = (0 > l ? l + 360 :l) / 360, d = r(t.height, i.height, s), h = r(t.width, i.width, c);
return _r_(Math.min(d, h, n));
}
return _r_({
loadingStarted:!1,
placesRendered:!1,
zoomLevelToStartLoading:15,
placesZoomLevel:17,
placesZoomLevelMin:17,
placeMarkers:null,
init:function(e) {
_i_("269:94382043"), this.$mapDomNode = e.atlasOptions.domNode, this.map = e.map, this.map.once(this.map.EVENTS.LOAD, this.handleMarkersReady.bind(this)), _r_();
},
handleMarkersReady:function() {
_i_("269:1813ad07"), this.checkLoadingConditions() && this.startLoadingProcess().then(this.decideWhatToDoWithPlaces.bind(this)), this.map.on("zoom", this.decideWhatToDoWithPlaces.bind(this)), this.map.on("drag-end", this.decideWhatToDoWithPlaces.bind(this)), this.map.on("marker-hover-triggered", this.handleMarkerHover.bind(this)), _r_();
},
decideWhatToDoWithPlaces:function() {
if (_i_("269:cd7d1d0f"), this.checkLoadingConditions()) return _r_(this.startLoadingProcess().then(this.decideWhatToDoWithPlaces.bind(this)));
if (!this.placeMarkers) return _r_();
this.isZoomAcceptableForRendering() ? this.isCurrentPropertyInView() && (i.stage(e, 2), this.renderPlaces(this.placeMarkers)) :this.removePlaces(this.placeMarkers), _r_();
},
checkLoadingConditions:function() {
return _i_("269:6b88b294"), _r_(!this.loadingStarted && this.isZoomAcceptableForLoading() && this.isCurrentPropertyInView());
},
isZoomAcceptableForLoading:function() {
return _i_("269:06a02e00"), _r_(this.map.getZoom() >= this.zoomLevelToStartLoading);
},
isZoomAcceptableForRendering:function() {
return _i_("269:00b2ca2e"), _r_(this.map.getZoom() >= Math.min(this.placesZoomLevel, this.placesZoomLevelMin));
},
_currentProperty:null,
getCurrentProperty:function() {
if (_i_("269:88201073"), this._currentProperty) return _r_(this._currentProperty);
for (var e = this.map.getActiveMarkers(), t = 0; t < e.length; t++) {
var i = e[t];
if (i.b_id == B.env.b_hotel_id) return this._currentProperty = i, _r_(i);
}
return _r_(null);
},
isCurrentPropertyInView:function() {
_i_("269:c65f94e8");
var e = this.getCurrentProperty();
if (!e) return _r_(!1);
var t = this.map.getBounds();
return _r_(t.contains([ e.b_latitude, e.b_longitude ]));
},
startLoadingProcess:function() {
if (_i_("269:3869f926"), this.loadingStarted || !this.isGoogleMapsReady()) return _r_(n.resolve(null));
var e = this.getCoordinatesForPlaces();
if (!e) return _r_(n.resolve(null));
this.loadingStarted = !0;
var t = new window.google.maps.places.PlacesService(this.map.Interface.map), i = this.handlePlacesLoaded.bind(this);
return _r_(this.loadPlaces(t, e).then(i, i));
},
isGoogleMapsReady:function() {
return _i_("269:65885884"), _r_(window.google && window.google.maps && window.google.maps.places && window.google.maps.LatLng);
},
getCoordinatesForPlaces:function() {
_i_("269:5c643cef");
var e = this.getCurrentProperty();
if (!e) return _r_(null);
return _r_(new window.google.maps.LatLng(e.b_latitude, e.b_longitude));
},
loadPlaces:function(e, t) {
return _i_("269:6b1e7aee"), _r_(n.all([ this.callPlacesApi(e, t, "supermarket"), this.callPlacesApi(e, t, "restaurant") ]).then(function(e) {
_i_("269:d90a5fab");
var t = this.removeHotels(e[0]).slice(0, 5), i = this.removeHotels(e[1]).slice(0, 5);
return _r_(t.concat(i));
}.bind(this)));
},
removeHotels:function(e) {
return _i_("269:5197502e"), _r_(e.filter(function(e) {
return _i_("269:e21af559"), _r_(-1 === e.types.indexOf("lodging"));
}));
},
callPlacesApi:function(e, t, i) {
return _i_("269:bfc44471"), _r_(new n(function(n, o) {
_i_("269:1edfeae9"), e.nearbySearch({
location:t,
type:[ i ],
rankBy:window.google.maps.places.RankBy.DISTANCE
}, function(e, t, i) {
_i_("269:4b272c78"), n(e && e.length && t === window.google.maps.places.PlacesServiceStatus.OK ? e :[]), _r_();
}), _r_();
}));
},
handlePlacesLoaded:function(t) {
if (_i_("269:4a6fa59c"), !t || !t.length) return _r_();
i.stage(e, 1), this.placeMarkers = this.convertPlacesToMarkers(t), this.placesZoomLevel = this.calculatePlacesZoomLevel(this.placeMarkers), _r_();
},
calculatePlacesZoomLevel:function(e) {
_i_("269:afb5f26c");
var t = new o();
e.forEach(function(e) {
_i_("269:df3710121"), t.extend([ e.b_latitude, e.b_longitude ]), _r_();
});
var i = this.getCurrentProperty();
i && t.extend([ i.b_latitude, i.b_longitude ]);
var n = {
width:this.$mapDomNode.width(),
height:this.$mapDomNode.height()
};
return _r_(l(t, n) - 1);
},
renderPlaces:function(t) {
if (_i_("269:4cd468c8"), this.placesRendered || B.atlas.getVariant(e) < 2) return _r_();
this.placesRendered = !0, this.map.addMarkers(t), _r_();
},
removePlaces:function(t) {
if (_i_("269:681ac8be"), !this.placesRendered || B.atlas.getVariant(e) < 2) return _r_();
this.placesRendered = !1, t.forEach(function(e) {
_i_("269:ffb7747d"), this.map.clearMarker(e.b_atlas_id), _r_();
}.bind(this)), _r_();
},
convertPlacesToMarkers:function(e) {
return _i_("269:800217b5"), _r_(e.reduce(function(e, t) {
_i_("269:77291f9d");
var i = this.getFirstKnownType(t.types);
if (!i) return _r_(e);
var n = a(i), o = Object.assign(t, {
b_id:t.id,
b_atlas_id:"atlas_" + t.id,
b_type:n,
b_basic_type:n,
b_name:t.name,
b_latitude:t.geometry.location.lat(),
b_longitude:t.geometry.location.lng(),
b_persistent:!0,
b_template:"atlas_overlay_marker_sr",
b_states:{
overlay:!0
}
});
return o = Object.assign(o, r.getMarkerDimension(o), {
zIndex:r.getZIndex(o)
}), e.push(o), _r_(e);
}.bind(this), []));
},
getFirstKnownType:function(e) {
_i_("269:a22323ac");
for (var t = 0; t < e.length; t++) {
var i = e[t];
if (-1 !== _.indexOf(i)) return _r_(i);
}
return _r_(null);
},
handleMarkerHover:function(t) {
_i_("269:f4486340"), -1 !== s.indexOf(t.data.b_type) && (i.customGoal(e, 1), this.openPlaceIW(t.data)), _r_();
},
openPlaceIW:function(e) {
_i_("269:cf43e53b"), this.map.openIW(e.b_atlas_id, {}, B.jstmpl("atlas_iw_nearby_place").render(e)), _r_();
}
});
}), _r_();
}), $(function() {
if (_i_("269:98a4e871"), !B.atlas) return _r_();
B.atlas.require([ "jQuery", "atlas", "atlas-common-overlay", "atlas-common-markers", "util-env", "pin-favicon" ], function(e, t, i, n, o, r) {
_i_("269:5ae0bbd8");
var _, a, s = [ "markers", "hover", "bounds", "markers-ajax", "iw", "iw-ajax", "atlas-common-icons", "overlay-markers-content", "center-on-resize", "atlas-style", "styles-cartography", "default-styles", "plot-markers-default", "price-overlay-markers-content", "template-helpers", "interface-bounds" ], l = {
domNode:e("#b_map_tiles"),
topOverlay:e("#b_map_container"),
scrollwheel:!1,
panControl:!1,
mapTypePosition:"TOP_CENTER",
zoomStyle:"SMALL",
zoomPosition:"RIGHT_BOTTOM",
fixedIw:o.get("isVillaSite") ? !1 :!0,
disperse:!0,
isTrackingGoals:!0,
preventIWCloseOnBoundsChange:!!B.atlas.getVariant("YdXfdKNKNKPZZPXCSFYSaET")
}, c = {
hotel:{
width:24,
height:32
},
hotel_active:{
width:24,
height:32
},
hotel_soldout:{
width:24,
height:32
},
hotel_current:{
width:28,
height:46
},
hotel_current_active:{
width:28,
height:46
},
landmark:{
width:19,
height:21
},
landmark_current:{
width:22,
height:36
},
city:{
width:19,
height:21
},
company_favorite:{
width:24,
height:32
},
company_favorite_current:{
width:28,
height:46
},
company_saved_address:{
width:24,
height:32
},
"default":{
width:22,
height:22
}
}, d = B.require("async-loader");
B.atlas.getVariant("ebccCcCcCDSSeCXeQUGIRKWe") && (c.top_landmark = {
width:22,
height:36
}), s.push("labels"), o.get("isCustomZoom") && s.push("zoom"), o.get("bbtool_fv") && s.push("map-legend"), s.push("polygons"), s.push("goals-with-values"), B.atlas.getVariant("ebccCcCcCDSJZRZEYRUC") && s.push("places");
var h = [ {
name:"atlas-components/toggle-reducer"
}, {
name:"atlas-components/surroundings-reducer"
}, {
name:"atlas-components/polygons-reducer"
} ];
B.atlas.getVariant("ebccCcCcCDSSeCXeQUGIRKWe") && h.push({
name:"atlas-components/landmarks-reducer"
});
var u = [];
function f(i) {
if (_i_("269:1bf8b9ed"), !i.domNode.length) return _r_(!1);
o.get("isCustomZoom") && (i.zoomControl = !1), _ = new t(!B.atlas.getVariant("ebccCcCcCDSScYMeCFC") && o.get("isProviderMapBox") ? {
reducers:h,
modules:s,
options:i,
markerProperties:c,
provider:"provider-leaflet"
} :B.atlas.getVariant("ebccCcCcCDSScYMeCFC") ? {
reducers:h,
modules:s,
options:i,
markerProperties:c,
provider:"provider-mapbox-gl"
} :{
reducers:h,
modules:s,
options:i,
markerProperties:c
}), _.set("id", "default"), o.get("debug") && console && (B.atlas.map = _, e(window).trigger("atlas-map-loaded", _));
var r = B.atlas.EXPERIMENTS;
r = r.concat(u), B.atlas.features = B.atlas.require("atlas-feature-loader").init(r, _, i), _.set("disperse", i.disperse), _.set("fixedIw", i.fixedIw), _.on("zoom", function(t) {
_i_("269:be808854"), l.topOverlay instanceof e && (l.topOverlay.attr("class").split(/\s+/).forEach(function(e) {
_i_("269:072e7894"), /^map-zoomlevel/.test(e) && l.topOverlay.removeClass(e), _r_();
}), l.topOverlay.addClass("map-zoomlevel-" + t)), _r_();
}), B.atlas.require([ "ufi-toggle-polygon" ], function(e) {
_i_("269:178e5173"), e.initialize({
map:_
}), _r_();
}), o.get("enableDistrictPolyFromSRLink") && B.atlas.require([ "current-district-polygon" ], function(e) {
_i_("269:681d0367"), e.init({
map:_
}), _r_();
}), B.atlas.require([ "google-analytics" ], function(e) {
_i_("269:4d5fc8f7"), e.trackMap(_), _r_();
}), _.once(_.EVENTS.LOAD, function() {
_i_("269:deb045c1"), B.et.goalWithValue("js_atlas_hp_zoomlevel_per_visitor", _.getZoom()), _r_();
}), _.done(function() {
_i_("269:b1a938fc");
function t() {
_i_("269:5a27e8a4"), l.topOverlay.find(".iw-control").loadComponents(), l.topOverlay.find(".iw-overlay").loadComponents(), _r_();
}
_.on("fixed-iw-open", t), _.on("iw-rendered", t), l.topOverlay instanceof e && l.topOverlay.addClass("map-zoomlevel-" + _.getZoom()), setTimeout(function() {
_i_("269:f63c0f56"), _.enableScrollwheel(), _r_();
}, 5e3), _.on("marker-click", function() {
_i_("269:fe4bd676"), _.once("click", function(e) {
_i_("269:19919074"), e && e.placeId && e.stop(), _r_();
}), _r_();
}), _.plotMarkers.manipulate.set("set-dom-markers", function(e, t) {
return _i_("269:bd427f2f"), e.forEach(function(e) {
_i_("269:15fce954"), e.b_states.overlay = !0, e.b_states.show_price = !0, e.b_template = "atlas_overlay_marker_sr", /^hotel/.test(e.b_type) ? e.b_behaviors["marker-effect-rain-start"] = !0 :e.dropAnimationDone = !0, _r_();
}), _r_(e);
}), _.on(_.EVENTS.MARKERS_RENDERED, function() {
_i_("269:798124ee");
var e = _.getActiveMarkers();
e.forEach(function(e, t) {
_i_("269:3ba52e5d"), /^hotel/.test(e.b_type) && (!function(e, t) {
if (_i_("269:2e16098b"), !e) return _r_();
var i = Math.floor(1e3 * Math.random());
window.setTimeout(function() {
_i_("269:05ccff31"), !e.dropAnimationDone && _.animateMarker && (_.animateMarker(e.b_atlas_id, "DROP"), e.dropAnimationDone = !0), _r_();
}, i), _r_();
}(_.getMarker(e.b_atlas_id), t), delete e.b_behaviors["marker-effect-rain-start"]), _r_();
}), _r_();
}), _.plotMarkers.add.set("poi-markers", function(e, t, i) {
return _i_("269:db4afb3d"), e = e.concat(i.b_top_city_landmarks || []), _r_(e);
}), o.get("hasValidDates") && B.atlas.require("hp_iw_free_cancellation_tooltip").init({
map:_
}), booking.browserStorageHandler && booking.browserStorageHandler.isLocalStorageSupported() && "1" === o.get("travelPurpose") && "1" == o.get("fe_bbtool_can_see_tool_promos") && B.atlas.require([ "bbtool-tip-block" ], function(e) {
_i_("269:08ce8107"), new e({
map:_,
topOverlay:i.topOverlay
}), _r_();
}), i.fixedIw && B.atlas.require([ "iw-control" ], function(e) {
_i_("269:fdace453");
var e = new e({
map:_,
topOverlay:i.topOverlay
});
_r_();
}), B.atlas.require([ "central-district-polygon" ], function(e) {
_i_("269:b3639910"), new e({
map:_
}), _r_();
}), o.get("isCustomZoom") && B.atlas.require([ "zoom-control" ], function(e) {
_i_("269:7b7c97c6"), new e({
map:_
}), _r_();
}), n.init(_), e(window).resize(function() {
_i_("269:f63e4575"), _.resizeCenter(), _r_();
}), _.trigger("ready-for-autoopen"), o.get("mapTrackKillSwitch") && B.atlas.require([ "map-track" ], function(e) {
_i_("269:6838d7c3");
var t = new e({
map:_
});
t.init(), _r_();
}), o.get("triggerAutoOpen") && _.trigger("auto-open-map"), _.initComponent("atlas-components/toggle", {
$placeholder:e("#js_maps_toggle_placeholder")
}), _.initComponent("atlas-components/surroundings", {
$placeholder:e("#js_maps_surroundings_placeholder")
}), _.initComponent("atlas-components/polygons"), _.initComponent("atlas-components/city-center-toggle"), B.atlas.getVariant("ebccCcCcCDSSeCXeQUGIRKWe") && _.initComponent("Atlas/ebccCcCcCDSSeCXeQUGIRKWe"), _r_();
}), l.topOverlay.delegate(".iw-overlay-hotel-current .js-map-hotel__link", "click", function(t) {
_i_("269:e363664f"), t.preventDefault(), location.hash = "map_closed", _.trigger("hp-current-iw-title-click", {
id:e(this).closest("[data-hotel-id]").attr("data-hotel-id")
}), _r_();
}), l.topOverlay.delegate(".iw-overlay-hotel-current .js-map-hotel__button", "click", function(t) {
_i_("269:4947c6ec"), t.preventDefault(), location.hash = "availability_target", _.trigger("hp-current-iw-button-click", {
id:e(this).closest("[data-hotel-id]").attr("data-hotel-id")
}), _r_();
}), _r_();
}
function p(e) {
_i_("269:1911be65"), _.resize(), _.set("centralPolygonCoords", e.centralPolygonCoords || ""), e.boundingBox ? _.setBoundingBox([ e.boundingBox.sw, e.boundingBox.ne ]) :(_.setCenter(e.center), _.setZoom(e.zoom)), _r_();
}
i.on("open", function(t) {
_i_("269:00986fea"), B.atlas.require([ "ufi-toggle-polygon" ], function(e) {
_i_("269:ccac7adc"), e.updateState(t), _r_();
}), _ ? (_.done(function() {
_i_("269:94179189"), p(e.extend(l, t)), _r_();
}), _.trigger("open")) :B.atlas.getVariant("ebccCcCcCDSDNQUVUWZTNWfKe") ? a || (a = d.load({
css:"async_atlas_css"
}).then(function() {
_i_("269:03b9c501"), f(e.extend(l, t)), _ && _.trigger("open"), _r_();
})) :(f(e.extend(l, t)), _ && _.trigger("open")), _r_();
}), i.on("close", function() {
_i_("269:6269b2db"), _ && _.trigger("close"), _r_();
}), o.get("hasMapFavicon") && (i.on("open", function() {
_i_("269:d66e32c9"), r.addPin(), _r_();
}), i.on("close", function() {
_i_("269:bff12bfe"), r.removePin(), _r_();
})), i.addEvents(), B.atlas.require([ "google-analytics" ], function(e) {
_i_("269:12cb44d8"), e.trackPage(i), _r_();
}), _r_();
}), _r_();
}), B.when({
events:"ready"
}).require([ "jquery" ], function(e) {
_i_("269:1b2e38a2"), e(".hp_address_subtitle").bind("click dblclick", function() {
_i_("269:7a6c01ff");
var t = e(this), i = t.text(), n = e("<input type=text readonly>").width(t.width());
n.attr("value", i), n.insertAfter(t), n.focus().select(), t.hide(), n.bind("focusout", function() {
_i_("269:ca080a2e"), t.show(), n.remove(), _r_();
}), _r_();
}), _r_();
}), B.define("dismiss-item", function(e, t, i) {
_i_("269:4fa1a5b8");
var n = e("jquery");
i.exports = function(e) {
if (_i_("269:ffcf03b7"), !e) throw new Error("param itemId is required");
return _r_(n.ajax({
url:"/dismiss_item",
type:"POST",
data:{
item_id:e
}
}));
}, _r_();
}), B.define("component/dismissible-item/block", function(e, t, i) {
_i_("269:c037f4fa");
var n = e("component"), o = e("dismiss-item"), r = e("read-data-options");
i.exports = n.extend({
init:function() {
_i_("269:60262eac"), this.options = r(this.$el, {
itemId:{
name:"item-id",
type:String,
required:!0
}
}), this._bindEvents(), _r_();
},
_bindEvents:function() {
_i_("269:90d23a28"), this.$el.on("click", ".js-close", function() {
_i_("269:b78bae42"), this._dismissItem(), this.hide(), _r_();
}.bind(this)), _r_();
},
_dismissItem:function() {
return _i_("269:40f33ccd"), _r_(o(this.options.itemId));
},
hide:function() {
_i_("269:9a2d9335"), this.$el.hide(), _r_();
}
}), _r_();
}), B.define("component/dismissible-item/on-init", function(e, t, i) {
_i_("269:8d48d686");
var n = e("component"), o = e("dismiss-item"), r = e("read-data-options");
i.exports = n.extend({
init:function() {
return _i_("269:16676dbf"), this.options = r(this.$el, {
itemId:{
name:"item-id",
type:String,
required:!0
}
}), _r_(o(this.options.itemId));
}
}), _r_();
}), booking.jstmpl("lists_share_template", function() {
_i_("269:4ff53ab4");
var e = [ "\n    ", " padding: 5px; color: #1d3386; font-size: 12px; ", "\n\n", " width: 100%; font-size: 13px; padding: 4px; ", '\n\n<div style="', '">\n    <p>\n        ', "/private/share_list_with_friend_3/name", '\n    </p>\n    <p>\n        <input\n            class="js-lists-share-input"\n            style="', '"\n            readonly\n            type="text"\n            value="', '">\n    </p>\n</div>\n', "\n" ], t = [ "lists_share_appearance", "lists_share_input_appearance", "sharing_url" ];
return _r_(function(i) {
_i_("269:f3d6fcd5");
var n = "", o = this.fn;
function r(i) {
_i_("269:51b9b038");
var n = "";
n += e[1], o.MN(t[0], n), i += e[2];
var n = "";
return n += e[3], o.MN(t[1], n), i += [ e[4], o.MB(t[0]), e[5], o.ME(e[6], o.MB, o.MN, null), e[7], o.MB(t[1]), e[8], o.MB(t[2]), e[9] ].join(""), _r_(i);
}
return n += e[0], n = r(n), n += e[10], _r_(n);
});
}()), booking.jstmpl("price_watch_example_email", function() {
_i_("269:024e6da9");
var e = [ '\n    <div class="price-watch-example">\n        <div class="price-watch-example__text">', '</div>\n        <img class="price-watch-example__image" src="', '">\n    </div>\n' ], t = [ "annotrans_price_watch_example_1" ];
return _r_(function(i) {
_i_("269:b5e842a1");
var n = "", o = this.fn;
return n += [ e[0], o.MB(t[0]), e[1], o.STATIC_HOSTNAME("/static/img/pricewatch/price-watch-sample.jpg", 0, 0, 0), e[2] ].join(""), _r_(n);
});
}()), booking.jstmpl("price_watch_banner", function() {
_i_("269:003c616c");
var e, t = [ "\n    ", '<div class="price-watch-banner">\n	<span class="pw-icon"></span>\n	<div class="pw-inner">\n	', '\n		<button class="b-button b-button_primary pw-stop-button" type="button">', '</button>\n		<strong class="pw-title">', '</strong>\n		<p class="pw-text">', "</p>\n	", '\n		<button\n			class="', "b-button b-button_primary pw-start-button ", "pw-banner-start-button", '"\n			type="button"\n		>', "</a>", '<a class="pw-link" href=#>', "\n	</div>\n</div>\n", "\n" ], i = [ "deals_price_watch9", "deals_price_watch_1", "deals_price_watch_2", "watching", "b_include_dropdown", "deals_price_watch6", "deals_price_watch1", "deals_price_watch7" ];
return _r_(function(n) {
_i_("269:81b3c087");
var o = "", r = this.fn;
function _(o) {
return _i_("269:b2ba87ba"), o += t[1], r.MD(i[3]) ? o += [ t[2], r.MB(i[0]), t[3], r.MB(i[1]), t[4], r.MB(i[2]), t[5] ].join("") :(o += t[6], o += t[7], r.MD(i[4]) && (o += t[8]), o += [ t[9], r.MB(i[5]), t[3], r.MB(i[6]), t[4], (n.unshift({
end_link:t[10],
start_link:t[11]
}), e = r.MB(i[7]), n.shift(), e), t[5] ].join("")), o += t[12], _r_(o);
}
return o += t[0], o = _(o), o += t[13], _r_(o);
});
}()), booking.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2", function() {
_i_("269:4c6b5d3e");
var e, t = [ "\n    <div class='big_tooltip_x'>\n        <h1>", "</h1>\n        ", "\n            <p>\n                <strong>\n                    ", "\n                        ", ", ", "\n                    ", "\n                </strong>\n                <br />\n            </p>\n        ", "\n        <hr/>\n\n        <p>\n            <strong>", "/private/bp_dates_num_nights_1/name", "</strong><br />\n        </p>\n        <p>\n            ", "/private/check_in/name", ": </span>", "\n        </p>\n        <p>\n            ", "/private/check_out/name", "\n        </p>\n\n    </div>\n\n    <div class='big_tooltip_message'>\n        ", "\n            ", "/private/ge_boost_hp_rt_reserve_button_hover_nongenius/name", "\n        ", "/private/hp_rt_reserve_hover_no_account_2_minutes/name", "\n    </div>\n\n    ", '\n            <div class="big_tooltip_message big_tooltip_message__green pay_later">\n                ', "/private/hp_rt_pay_at_property/name", "\n            </div>\n        ", "\n    ", "\n\n" ], i = [ "b_hotel_name", "b_room_details", "b_room_name", "b_interval", "b_checkin_localized_date_with_weekday", "b_checkout_localized_date_with_weekday", "b_user_auth_level_is_low_or_high", "b_all_rooms_have_pay_later", "b_is_lightbox" ];
return _r_(function(n) {
_i_("269:ea7d2db4");
var o = "", r = this.fn;
if (o += [ t[0], r.F.html(r.MC(i[0])), t[1] ].join(""), r.MD(i[1])) {
o += t[2];
var _ = r.MC(i[1]) || [];
n.unshift(null);
for (var a = 1, s = _.length; s >= a; a++) n[0] = _[a - 1], o += [ t[3], r.F.html(r.MC(i[2])) ].join(""), r.MJ(a == _.length) || (o += t[4]), o += t[5];
n.shift(), o += t[6];
}
return o += [ t[7], (n.unshift({
num_nights:r.MC(i[3])
}), e = r.ME(t[8], r.MB, r.MN, r.MO(r.MC(i[3]), null, t[8])), n.shift(), e), t[9], r.ME(t[10], r.MB, r.MN, null), t[11], r.MC(i[4]), t[12], r.ME(t[13], r.MB, r.MN, null), t[11], r.MC(i[5]), t[14] ].join(""), o += r.MD(i[6]) ? [ t[15], r.ME(t[16], r.MB, r.MN, null), t[17] ].join("") :[ t[15], r.ME(t[18], r.MB, r.MN, null), t[17] ].join(""), o += t[19], r.MK(r.MC(i[8])) && (o += t[17], r.MD(i[7]) && (o += [ t[20], r.ME(t[21], r.MB, r.MN, null), t[22] ].join("")), o += t[23]), o += t[24], _r_(o);
});
}()), booking.jstmpl("cheapest_banner_block", function() {
_i_("269:2391b89d");
var e, t = [ '\n    <tr id=\'cheapestBanner\' class="blockBanner" data-cheapest-room-id="', '" data-cheapest-block-id="', "\">\n        <td\n            colspan=\"4\"\n            class='cheapest_banner'>\n            <div class='cheapest_banner_content'>\n            <i class='bicon-pricetag'></i>\n            <span>\n                ", "/private/hp_rt_jackpot_cheapest_youve_seen_city/name", "</b>", "<b>", "\n                <br><br>\n                <b>\n                    ", "     ", "   ", "\n                    ", "    ", "  ", "\n\n                    ", "/private/hp_best_priced_your_search_v2_jackpot_dates/name", "\n                </b>\n            </span>\n            </div>\n        </td>\n    </tr>\n" ], i = [ "room_id", "block_id", "in_city_name", "fe_localized_checkin_date", "checkin_date", "fe_localized_checkout_date", "checkout_date", "num_nights" ];
return _r_(function(n) {
_i_("269:00ed6e12");
var o = "", r = this.fn;
return o += [ t[0], r.MC(i[0]), t[1], r.MC(i[1]), t[2], (n.unshift({
end_bold:t[4],
in_city_name:r.MB(i[2]),
start_bold:t[5]
}), e = r.ME(t[3], r.MB, r.MN, null), n.shift(), e), t[6] ].join(""), r.MN(i[3], [ t[7], r.DATE(r.MB(i[4]), "short_date_with_weekday_without_year", "", "", ""), t[8] ].join("")), o += t[9], r.MN(i[5], [ t[10], r.DATE(r.MB(i[6]), "short_date_with_weekday_without_year", "", "", ""), t[11] ].join("")), o += [ t[12], (n.unshift({
date_with_short_weekday_without_year:r.MB(i[3]),
date_with_short_weekday_without_year_1:r.MB(i[5]),
num_nights:r.MB(i[7])
}), e = r.ME(t[13], r.MB, r.MN, r.MO(r.MC(i[7]), null, t[13])), n.shift(), e), t[14] ].join(""), _r_(o);
});
}()), booking.jstmpl("hp_book_now_summary", function() {
_i_("269:246d1044");
var e, t = [ "/private/{summary_copy}/name", "\n" ], i = [ "fe_accommodation_type", "fe_num", "fe_price" ];
return _r_(function(n) {
_i_("269:2d571023");
var o = "", r = this.fn;
return r.MJ(201 == r.MB(i[0])) ? r.MN("summary_copy", "gsb_hp_book_now_cta_apartments") :r.MJ(220 == r.MB(i[0])) ? r.MN("summary_copy", "gsb_hp_book_now_cta_holiday") :r.MJ(213 == r.MB(i[0])) ? r.MN("summary_copy", "gsb_hp_book_now_cta_villa") :r.MJ(228 == r.MB(i[0])) ? r.MN("summary_copy", "gsb_hp_book_now_cta_chalet") :r.MN("summary_copy", "gsb_hp_book_now_cta_room"), o += [ (n.unshift({
group_recommendation_price:r.MB(i[2]),
num:r.MB(i[1])
}), e = r.ME(t[0], r.MB, r.MN, r.MO(r.MC(i[1]), null, t[0])), n.shift(), e), t[1] ].join(""), _r_(o);
});
}()), booking.jstmpl("template_gallery_new_photo", function() {
_i_("269:bee9dd28");
var e = [ "\n    ", "\n        ", "/private/prc_pg_new_photo/name", "/private/prc_pg_recent_photo/name", "\n" ], t = [ "isNew" ];
return _r_(function(i) {
_i_("269:3cf270a5");
var n = "", o = this.fn;
return n += e[0], n += o.MD(t[0]) ? [ e[1], o.ME(e[2], o.MB, o.MN, null), e[0] ].join("") :[ e[1], o.ME(e[3], o.MB, o.MN, null), e[0] ].join(""), n += e[4], _r_(n);
});
}()), booking.jstmpl("template_gallery_new_photo_modal", function() {
_i_("269:9023a643");
var e = [ '\n    <div class="bh-photo-modal-recent__body js-img-width">\n        <span class="bh-photo-modal-recent__badge">\n            ', "\n                ", "/private/prc_pg_new_photo/name", "\n            ", "/private/prc_pg_recent_photo/name", "\n        </span>\n    </div>\n" ], t = [ "isNew" ];
return _r_(function(i) {
_i_("269:c372a28d");
var n = "", o = this.fn;
return n += e[0], n += o.MD(t[0]) ? [ e[1], o.ME(e[2], o.MB, o.MN, null), e[3] ].join("") :[ e[1], o.ME(e[4], o.MB, o.MN, null), e[3] ].join(""), n += e[5], _r_(n);
});
}()), function() {
_i_("269:bf09bd0e");
var e = window.booking, t = e.require("jquery"), i = e.require("ga-tracker"), n = "Price Alert: ", o = function() {};
try {
"object" == typeof localStorage && localStorage["debug:price_watch"] && (o = function() {
_i_("269:cc729c36"), console.log.apply(console, arguments), _r_();
});
} catch (r) {}
function _() {
_i_("269:658c4078"), this.watching = booking.env.b_price_alert_exists, booking.events.Emitter.extend(this), _r_();
}
_.prototype.data = function() {
return _i_("269:26601856"), _r_({
checkin:booking.env.b_checkin_date,
checkout:booking.env.b_checkout_date,
currency:booking.env.b_selected_currency || booking.env.b_hotel_currencycode,
hotel_id:booking.env.b_hotel_id,
language:booking.env.b_lang,
adults:booking.env.b_occupancy.adults,
children:booking.env.b_occupancy.children,
rooms:booking.env.priceWatch.b_price_alert_rooms,
price:booking.env.priceWatch.b_price_alert_price
});
}, _.prototype.params = function(e) {
return _i_("269:240cc19b"), _r_(t.extend({
aid:booking.env.b_aid,
sid:booking.env.b_sid,
stype:booking.env.b_site_type_id,
lang:booking.env.b_lang_for_url
}, e));
}, _.prototype.watchNotify = function() {
_i_("269:de49396e");
var e = window.location.search;
if (!this.watching || e.indexOf("auth_success=1") < 0 && e.indexOf("account_created=1") < 0) return _r_();
try {
o("Checking delayed price watch");
var i = localStorage.getItem("price_watch_after_login");
localStorage.removeItem("price_watch_after_login"), i && (o("Triggering delayed price watch"), setTimeout(function() {
_i_("269:280f1845"), booking.lightbox.show(t(".js-price-watch-unsubscribe--watch"), {
customWrapperClassName:"price-watch-unsubscribe-wrapper"
}), _r_();
}, 0));
} catch (n) {}
_r_();
}, _.prototype.subscribe = function(e) {
_i_("269:7b401154");
var i = this, n = this.data();
o("Subscribing", n), t.post("/pricealerts/subscribe", this.params(n), function(t) {
if (_i_("269:e85ac940"), "success" == t.status || "already_subscribed" == t.reason) i.watching = !0, i.emit("change"), o("Subscribe successful", t); else {
if ("failed" != t.status) throw new Error("Price alert subscribe failed - " + [ t.param, t.reason ].join(" "));
i.emit("error", t), t.reason && i.emit("error:" + t.reason), o("Subscribe failed", t);
}
"function" == typeof e && e(t), _r_();
}), _r_();
}, _.prototype.unsubscribe = function(e) {
_i_("269:1c3d123c");
var i = this, n = {
checkin:booking.env.b_checkin_date,
checkout:booking.env.b_checkout_date,
hotel_id:booking.env.b_hotel_id
};
o("Unsubscribing", n), t.post("/pricealerts/unsubscribe", this.params(n), function(t) {
if (_i_("269:ddc40f53"), "success" == t.status) i.watching = !1, i.emit("change"), o("Unsubscribe successful", t); else {
if ("failed" != t.status) throw new Error("Price alert unsubscribe failed - " + [ t.param, t.reason ]);
i.emit("error", t), t.reason && i.emit("error:" + t.reason), o("Unsubscribe failed", t);
}
"function" == typeof e && e(t), _r_();
}), _r_();
};
function a() {
_i_("269:039c3eee");
var e = t.fly.dropdown.extend({
defaults:{
extraClass:"ge-price-watch",
position:booking.env.rtl ? "bottom left" :"bottom right",
content:function() {
return _i_("269:47ad655a"), _r_(this.template.render(this.data()));
}
},
init:function() {
_i_("269:32aa37b5"), this.template = booking.jstmpl("price_watch_dropdown"), _r_();
},
data:function() {
return _i_("269:53dc7a9f"), booking.env.priceWatch.watching = booking.hotel.priceWatch.watching, _r_(booking.env.priceWatch);
},
onrootready:function() {
_i_("269:9cbdb0cd");
var e = this, t = this.root();
this.bind(this.events.show, function() {
_i_("269:8880bd5c"), i.trackEvent(i.clickTracker, n + "Show dropdown"), _r_();
}), booking.hotel.priceWatch.on("change", this.update, this), booking.hotel.priceWatch.on("error:not_logged_in", this.hide, this), booking.hotel.priceWatch.on("error:too_many_alerts", function() {
_i_("269:95aad998"), e.error("too-many-alerts"), _r_();
}), booking.hotel.priceWatch.on("error", function() {
_i_("269:c293d47e"), e.loading(!1), _r_();
}), t.delegate(".pw-start-button", "click", function(t) {
if (_i_("269:8e8a5679"), /loading/.test(t.target.className)) return _r_();
e.loading(), e.error(!1), i.trackEvent(i.clickTracker, n + "Subscribe", "dropdown"), booking.hotel.priceWatch.subscribe(), t.preventDefault(), _r_();
}), t.delegate(".pw-stop-button", "click", function(t) {
if (_i_("269:b35cc6c7"), /loading/.test(t.target.className)) return _r_();
e.loading(), e.error(!1), i.trackEvent(i.clickTracker, n + "Unsubscribe", "dropdown"), booking.hotel.priceWatch.unsubscribe(), t.preventDefault(), _r_();
}), t.delegate(".pw-sample-link", "click", function(e) {
_i_("269:d2b6ba6c"), e.preventDefault(), i.trackEvent(i.clickTracker, n + "Example");
var t = booking.jstmpl("price_watch_example_email").render();
booking.lightbox.show(t), _r_();
}), t.bind("click", function(e) {
_i_("269:fde28c82"), e.stopPropagation(), _r_();
}), _r_();
},
error:function(e) {
_i_("269:bedc02fe"), this.root().find(".js-alert").hide(), e && this.root().find(".js-alert--" + e).show(), _r_();
},
update:function() {
_i_("269:7c98c3d9");
var e = booking.hotel.priceWatch.watching;
o("Updating dropdown", e), this.redraw();
var t = this.handle().find(".js-price-watch-icon");
t.toggleClass("ge_price_watch_icon_small_selected", e), t.toggleClass("ge_price_watch_icon_small", !e), _r_();
},
loading:function(e) {
_i_("269:36279af4"), e = arguments.length ? e :!0, this.root().find(".b-button_primary").toggleClass("loading", e), _r_();
}
});
return _r_(e);
}
function s() {
_i_("269:ea826584");
var e = {
root:t(".price-watch-banner-container"),
template:booking.jstmpl("price_watch_banner"),
init:function() {
return _i_("269:7444c685"), this.events(), _r_(this);
},
update:function() {
_i_("269:c67e6d66"), this.root.html(this.template.render({
watching:booking.hotel.priceWatch.watching
})), _r_();
},
loading:function() {
_i_("269:ae2da327"), this.root.find(".b-button_primary").addClass("loading"), _r_();
},
events:function() {
_i_("269:1e25beff");
var e = this;
this.root.delegate(".pw-start-button, .pw-link", "click", function(t) {
if (_i_("269:32ff6f4d"), /loading/.test(t.target.className)) return _r_();
e.loading(), i.trackEvent(i.clickTracker, n + "Subscribe", "banner"), booking.hotel.priceWatch.subscribe(), t.preventDefault(), _r_();
}), this.root.delegate(".pw-stop-button", "click", function(t) {
if (_i_("269:e4460abd"), /loading/.test(t.target.className)) return _r_();
e.loading(), i.trackEvent(i.clickTracker, n + "Unsubscribe", "banner"), booking.hotel.priceWatch.unsubscribe(), t.preventDefault(), _r_();
}), booking.hotel.priceWatch.on("change", this.update, this), _r_();
}
};
return _r_(e);
}
function l() {
_i_("269:5e138dda"), i.trackEvent(i.clickTracker, n + "Signin form");
var e;
if (e = t(".js-user-access-menu-lightbox .user_access_form"), booking.command("show-auth-lightbox").run({
titleSignin:booking.env.priceWatch.b_signin_header
}), e.each(function(e, i) {
_i_("269:2188c55f");
var n = t.extend({}, booking.hotel.priceWatch.data(), {
for_price_alert:1
}), o = [];
t.each(n, function(e, t) {
_i_("269:40c9f1b9"), o.push('<input type="hidden" name="price_alert_' + e + '" value="' + t + '">'), _r_();
}), t(i).append(o.join("")), _r_();
}), booking.hotel.priceWatch.watching === !1) try {
localStorage.setItem("price_watch_after_login", 1), o("Setting delayed price watch");
} catch (r) {}
_r_();
}
e.when({
events:"ready"
}).run(function(e) {
_i_("269:19d26725"), booking.hotel.priceWatch = new _(), booking.hotel.priceWatch.watchNotify(), booking.hotel.priceWatch.on("error:not_logged_in", l);
var i = a(), n = s();
i.create(".js-price-watch-dropdown-handle"), n.init(), booking.env.priceWatch && booking.env.priceWatch.b_price_alert_canceled && booking.lightbox.show(t(".js-price-watch-unsubscribe--one"), {
customWrapperClassName:"price-watch-unsubscribe-wrapper"
}), o(booking.hotel.priceWatch), _r_();
}), _r_();
}(), B.define("read-data-options", function(e, t, i) {
_i_("269:b2e7a21d1"), i.exports = function(e, t) {
_i_("269:9b133c1b1");
var i = {};
return e.jquery && (e = e[0]), Object.keys(t).forEach(function(n) {
_i_("269:dcce88771");
var o = t[n], r = "data-" + n, _ = null;
if ("function" == typeof o && (o = {
type:o
}), "string" == typeof o.name && (r = "data-" + o.name), !e.attributes[r]) {
if (o.hasOwnProperty("defaultValue")) i[n] = o.defaultValue; else if (o.hasOwnProperty("required")) throw new Error("read-data-options: missing required " + r + " attribute");
return _r_();
}
var _ = e.getAttribute(r);
if (o.type === Boolean) _ = !/^0|false|no|off$/.test(_); else if (o.type === String) _ = _ || o.defaultValue; else {
if (o.type !== Number) throw new Error("data-options: Invalid option type for " + n);
_ = parseFloat(_, 10), isNaN(_) && (_ = o.defaultValue);
}
i[n] = _, _r_();
}), _r_(i);
}, _r_();
}), B.define("component/core/lightbox/trigger", function(e, t, i) {
_i_("269:de9857ab1");
var n = e("read-data-options"), o = e("lightbox");
i.exports = e("component").extend({
init:function() {
_i_("269:457b66e11");
var e = this.$el.data("event") || "click";
this.options = n(this.el, {
bCloseButton:{
name:"close-button",
type:Boolean
},
bCanScroll:{
name:"scrollable",
type:Boolean
},
bOverflowVisible:{
name:"overflow-visible",
type:Boolean
},
autoWidth:{
name:"auto-width",
type:Boolean
},
ajax:{
name:"ajax",
type:Boolean
},
iframe:{
name:"iframe",
type:Boolean
},
customWrapperClassName:{
name:"wrapper-class",
type:String
},
customMaskClassName:{
name:"mask-class",
type:String
},
bMaskClick:{
name:"mask-click",
type:Boolean
},
trigger:{
name:"trigger",
type:String
},
position:{
name:"position",
type:String
},
autoCenter:{
name:"auto-center",
type:Boolean
},
limitHeight:{
name:"limit-height",
type:Boolean
},
cloneElement:{
name:"clone-element",
type:Boolean
},
trapFocus:{
name:"trap-focus",
type:Boolean
},
modalLabeledById:{
name:"modal-labeled-by-id",
type:String
},
bAnimation:{
name:"animation",
type:Number
},
addDialogStartEndText:{
name:"add-dialog-start-end-text",
type:Boolean
}
}), "page-load" === e ? (this.target = this.$el, $(document).ready(function() {
_i_("269:9500b6271"), setTimeout(this.open.bind(this), 150), _r_();
}.bind(this))) :(this.target = this.$el.attr("href") || this.$el.data("src") || this.target, this.$el.bind(e, this.open.bind(this))), _r_();
},
open:function(e) {
_i_("269:b08828d61"), e && e.preventDefault && e.preventDefault(), o.show(this.target, this.options), this.options.trigger && B.events.trigger(this.options.trigger, e, this.target), _r_();
}
}), _r_();
}), function(e) {
_i_("269:24b489d8"), e.define("hotel/rooms-table/filter-core", function(t, i) {
_i_("269:84e79ff2");
var n = t("jquery");
i.match = o, i.apply = c, i.filterTypes = {
or:d,
and:h,
radio:d
}, i.filters = {
occupancy:u,
breakfast:f,
cancellation:p,
meal:b,
any:function() {
return _i_("269:35796939"), _r_(!0);
}
};
function o(e, t) {
return _i_("269:2c742877"), _r_(e.reduce(function(e, i) {
_i_("269:3d105e08");
var o = n(i), r = t(o) ? "success" :"fail";
return e[r].push(o), _r_(e);
}, {
success:[],
fail:[]
}));
}
function r(e, t) {
_i_("269:9a826dc5"), Object.keys(e).forEach(function(i) {
_i_("269:d4d76915"), e[i].forEach(function(e) {
_i_("269:c5a25de1"), t ? _(e) :a(e), _r_();
}), _r_();
}), _r_();
}
function _(e) {
_i_("269:a9f9fa03"), e.removeClass("roomRateSingle room-rate__disabled"), _r_();
}
function a(t) {
_i_("269:853427b6"), t.addClass("room-rate__disabled"), "msie" === e.env.b_browser && t.addClass("roomRateSingle"), _r_();
}
function s(e) {
return _i_("269:4d7fe457"), _r_(e.reduce(function(e, t) {
_i_("269:6b8b625a");
var i = t.attr("data-room-id");
return e.rooms[i] || e.order.push(i), e.rooms[i] = e.rooms[i] || [], e.rooms[i].push(t), _r_(e);
}, {
rooms:{},
order:[]
}));
}
var l;
function c(e, t) {
_i_("269:ae827b9a");
var i = s(e.success), n = s(e.fail), o = !e.fail.length && e.success.length;
!l && o && (l = i.order[0]), r(i.rooms, !0), r(n.rooms, !1), e.fail.length && i.order.forEach(function(e) {
_i_("269:f6ef044f"), i.rooms[e] = i.rooms[e].sort(function(e, t) {
_i_("269:6440f40b");
var i = parseFloat(e.data("ratePrice")), n = parseFloat(t.data("ratePrice"));
return _r_(i - n);
}), _r_();
}), _r_();
}
function d() {
_i_("269:6cb40e6a");
var e = Array.prototype.slice.call(arguments);
return _r_(function(t) {
return _i_("269:c99b6ef8"), _r_(e.reduce(function(e, i) {
return _i_("269:1dd4fde3"), _r_(e || i(t));
}, !1));
});
}
function h() {
_i_("269:aa26d5b9");
var e = Array.prototype.slice.call(arguments);
return _r_(function(t) {
return _i_("269:f3ecfe50"), _r_(e.reduce(function(e, i) {
return _i_("269:c8455974"), _r_(e && i(t));
}, !0));
});
}
function u(e, t) {
if (_i_("269:c63d0322"), e && e.filterValue) return _r_(t.data("occupancy") === e.filterValue);
throw "`filterValue` must be provided";
}
function f(e, t) {
if (_i_("269:22a88b28"), e) {
var i = t.is("[data-filter-breakfast-included=1]");
if (e.filterValue) return _r_(i);
return _r_(!i);
}
_r_();
}
function p(e, t) {
if (_i_("269:0ba377a0"), e && e.filterValue) return _r_(t.data("filterCancellation") === e.filterValue);
_r_();
}
function b(e, t) {
if (_i_("269:05883498"), e && e.filterValue) return _r_(t.data("filterMealIncluded") === e.filterValue);
_r_();
}
_r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:2bae377a"), e.define("component/hotel/rooms-table/filter-ui", function(t, i, n) {
_i_("269:4d649931");
var o = t("jquery"), r = t("component"), _ = t("hotel/rooms-table/filter-core"), a = t("jstmpl"), s = t("events");
n.exports = r.extend({
setupComponent:l,
setupFilters:c,
applyFilter:h,
setupEventHandlers:u,
updateUI:b,
events:{
filterApplied:e.hotel.Events.RT.FILTER_APPLIED,
filterMatched:e.hotel.Events.RT.FILTER_MATCHED
},
filterTypes:{
radio:p,
and:f,
or:f
},
init:function() {
_i_("269:f40b0527"), this.setupComponent(), this.setupFilters(), this.applyFilter(), this.setupEventHandlers(), _r_();
}
});
function l() {
_i_("269:2149d8cd");
var e = this.$el, t = e.data();
Object.assign(t, {
filterType:"and"
}), this.config = t, this.$filterCount = e.find(".js-rt-filter-count"), this.filters = {}, this.items = o(t.items).toArray(), _r_();
}
function c() {
_i_("269:dd839772");
var e = this.$el, t = this.filters;
e.find("[data-filter]").each(function() {
_i_("269:33b4f53d");
var e = o(this), i = e.attr("data-filter"), n = e.attr("data-filter-type") || "radio", r = t[i] = t[i] || {};
r.config = r.config || {}, r.values = r.values || {}, r.config.filterType = n, e.find("[data-filter-value]").each(function() {
_i_("269:fc28bc8a");
var e = o(this), t = e.attr("data-filter-value"), i = e.data();
r.values[t] = r.values[t] || {}, Object.assign(r.values[t], {
filterState:"off"
}, i), _r_();
}), _r_();
}), _r_();
}
function d(e, t) {
_i_("269:bd669c34");
var e = Object.keys(e).reduce(function(t, i) {
_i_("269:59918d81");
var n = e[i], o = Object.keys(n.values).filter(function(e) {
return _i_("269:eac31ff5"), _r_("on" === n.values[e].filterState);
}).map(function(e) {
return _i_("269:c332e151"), _r_(_.filters[i].bind(null, n.values[e]));
});
return o.length > 0 && t.push(_.filterTypes[n.config.filterType].apply(null, o)), _r_(t);
}, []);
return _r_(e.length ? _.filterTypes[t].apply(null, e) :_.filters.any);
}
function h() {
_i_("269:2adf7cdc");
var e = d(this.filters, this.config.filterType), t = this.match = _.match(this.items, e);
s.emit(this.events.filterMatched, t), _.apply(t, this.items), s.emit(this.events.filterApplied, this.filters), _r_();
}
function u() {
_i_("269:a23ac97e");
var e = this.$el, t = this;
e.on("click", "[data-filter-value]", function(e) {
_i_("269:491fd748"), e.preventDefault();
var i = o(this), n = i.closest("[data-filter]"), r = n.attr("data-filter"), _ = t.filters[r], a = _.config.filterType, s = i.attr("data-filter-value"), l = t.filterTypes[a] || t.filterType[f];
l.call(t, _, s) && (t.applyFilter(), t.updateUI()), _r_();
}), _r_();
}
function f(e, t) {
_i_("269:02afc811");
var i = e.values[t].filterState;
if ("disabled" === i) return _r_();
return "off" === i ? e.values[t].filterState = "on" :"on" === i && (e.values[t].filterState = "off"), _r_(!0);
}
function p(e, t) {
_i_("269:5409976c");
var i = e.values[t], n = i.filterState;
if ("disabled" === n) return _r_();
return "off" === n ? Object.keys(e.values).forEach(function(i) {
_i_("269:9986704f"), "disabled" !== e.values[i].filterState && (e.values[i].filterState = i === t ? "on" :"off"), _r_();
}) :"on" === n && Object.keys(e.values).forEach(function(t) {
_i_("269:69b4ec66"), "disabled" !== e.values[t].filterState && (e.values[t].filterState = "off"), _r_();
}), _r_(!0);
}
function b() {
_i_("269:05b52a3c");
var e = this.$el, t = this.filters, i = this, n = this.match.success.length;
this.$filterCount.html(a.translations("hp_rt_filters_header", n, {
num_rates:n
})), e.find("[data-filter]").each(function() {
_i_("269:b8703c8f");
var e = o(this), n = e.attr("data-filter"), r = t[n], a = r.config.filterType;
e.find("[data-filter-value]").each(function() {
_i_("269:54d5b31a");
var e = o(this), s = e.attr("data-filter-value"), l = r.values[s], c = l.filterState;
if ("on" !== c) {
var h = o.extend(!0, {}, t), u = o.extend(!0, {}, r);
u.values[s].filterState = "off", i.filterTypes[a].call(i, u, s), h[n] = u;
var f = d(h, i.config.filterType), p = _.match(i.items, f);
l.filterState = p.success.length ? "off" :"disabled";
}
e.attr("data-filter-state", l.filterState), _r_();
}), _r_();
}), _r_();
}
_r_();
}), _r_();
}(window.booking), B.define("utils/deepequal", function(e, t, i) {
_i_("269:2885b5f1");
function n(e, t, i) {
if (_i_("269:b8431e73"), typeof e != typeof t) return _r_(!1);
var o;
for (o in t) {
if (!t.hasOwnProperty(o)) continue;
if (!e.hasOwnProperty(o)) return _r_(!1);
if ("object" == typeof e[o]) {
if (!n(e[o], t[o], i)) return _r_(!1);
continue;
}
if (i) {
if (e[o] != t[o]) return _r_(!1);
} else if (e[o] !== t[o]) return _r_(!1);
}
for (o in e) {
if (!e.hasOwnProperty(o)) continue;
if (!t.hasOwnProperty(o)) return _r_(!1);
}
return _r_(!0);
}
i.exports = n, _r_();
}), function(e) {
_i_("269:cdeb2a12"), e.define("component/feedback-base", function(i, n, o) {
_i_("269:09cb4987");
var r = i("component"), _ = i("jquery"), a = i("events"), s = {
StorageService:t,
submitModel:function(e, t) {
_i_("269:f2ba0307");
var i = _.ajax({
url:e,
method:"POST",
data:t
});
return _r_(i);
},
setObjectPath:function(e, t, i) {
_i_("269:a9d8ca6a");
var n = t.split("."), o = e, r = n.length - 1;
n.forEach(function(e, t) {
if (_i_("269:dc1ce93c"), t === r) return o[e] = i, _r_();
o[e] = o[e] || {}, o = o[e], _r_();
}), _r_();
}
};
o.exports = r.extend({
_utils:s,
config:{
url:"/receive_feedback",
defaultView:"index",
defaultErrorView:"error",
defaultActionEvent:"click",
defaultPoll:"general",
defaultStorage:"floops",
defaultTimeout:168,
defaultAutoclose:!1,
stopPropagation:!1,
neverExpire:!0
},
init:function() {
if (_i_("269:2aa0d7ae"), this.setupComponent(), !this.config.neverExpire && (this.setupStorage(), !this.storage)) return _r_();
if (this.setupModel(), !this.config.neverExpire) {
var e = this.storage.isExpired(this.model.poll);
if (!e) {
var t = _(".feedback-loop");
return t.length && t.hide(), _r_();
}
}
this.setupViews(), this.setupActions(), this.initActions(), this.render(), _r_();
},
setupComponent:function() {
_i_("269:2df8408e"), this.config = _.extend({}, this.config, this.$el.data()), _r_();
},
setupStorage:function() {
_i_("269:88388287");
var e = this.config.storage || this.config.defaultStorage;
this.storage = new t(e), this.storage.removeExpired(), _r_();
},
setupViews:function() {
_i_("269:ee1c0ac6");
var e = this.views = {}, t = this.$el;
t.children("[data-view]").each(function(t, i) {
_i_("269:134c4fd9");
var n = _(i), o = n.data(), r = o.view;
e[r] = {
config:o,
view:i,
$view:n
}, _r_();
}), this.setupGroups(), _r_();
},
setupGroups:function() {
_i_("269:6f65c131");
var e = this;
this.$el.off(".feedbackGroups").on("click.feedbackGroups", ".feedback-loop__group-header :checkbox", function() {
_i_("269:6dc1b123"), t(_(this).closest(".feedback-loop__group")), _r_();
});
function t(t) {
_i_("269:aed89ecd");
var i = t.find(".feedback-loop__group-body"), n = t.find(".feedback-loop__group-header :checkbox"), o = i.is(":visible"), r = n.is(":checked");
o != r && i.slideToggle({
duration:200,
complete:function() {
_i_("269:d9ba1114"), e.triggerResize(), _r_();
}
}), _r_();
}
_r_();
},
triggerResize:function() {
_i_("269:18bdb111"), this.$el.trigger("feedbackBase_resize"), _r_();
},
setupModel:function() {
_i_("269:04551eb1"), this.model = {
poll:this.config.poll || this.config.defaultPoll
}, _.extend(this.model, {
url:window.location.href,
action:window.booking && window.booking.env && window.booking.env.b_action
}), _r_();
},
setupActions:function() {
_i_("269:f96e2876");
var t = this.actions = {};
t.showView = function(e) {
_i_("269:1e9bf834"), this.render(e.view), _r_();
}, t.submit = function(e) {
_i_("269:85856f91");
var t = this;
s.submitModel(this.config.url, this.model).done(function() {
_i_("269:d3ce5433");
var e = t.config.timeout;
e && !t.config.neverExpire && t.storage.set(t.model.poll, !0, 1e3 * e * 3600), _r_();
}).fail(function() {
_i_("269:feb1206b");
var e = t.config.defaultErrorView;
if (t.views[e]) return _r_(t.render(e));
throw a.emit("FLOOPS.request.error"), Error("[FLOOPS] Error submitting feedback");
}), _r_();
}, t.beforeSubmit = function(e) {
_i_("269:6610586c"), this.$el.trigger("feedback_beforeSubmit"), this.updateModel(this.currentView), _r_();
}, t.autoClose = function() {
_i_("269:377948b6"), setTimeout(function() {
_i_("269:4493432a"), $el.fadeOut(200), _r_();
}, 3e3), _r_();
}, t.reset = function() {
_i_("269:2e875bc5"), this.updateModel(this.currentView, !0), _r_();
}, t.close = function() {
_i_("269:f56186c8"), this.$el.hide(), _r_();
}, t.trackGaEvent = function(t) {
_i_("269:2bd5c299");
var n, o = (t.feedbackGaEvent || "").split("|"), r = {
nonInteraction:!0
};
"www" === e.env.b_site_type ? n = i("ga-tracker") :"mdot" === e.env.b_site_type && (n = i(e.env.b_use_ga_tracker ? "ga-tracker" :"core/ga-tracker-mobile")), o.length >= 2 && (r.type = o[0], r.action = o[1] || "", r.label = o[2] || "", "undefined" != typeof o[3] && (r.value = o[3])), n && n.trackEvent && r.type && r.action && r.label && ("www" === e.env.b_site_type ? n.trackEvent(r.type, r.action, r.label, r.value) :"mdot" === e.env.b_site_type && (e.env.b_use_ga_tracker ? n.trackEvent(r.type, r.action, r.label, r.value) :n.trackEvent(r))), _r_();
}, _r_();
},
updateModel:function(e, t) {
_i_("269:217fdadc");
var i = this, n = this.views[e], o = n ? n.$view :this.$el, r = {};
o.find("[data-model]").each(function(e, n) {
_i_("269:c4bb26a2");
var o, r = _(n), l = r.data();
if (l.model && (o = String(l.model).match(/^([^\[\]]+)\[\]$/))) return a(o[1]), _r_();
if (l.hasOwnProperty("modelValue")) return _r_();
var c = t ? "" :r.val();
r.is(":checkbox,:radio") && !r.prop("checked") && (c = ""), s.setObjectPath(i.model, l.model, c), _r_();
});
function a(e) {
if (_i_("269:e221706d"), r[e]) return _r_();
r[e] = [], o.find('[data-model="' + e + '[]"]').each(function(i, n) {
_i_("269:6d4733f8");
var o = _(n), a = t ? "" :o.val();
o.is(":checkbox,:radio") && !o.prop("checked") && (a = ""), a && r[e].push(a), _r_();
}), s.setObjectPath(i.model, e, r[e].join(",")), _r_();
}
_r_();
},
initActions:function() {
_i_("269:541173d8");
var e = this;
this.$el.find(":not([data-component]) [data-action]").each(function(t, i) {
_i_("269:427d9c53");
var n = _(i), o = _.extend({
action:e.config.defaultAction,
on:e.config.defaultActionEvent,
autoclose:n.data("autoclose") || !1,
stopPropagation:n.data("stopPropagation") || e.config.stopPropagation
}, n.data()), r = o.action.split(/\s+/);
n.on(o.on, function(t) {
_i_("269:6a43c01a"), o.model && o.modelValue && s.setObjectPath(e.model, o.model, o.modelValue), e.updateModel(e.currentView), o.stopPropagation && t.stopPropagation(), r.forEach(function(t) {
_i_("269:76c8fee9"), e.actions[t].call(e, o), _r_();
}), _r_();
}), _r_();
}), e.config.stopPropagation && this.$el.on("click", function(e) {
_i_("269:0b1ac586"), e.stopPropagation(), _r_();
}), _r_();
},
render:function(e) {
_i_("269:14297540");
var t = this;
if (!this.views) return _r_();
if (this.$el.removeClass("feedback-loop--hidden"), e = e || this.config.defaultView, e === this.currentView) return _r_();
Object.keys(this.views).forEach(function(i) {
_i_("269:5b0f286e");
var n = this.views[i].$view;
if (i === e) {
this.currentView = i, n.data("viewAnimated") ? n.slideDown(300) :n.show();
var o = /off|0|disabled|none/g;
n.data("autoclose") && !o.test(n.data("autoclose")) && setTimeout(function() {
_i_("269:6893325f"), t.$el.fadeOut(300), _r_();
}, 2e3);
} else n.hide();
_r_();
}.bind(this)), this.triggerResize(), _r_();
}
}), _r_();
});
function t(e, i) {
if (_i_("269:84e9843d"), !(this instanceof t)) return _r_(new t(e, i));
i = i || "localStorage", this.ns = e, this._storage = this.getStorage(i), this.loadData(), _r_();
}
t.prototype.getStorage = function(e) {
_i_("269:b029f3ca");
try {
var t = window[e], i = "__storage_test__";
return t.setItem(i, i), t.removeItem(i), _r_(t);
} catch (n) {
return _r_();
}
_r_();
}, t.prototype.saveData = function() {
if (_i_("269:6864624c"), !this._storage) return _r_();
return _r_(this._storage.setItem(this.ns, JSON.stringify(this.data)));
}, t.prototype.loadData = function() {
_i_("269:21a7d97f");
var e = this._storage.getItem(this.ns);
try {
e = e && JSON.parse(e) || {};
} catch (t) {
e = {};
}
this.data = e, _r_();
}, t.prototype.removeExpired = function() {
_i_("269:a90c56f0");
var e = Object.keys(this.data), t = this.data;
e.filter(this.isExpired.bind(this)).forEach(function(e) {
_i_("269:c2d864c6"), delete t[e], _r_();
}), this.saveData(), _r_();
}, t.prototype.isExpired = function(e, t) {
_i_("269:988d3e97"), t = t || new Date().getTime();
var i = this.data[e];
if (!i || !i.expires) return _r_(!0);
return _r_(t > i.expires);
}, t.prototype.remove = function(e) {
_i_("269:052a98d2"), delete this.data[e], this.saveData(), _r_();
}, t.prototype.set = function(e, t, i) {
if (_i_("269:d60c876d"), i && i.constructor !== Date) {
var n = new Date().getTime();
i = new Date(n + i).getTime();
}
this.data[e] = {
value:t,
expires:i
}, this.saveData(), _r_();
}, t.prototype.get = function(e) {
_i_("269:ec4d6d94");
var t, i = this.data, n = i[e];
return i[e] && (this.isExpired(e) ? this.remove(e) :t = n.value), _r_(t);
}, _r_();
}(window.booking), function(e) {
_i_("269:1affab82"), e.define("component/feedback-inline", function(t, i, n) {
_i_("269:89db71a6");
var o = t("component"), r = t("events"), _ = t("jquery");
n.exports = o.extend({
init:function() {
_i_("269:0b5f0aa9");
var e = this;
this.config = {
url:"/receive_content_feedback",
modalExtraClass:"feedback-modal-wrapper",
modalMaskExtraClass:"",
hideClass:"",
modalPosition:"fixed",
modalTopMargin:0,
autoFocus:!0
}, this.setupComponent(), this.$el.on("click", "[data-action]", function(t) {
_i_("269:6c13f195");
var i = _(this);
t.preventDefault(), i.data("stopPropagation") && t.stopPropagation(), e.runElementActions(i), _r_();
}), _r_();
},
runElementActions:function(e, t) {
_i_("269:10d70a4c");
var i = this, n = (t || e.data("action") || "").split(/\s+/);
_.each(n, function(t, n) {
_i_("269:c569f635");
var o = i["action_" + n];
"function" == typeof o && o.call(i, e), i.triggerActionEvents(n), _r_();
}), _r_();
},
action_submit:function(e) {
_i_("269:ba3db9ff");
var t = e.data("model"), i = e.data("modelValue"), n = this.getModel();
return t && (n[t] = i), this.$el.trigger("feedbackInline_submit", n), _r_(_.ajax({
url:this.config.url,
method:"POST",
data:n
}));
},
action_external:function(i) {
_i_("269:af1cf5c7");
var n = e.env && e.env.b_is_tdot_traffic ? e.lightbox :t("lightbox"), o = i.data("url"), r = i.data("iframe_height_percentage") || 90, a = {
iframe:!0,
iframeHeight:Math.max(Math.floor(r * _(window).height() / 100), 550),
hideCallBack:function() {
_i_("269:d179fba7"), _(document.body).css("overflow", ""), _r_();
}
};
o && (n.show(o, a), _(document.body).css("overflow", "hidden")), _r_();
},
action_modal:function(i) {
_i_("269:e6f1de82");
var n, o = this, r = e.env && e.env.b_is_tdot_traffic ? e.lightbox :t("lightbox"), a = i.data("showForm"), s = i.data("modalView"), l = a ? _(a) :_(".feedback-loop-lightbox").filter('[data-poll="' + this.config.poll + '"]').eq(0), c = function() {
_i_("269:9bfb463f"), o.$el.trigger("feedbackInline_hideModal", {
$feedbackForm:l
}), o.triggerActionEvents("hideModal"), _r_();
}, d = function() {
_i_("269:8e0ca5f8"), o.$el.trigger("feedbackInline_beforeHideModal", {
$feedbackForm:l
}), _r_();
};
if (!l.length) return _r_();
s && (n = l.data("componentInstanceFeedbackBase"), n && n.render && n.render(s)), r.show(l, {
customWrapperClassName:this.config.modalExtraClass,
position:this.config.modalPosition,
topMargin:this.config.modalTopMargin,
customMaskClassName:this.config.modalMaskExtraClass,
hideCallBack:c,
hideBeforeCallBack:d
}), l.off(".feedbackInline").on("click.feedbackInline", "[data-close]", function() {
_i_("269:c4a9a11a"), r.hide(), _r_();
}).on("click.feedbackInline", '[data-action~="submit"]', function() {
_i_("269:98a239bd"), o.$el.trigger("feedbackInline_submitModal"), o.triggerActionEvents("submitModal", {
$modal:l
}), i.data("hideOnModalSubmit") && o.action_hide(), _r_();
}).on("feedbackBase_resize", function() {
_i_("269:2a98798c"), r.rePosition({
preserveAbsolute:!0
}), _r_();
}), o.config.autoFocus && l.find("input:visible, textarea:visible").first().focus(), o.$el.trigger("feedbackInline_showModal"), o.triggerActionEvents("showModal", {
$modal:l
}), _r_();
},
action_extraForm:function(e) {
_i_("269:ead0f947");
var t, i = this, n = e.data("showForm"), o = _(n ? n :'.feedback-loop-extra[data-poll="' + this.config.poll + '"]');
if (!o.length) return _r_();
o.data("tmplName") && (o = this.replaceWithJsTmpl(o), o.addClass("feedback-loop-extra").attr("data-poll", this.config.poll)), e.data("extraFormAnimated") ? o.slideDown(300) :o.show(), this.config.autoFocus && setTimeout(function() {
_i_("269:dceff0be"), o.find("input:text:visible,textarea:visible").focus(), _r_();
}, 50), this.$el.trigger("feedbackInline_showExtra"), o.find('[data-action~="close"],[data-close]').off(".feedbackInline").on("click.feedbackInline", function() {
_i_("269:c0f8663c"), i.$el.trigger("feedbackInline_hideExtra"), e.data("showOnCancel") && !t ? i.$el.show() :e.data("hideOnExtraClose") && i.action_hide(), _r_();
}).end().find('[data-action~="submit"]').off(".feedbackInline").on("click.feedbackInline", function() {
_i_("269:d4174a9d"), t = !0, e.data("hideOnExtraSubmit") && i.action_hide(), i.$el.trigger("feedbackInline_submitExtra"), i.triggerActionEvents("submitExtra", {
$extraForm:o
}), _r_();
}), _r_();
},
action_hide:function(e) {
_i_("269:adf478a2");
var t = this, i = e ? e.data("hideDelay") :null, n = e ? e.data("hideAnimated") :null, o = function() {
_i_("269:75a34236"), n ? t.$el.slideUp(200) :t.$el.hide(), t.config.hideClass && t.$el.addClass(t.config.hideClass), _r_();
};
i ? setTimeout(o, i) :o(), _r_();
},
action_hideOther:function(e) {
_i_("269:b8736d69"), _('[data-component*="feedback-inline"][data-poll="' + this.config.poll + '"]').not(this.$el).hide(), _r_();
},
action_hideForeign:function(e) {
_i_("269:fa1df519");
var t = (e.data("hideForeign") || "").split(/\s+/);
t.length && _.each(t, function(e, t) {
_i_("269:8412f2c7"), t && _('[data-component*="feedback-inline"][data-poll="' + t + '"]').hide(), _r_();
}), _r_();
},
action_showView:function(e) {
_i_("269:0276d38d");
var t = this, i = e.data("showView"), n = this.$el.find("[data-view]"), o = n.filter('[data-view="' + i + '"]'), r = o.data("viewAnimated");
n.each(function() {
_i_("269:86e0d512");
var e = _(this), n = e.data("view"), o = e.is(":visible");
n !== i || o ? n !== i && o && (r ? e.slideUp(200) :e.hide()) :r ? (t.$el.css({
overflow:"hidden",
height:t.$el.height()
}), e.slideDown(300, function() {
_i_("269:80a013af"), t.$el.css({
overflow:"",
height:""
}), _r_();
}), _(".inline-feedback__hidden").focus()) :e.show(), _r_();
}), _r_();
},
action_trackGaEvent:function(i) {
_i_("269:b141d3a7");
var n, o = (i.data("feedbackGaEvent") || "").split("|"), r = {
nonInteraction:!0
};
"www" === e.env.b_site_type ? n = t("ga-tracker") :"mdot" === e.env.b_site_type && (n = t(e.env.b_use_ga_tracker ? "ga-tracker" :"core/ga-tracker-mobile")), o.length >= 2 && (r.type = o[0], r.action = o[1] || "", r.label = o[2] || "", "undefined" != typeof o[3] && (r.value = o[3])), n && n.trackEvent && r.type && r.action && r.label && ("www" === e.env.b_site_type ? n.trackEvent(r.type, r.action, r.label, r.value) :"mdot" === e.env.b_site_type && (e.env.b_use_ga_tracker ? n.trackEvent(r.type, r.action, r.label, r.value) :n.trackEvent(r))), _r_();
},
replaceWithJsTmpl:function(t) {
_i_("269:9cc0ce91");
var i = t.data(), n = {
poll_id:this.config.poll
}, o = "", r = t;
return e.jstmpl && i.tmplName && (_.each(i, function(e, t) {
_i_("269:e8a2be23");
var i = e.match(/^tmplData(.+)$/);
i && i[1] && (n[String(i[1]).toLowerCase()] = t), _r_();
}), _.isPlainObject(i.tmplData) && _.extend(n, i.tmplData), o = e.jstmpl(i.tmplName).render(n)), o && (r = _(o), t.replaceWith(r), r.loadComponents()), _r_(r);
},
setupComponent:function() {
_i_("269:a765f0be"), _.extend(this.config, this.$el.data()), _r_();
},
getModel:function() {
_i_("269:3462e42f");
var e = this.$el.find("[data-view]:visible"), t = {
url:window.location.href,
action:window.booking && window.booking.env && window.booking.env.b_action,
poll:this.config.poll
};
return e.length || (e = this.$el), e.find("[data-model]").each(function() {
_i_("269:9441e65b");
var e = _(this), i = e.data();
!i.hasOwnProperty("modelValue") && i.model && (t[i.model] = e.val()), _r_();
}), _r_(t);
},
triggerActionEvents:function(e, t) {
_i_("269:e285197f");
var i = _.extend({
feedbackInline:this
}, t || {});
r && e && (r.emit("feedbackInline:" + e, i), this.config.poll && r.emit("feedbackInline:" + e + ":" + this.config.poll, i)), _r_();
}
}), _r_();
}), _r_();
}(window.booking), B.when({
action:"hotel",
condition:"zh-cn" === B.env.b_lang_for_url && $(".js-disable_share_center_button_icon").length
}).run(function(e) {
_i_("269:9079f3a2");
var t, i = e("jquery"), n = e("component/qrcode/qrcodelib").QRCode, o = e("component/sharing/utils/copy");
function r(e, t) {
_i_("269:e596850d");
var n = [ e.label.replace("{platform}", "weibo"), e.label.replace("{platform}", "raw"), e.label.replace("{platform}", "qr_code") ], o = JSON.stringify(n), r = {
is_raf:0,
url:e.url,
labels:o
};
B.env.b_user_auth_level_is_low_or_high ? _(function(e) {
if (_i_("269:d74cfd75"), e && e.b_advocate_code) {
var o = "MKMBYNYTQWUbIPGVfMZCV" + B.et.track("MKMBYNYTQWUbIPGVfMZC");
if (n.forEach(function(e, t) {
_i_("269:73647a32");
var i = e.split("_");
if (i.indexOf("share") <= 0) return _r_(e);
i.splice(i.indexOf("share") + 3, 0, o), n[t] = i.join("_"), _r_();
}), B.et.track("MKMBYNYTQWUbIPGVfMZC")) {
if (e.b_raf_reward_advocate_with_currency && e.b_raf_reward_friend_with_currency) {
var _ = B.jstmpl.translations("raf_china_pp_share_popup_reinforcement_header", null, {
amount:e.b_raf_reward_advocate_with_currency
});
i(".cn_share_center_lightbox__title.js-inject-copy").html(_), _ = B.jstmpl.translations("raf_china_pp_share_popup_subheader", null, {
amount:e.b_raf_reward_advocate_with_currency,
percentage:e.b_raf_reward_friend_percentage + "%"
}), i(".cn_hp_share_raf__content.js-inject-copy p").html(_);
}
var s = {
is_raf:1,
raf_advocate_data:JSON.stringify({
b_advocate_code:e.b_advocate_code,
b_campaign_id:e.b_campaign_id
}),
labels:JSON.stringify(n).split("noraf").join("raf")
};
r = Object.assign(r, s);
} else r = Object.assign(r, {
labels:JSON.stringify(n)
});
a(r, t);
} else a(r, t);
_r_();
}) :a(r, t), _r_();
}
function _(e) {
_i_("269:c890fe72"), i.ajax({
url:B.env.b_secure_domain + "/rafadvocatedetails",
type:"post",
data:{
source_id:17
},
xhrFields:{
withCredentials:!0
},
success:e
}), _r_();
}
function a(e, t) {
_i_("269:cd4cf120"), i.ajax({
url:"/sharing_experience/get_china_short_url",
type:"POST",
data:e,
success:t
}), _r_();
}
function s(e) {
_i_("269:e034cce0");
var t = i(e), n = t.data("label");
if (!n) return _r_(!1);
B.et.goal("china_hp_open_sharing_panel");
var o = t.data("url") + "?";
B.env.b_checkin_date && B.env.b_checkout_date && (o = o + "&checkin=" + B.env.b_checkin_date + "&checkout=" + B.env.b_checkout_date), o += "&aid=1168702", r({
url:o,
label:n
}, function(e) {
_i_("269:6b645dae");
var t;
for (t in e) t.indexOf("raw") > -1 ? l(e[t]) :t.indexOf("qr_code") > -1 ? d(e[t]) :t.indexOf("weibo") > -1 && c(e[t]);
_r_();
}), _r_();
}
function l(e) {
_i_("269:f58e1a14"), i(".js-cn_share_center_lightbox__copy_input").html(e), t = e, _r_();
}
function c(e) {
_i_("269:1c958272");
var t = i(".js-cn_share_center_lightbox__link--weibo"), n = t.attr("href").replace("{fe_weibo_url}", e);
t.attr("href", n), _r_();
}
function d(e) {
_i_("269:6e6d2f04");
var t = i("#js-cn_share_center_lightbox__qr_code");
t.empty(), new n(t[0], {
text:e,
width:160,
height:160,
colorDark:"#000000",
colorLight:"#ffffff",
correctLevel:n.CorrectLevel.H
}), _r_();
}
i(document).on("click", ".js-cn_share_center_lightbox_trigger", function() {
_i_("269:197a46d5"), s(this), _r_();
}), i(".js-cn_share_center_lightbox_trigger").click(function() {
_i_("269:197a46d51"), s(this), _r_();
}), i(".js-cn_share_center_lightbox__copy_input").on("copy", function() {
_i_("269:d170b6e1"), B.et.stage("MKMBYXaWcPGOdVQYXbNTWVPYKDcdRBOXT", 2), _r_();
}), i(".js-cn_share_center_lightbox__link--chains, .js-cn_share_center_lightbox__copy_hint").click(function(e) {
_i_("269:80235eb1"), e.preventDefault(), t && o.copyText(t, function() {
_i_("269:f5a4ddd5"), i(".js-cn_share_center_lightbox__copy_input").focus().select(), i(".js-cn_share_center_lightbox__copy_hint").fadeIn("fast"), _r_();
}, function() {
_i_("269:2270709a"), i(".js-cn_share_center_lightbox__copy_input").focus().select(), _r_();
}), _r_();
}), _r_();
}), B.when({
action:"hotel"
}).run(function(e) {
_i_("269:c0b22bce");
var t = null, i = e("jquery"), n = e("jstmpl"), o = e("events"), r = i('[data-lang-item="true"]'), _ = i(".reviewer_type_filter");
o.on("hotel:reviewlist:success:tab", function() {
_i_("269:4cf6a14b");
var e = _.val();
if (e === t) return _r_();
t = e, r.each(function(e, o) {
_i_("269:5fa50ec1");
var r = i(o), _ = r.find(".language_review_count"), a = parseInt(r.data("review-count-" + t), 10) || 0;
_.text(n.translations("reviews_number_hotel_display", a, {
number_of_reviews:a.toString()
})), _r_();
}), _r_();
}), _r_();
}), B.when({}).run(function(e) {
_i_("269:78011ec8");
var t = e("jquery");
t(document).on("click", ".js--rt-lightbox-reviews-container-close", function(e) {
_i_("269:29fc02bd");
var i = t(this).parents(".rt-lightbox-reviews-container").first();
i.length && i.addClass("g-hidden"), _r_();
}), _r_();
}), B.require([ "please" ], function(e) {
_i_("269:45b66b10");
var t = [ "empty", "hide", "show", "remove", "addClass", "removeClass", "toggleClass" ];
function i(e, t, i) {
_i_("269:f4e807c9");
var n = e;
i.target && (n = $(i.target)), n[i.action].apply(n, t), _r_();
}
t.forEach(function(t) {
_i_("269:b9fc821b"), e.addAction(t, i), _r_();
}), _r_();
}), B.require([ "please" ], function(e) {
_i_("269:875b8660"), e.addAction("track", function(e, t) {
_i_("269:0d688b7e"), B.et.track(t[0]), _r_();
}, {
once:[]
}), e.addAction("stage", function(e, t) {
_i_("269:ace1d34e"), B.et.stage(t[0], t[1]), _r_();
}, {
once:[]
});
function t(e, t) {
_i_("269:9403f648"), B.et.customGoal(t[0], t[1]), _r_();
}
e.addAction("customGoal", t, {
once:[]
}), e.addAction("goal", t, {
once:[]
}), _r_();
}), function() {
_i_("269:666a061a");
var e = "action", t = "arguments";
B.define("please", function(i, n, o) {
_i_("269:193171e7");
var r = [], _ = B.debug("please");
_.log("Core initialized");
function a(e, t) {
return _i_("269:eada7e21"), _r_(function() {
return _i_("269:3b7eb10e"), _r_(t.apply(this, [ e ].concat(Array.prototype.slice.call(arguments))));
});
}
function s(e) {
_i_("269:dce9edf0");
var t = parseInt(e);
return e.match(/\d+s/im) ? t = 1e3 * t :e.match(/\d+m(in)?$/im) && (t = 60 * t * 1e3), _r_(t);
}
function l(t, i) {
if (_i_("269:88b42cad"), !i) return _r_();
i.on && 0 != i.on.length || (i.on = [ "init" ], _.warn('Missing event-name on "' + i[e] + '". Will use on(init) instead.'));
var n = a(function() {}, function() {
_i_("269:e9a75c76"), h(t, i), _r_();
}.bind(this));
switch (i.delay && i.delay[0] ? i.delay = s(i.delay[0]) :i.delay = 0, n = a(n, function(e) {
_i_("269:cd86c40e"), setTimeout(e, i.delay), _r_();
}), i.on[0]) {
case "view":
B.tools.dom.watchIfBlockVisibleInViewport(t, n, !0);
break;

case "click":
case "hover":
case "focus":
case "blur":
case "mouseover":
case "mouseenter":
case "mouseleave":
t.on(i.on.join(","), n);
break;

case "init":
n();
break;

default:
_.warn('Undetected event type: "' + i.on + '"');
}
_r_();
}
function c(e) {
_i_("269:f03014a5");
for (var t, i = [], n = !1, o = [], r = 0; r < e.length; r++) t = e[r], " " === t || "," === t ? n ? o.push(t) :o.length > 0 && (i.push(o.join("")), o = []) :"'" === t || '"' === t ? n === t ? n = !1 :n === !1 ? (n = t, o.push("")) :o.push(t) :o.push(t);
return o.length > 0 && (i.push(o.join("")), o = []), _r_(i);
}
function d(i) {
_i_("269:3bba8c83");
var n, o = {}, r = i.match(/\w+(\(.*?\))?/gim);
if (!r) return i.trim().length > 0 && _.warn("Can't parse string, probably syntax error: " + i), _r_(!1);
return r.forEach(function(i, r) {
_i_("269:8b548aca");
var _ = i.indexOf("(");
_ > -1 ? 0 != r ? o[i.substring(0, _)] = c(i.substring(_ + 1, i.length - 1)) :(o[e] = i.substring(0, _), o[t] = c(i.substring(_ + 1, i.length - 1))) :0 != r ? (n = 0 != r ? i :e, o[n] = "") :o[e] = i, _r_();
}), _r_(o);
}
function h(i, n) {
_i_("269:e840a7ac"), r[n[e]] ? r[n[e]](i, n[t], n) :_.warn('Undetected action "' + n[e] + '", probably missing action plugin for please-component '), _r_();
}
o.exports = {
addAction:function(e, t, i) {
_i_("269:7f965a9b"), r[e] = t, _r_();
},
go:function(e, t) {
_i_("269:5591fb67"), e.split(";").map(d, this).forEach(function(e) {
_i_("269:45ea8ad6"), l(t, e), _r_();
}.bind(this)), _r_();
}
}, _r_();
}), B.define("component/please", function(e, t, i) {
"use strict";
_i_("269:c84df219");
var n = e("component"), o = e("please"), r = B.debug("please");
i.exports = n.extend({
init:function() {
_i_("269:1a9476dd"), r.log("[component] Incoming please-string: " + this.$el.attr("data-please")), o.go(this.$el.attr("data-please"), this.$el), _r_();
}
}), _r_();
}), _r_();
}(), B.define("hotel/price-control", function(e, t, i) {
_i_("269:d2894e32");
var n = e("event-emitter"), o = e("jstmpl"), r = function() {
_i_("269:f53732e2"), this.options = {
classes:{
active:"hp-availability-section--active",
noNightsCount:"hp-availability-section--no-nights-count",
nightsStayControl:"hp-availability-section--ns-control"
}
}, this.$element = $(".js-hp-availability-section"), this.$checkin = this.$element.find(".lp_bold_date_picker_checkin span"), this.$checkout = this.$element.find(".lp_bold_date_picker_checkout span"), n.extend(this), this._addHandlers(), _r_();
};
return $.extend(r.prototype, {
_addHandlers:function() {
_i_("269:13a40d79");
var e = this;
this.$element.find(".lp_bold_date_picker_select").on("click", function() {
_i_("269:b98e6d6f"), e._showCalendar(), _r_();
}), this.$element.find(".lp_bold_date_picker_btn").on("click", function() {
return _i_("269:f361ade7"), e._showCalendar(), _r_(!1);
}), this._getNightsStayControlContainer().on("change", function() {
_i_("269:debed757"), e._setNightsStayCount(e._getNightsStayControl().val()), _r_();
}), this._getNightsStayControlContainer().on("click", function(e) {
_i_("269:5d1b9584"), e.stopPropagation(), _r_();
}), this.on("datesChanged", function(t) {
_i_("269:237c85f0"), e._changeDates(t), _r_();
}), _r_();
},
_showCalendar:function() {
_i_("269:c195ef17"), this.trigger("JACK:showCalendar"), this._enableCTA(), this._showNightStayControl(), _r_();
},
_enableCTA:function() {
_i_("269:de60785d"), this.$element.find(".lp_bold_date_picker_btn").prop("disabled", !1).removeClass("b-button_disabled"), this.$element.addClass(this.options.classes.active), _r_();
},
_showNightStayControl:function() {
_i_("269:33ec6c01");
var e = this;
e.$element.addClass(e.options.classes.noNightsCount), setTimeout(function() {
_i_("269:995f7ab1"), e._getNightsStayPresenter().hide(), e.$element.addClass(e.options.classes.nightsStayControl), _r_();
}, 300), _r_();
},
_getNightsStayPresenter:function() {
return _i_("269:9cdb7a0f"), _r_(this.$element.find(".b-form-number-of-nights"));
},
_getNightsStayControl:function() {
return _i_("269:6cf57c3c"), _r_(this.$element.find(".js-hp-availability-section__nights-count"));
},
_getNightsStayControlContainer:function() {
return _i_("269:8729ac57"), _r_(this._getNightsStayControl().parent());
},
_setNightsStayCount:function(e) {
_i_("269:cf1156ec"), this.trigger("JACK:changeNightsStayCount", e || 1), _r_();
},
_getNightsStayCount:function() {
return _i_("269:41daa96b"), _r_(this._getNightsStayControl().val());
},
_changeNightsStayTranslation:function() {
_i_("269:34971fa8");
var e = this._getNightsStayCount(), t = this._getNightsStayControlContainer(), i = this._getNightsStayControl().clone();
i.find("option").removeAttr("selected"), i.find("option[value=" + e + "]").attr("selected", "selected"), t.html(o.translations("deals_flexi_calendar_nights_stay_selector", this._getNightsStayCount(), {
number_nights:$("<div />").append(i).html()
})), _r_();
},
_changeDates:function(e) {
_i_("269:0f123033");
var t = B.formatter.date(e.checkinDate), i = B.formatter.date(e.checkoutDate);
this._setCheckinDate(t), this._setCheckoutDate(i), _r_();
},
_setCheckinDate:function(e) {
_i_("269:7dc25dfb"), this.$checkin.text(e || ""), _r_();
},
_setCheckoutDate:function(e) {
_i_("269:5574d126"), this.$checkout.text(e || ""), _r_();
}
}), _r_(r);
}), B.when({
events:"ready",
action:"hotel",
condition:$("[data-ribbon-clickable=true]").length
}).run(function(e) {
_i_("269:22c6ef44");
var t, i = e("jquery"), n = e("window-scroller"), o = i("[data-ribbon-clickable=true]"), r = "room_with_ribbon", _ = r + "__highlighted", a = c(), s = !0;
if (!a || !a.length) return o.on("click", function() {
_i_("269:b6eb4471"), h(), _r_();
}), _r_();
t = a.add(a.prevAll(".maintr:first")), a.prevUntil(".maintr").length > 0 && (s = !1), t.addClass(r), o.on("click", function() {
_i_("269:7a776648"), l(), _r_();
});
function l() {
_i_("269:87cfc951"), a && a.length && n.scrollToBlock(a, s, void 0, s ? 90 :void 0).then(function() {
_i_("269:14e5eea2"), d(), _r_();
}), _r_();
}
function c() {
_i_("269:2a3534e4");
var e = o.attr("data-ribbon-percent"), t = i("[data-room-with-percentage=" + e + "]");
if (t && t.length) return _r_(t.closest("tr").first());
_r_();
}
function d() {
_i_("269:9057010a"), t.addClass(_), setTimeout(function() {
_i_("269:96a26aa1"), t.removeClass(_), _r_();
}, 600), _r_();
}
function h() {
_i_("269:346b7822"), n.scrollToBlock(i("#maxotel_rooms")), _r_();
}
_r_();
}), B.define("component/tpi/data-api", function(e, t, i) {
"use strict";
_i_("269:e0b738f0");
function n() {
_i_("269:ce8257cb"), this.$ = e("jquery"), this.endpointData = {
number_of_adults:B.env.wholesaler_configuration.search_config_adults,
number_of_children:B.env.wholesaler_configuration.search_config_children,
number_of_rooms:B.env.wholesaler_configuration.search_config_rooms,
checkin_date:B.env.b_checkin_date,
checkout_date:B.env.b_checkout_date,
language_code:B.env.b_lang,
country_code:B.env.b_guest_country,
platform:B.env.b_site_type,
hotels:[],
exp:B.env.wholesaler_configuration.availability_exp
}, this.wholesalerEndpointURL = B.env.wholesaler_configuration.url, this.businessBookersObject = B.env.wholesaler_configuration.business_bookers, this.fragment_send_platform = "1" == B.env.wholesaler_configuration.fragment_send_platform, this.wholesalerIDS = [], this.decisionFragmentName = "wholesaler.decide_winner_rooms", this.asyncWaiting = 0, this.successfulResults = 0, this.callbackFunction = !1, this.callbackContentFunction = !1, this.cachedResults = {
data:{},
hp_pageview_id:B.env.pageview_id,
checkin_date:B.env.b_checkin_date,
checkout_date:B.env.b_checkout_date,
num_adults:B.env.wholesaler_configuration.search_config_adults,
num_children:B.env.wholesaler_configuration.search_config_children,
num_rooms:B.env.wholesaler_configuration.search_config_rooms
}, this.getWholesalerDataFromBE = function() {
_i_("269:d2014d47"), this.asyncWaiting = this.wholesalerIDS.length, this.cachedResults.data = {}, this.successfulResults = 0;
for (var e = 0; e < this.wholesalerIDS.length; e++) {
var t = this.wholesalerIDS[e], i = {
wholesalerCode:t
}, n = $.extend({}, this.endpointData, {
wholesaler_id:t,
hp_pageview_id:B.env.pageview_id,
tpi_av_id:B.env.wholesaler_configuration.tpi_av_id
});
this.makeAjaxCall(this.wholesalerEndpointURL, n, this.cacheData, i);
}
_r_();
}, this.makeAjaxCall = function(e, t, i, n) {
_i_("269:38da940a");
var o = this;
$.ajax({
type:"POST",
cache:!1,
xhrFields:{
withCredentials:!0
},
dataType:"json",
contentType:"application/json; charset=utf-8",
timeout:2e4,
url:e,
data:JSON.stringify(t),
success:function(e) {
_i_("269:6bc7bc96"), i(e, n, o), _r_();
},
error:function(e, t, r) {
_i_("269:27faf25d"), i(null, n, o), _r_();
}
}), _r_();
}, this.cacheData = function(e, t, i) {
_i_("269:e5469807");
var n = t.wholesalerCode;
null != e && null != e.data && 200 == e.status && Object.keys(e.data).length > 0 && (i.cachedResults.data[n] = e.data, i.successfulResults++), i.asyncWaiting--, 0 == i.asyncWaiting && i.processResults(i.cachedResults), _r_();
}, this.callDecisionFragment = function(e) {
_i_("269:d7a6ed51");
var t = this, i = {
genius:B.env.b_reg_user_is_genius,
logged_in:B.env.auth_level > 0 ? 1 :0,
wholesalers_info:e,
business_info:t.businessBookersObject,
tpi_av_id:B.env.wholesaler_configuration.tpi_av_id,
extra_block_info:{},
label:B.env.b_label
};
this.fragment_send_platform && (i.platform = B.env.site_type), B.env.wholesaler_configuration.fe_tpi_breakfast_score && B.env.wholesaler_configuration.fe_tpi_breakfast_review_nr && (i.extra_block_info.fe_tpi_breakfast_score = B.env.wholesaler_configuration.fe_tpi_breakfast_score, i.extra_block_info.fe_tpi_breakfast_review_nr = B.env.wholesaler_configuration.fe_tpi_breakfast_review_nr), B.require("fragment").call(this.decisionFragmentName, i).then(function(e) {
_i_("269:8329da43"), t.callbackFunction(e, !1), _r_();
}, function(e) {
_i_("269:e4747598"), t.callbackFunction(e, !0), _r_();
}), _r_();
}, this.processResults = function(e) {
_i_("269:f98d7cd4"), this.successfulResults > 0 ? this.callDecisionFragment(e) :(B.et.stage("PPXGDSFLFYWbMFZILJDTKe", 2), this.callbackFunction("All requests failed", !0)), _r_();
}, this.makeRequest = function(e) {
_i_("269:7e8b759e"), this.callbackFunction = e, this.getWholesalerDataFromBE(), _r_();
}, this.initialize = function(e, t) {
_i_("269:dcea6fe9"), $.extend(this.endpointData, e), this.wholesalerIDS = t, _r_();
}, _r_();
}
i.exports = n, _r_();
}), B.define("component/tpi/booking-api", function(e, t, i) {
"use strict";
_i_("269:e5c94e1d");
function n(e) {
_i_("269:bcc6ecc3");
var t = 0;
if (void 0 != B.env.b_rooms_available_and_soldout && B.env.b_rooms_available_and_soldout.length > 0) for (var i = B.env.b_rooms_available_and_soldout, n = 0; n < i.length; n++) for (var o = B.env.b_rooms_available_and_soldout[n].b_blocks, r = 0; r < o.length; r++) {
var _ = parseFloat(o[r].b_raw_price), a = o[r].b_max_persons;
a >= e && (0 == t && _ > 0 || t > _) && (t = _);
} else {
var s = $("#maxotel_rooms");
if (void 0 != s) {
var l = s.find("tr");
if (l.length > 0) for (var n = 0; n < l.length; n++) {
var c = $($(l[n]).find(".b_room_selectbox")[0]);
if (void 0 != c && c) {
var _ = parseFloat(c.data("price")), a = $(l[n]).data("occupancy");
a >= e && (0 == t && _ > 0 || t > _) && (t = _);
}
}
}
}
return _r_(t);
}
function o() {
if (_i_("269:6ffe7175"), void 0 != B.env.b_rooms_available_and_soldout && B.env.b_rooms_available_and_soldout.length > 0) for (var e = B.env.b_rooms_available_and_soldout, t = 0; t < e.length; t++) for (var i = B.env.b_rooms_available_and_soldout[t].b_blocks, n = 0; n < i.length; n++) {
var o = parseFloat(i[n].b_raw_price);
if (o > 0) return _r_(!1);
} else {
var r = $("#maxotel_rooms");
if (void 0 != r) {
var _ = r.find("tr");
if (_.length > 0) for (var t = 0; t < _.length; t++) {
var a = $($(_[t]).find(".b_room_selectbox")[0]);
if (void 0 != a && a) {
var o = parseFloat(a.data("price"));
if (o > 0) return _r_(!1);
}
}
}
}
return _r_(!0);
}
i.exports.getLowestPrice = n, i.exports.isSoldOut = o, _r_();
}), booking.jstmpl("tpi_roomblock_payment_icons", function() {
_i_("269:573d5ec9");
var e = [ '\n	<span class="wholesalers_table__payment_methods_label">', "/private/tpi_rt_pay_with_methods/name", '</span>\n	<span class="wholesalers_table__payment_methods_container">\n		', '\n			<i class="payment-method-icon payment-method-icon__', '"></i>\n		', "\n	</span>\n" ], t = [ "fe_payment_methods" ];
return _r_(function(i) {
_i_("269:49bff7f7");
var n = "", o = this.fn;
n += [ e[0], o.ME(e[1], o.MB, o.MN, null), e[2] ].join("");
var r = o.MC(t[0]) || [];
i.unshift({
fe_payment_method:null
});
for (var _, a = 1, s = r.length; s >= a; a++) i[0].fe_payment_method = _ = r[a - 1], n += [ e[3], o.F.entities((_ || {}).type), e[4] ].join("");
return i.shift(), n += e[5], _r_(n);
});
}()), B.define("component/tpi/payment-icons", function(e, t, i) {
_i_("269:af56dff5");
var n = e("jstmpl"), o = e("jquery");
function r(e, t) {
_i_("269:8671f859"), this.$el = e, this.endpointURL = t.endpointURL, this._tmpl = n("tpi_roomblock_payment_icons"), _r_();
}
r.prototype._render = function(e) {
_i_("269:ce1630f2"), this.$el.html(this._tmpl.render({
fe_payment_methods:e.payment_methods
})), _r_();
}, r.prototype._fetchPaymentMethods = function() {
return _i_("269:4b495632"), _r_(o.ajax({
type:"GET",
cache:!1,
xhrFields:{
withCredentials:!0
},
dataType:"json",
contentType:"application/json; charset=utf-8",
timeout:2e4,
url:this.endpointURL,
data:{
cc1:B.env.b_guest_country,
currency:B.env.b_selected_currency
}
}));
}, r.prototype.fetchAndRender = function() {
_i_("269:68360faa"), this._fetchPaymentMethods().then(this._render.bind(this)), _r_();
}, i.exports = r, _r_();
}), booking.jstmpl("tpi_roomblock_select_rooms", function() {
_i_("269:e97469d0");
var e = [ "\n	", "\n", '\n\n<div class="hprt-block ', "single-occ-only", '">\n    <label> <span class="invisible_spoken">', "/private/hp_number_of_rooms/name", '</span>\n    <select\n        class="hprt-nos-select"\n        name="nr_rooms_', '"\n        data-component="hotel/new-rooms-table/select-rooms"\n        data-room-id="', '"\n        data-block-id="', '"\n        data-is-fflex-selected="0"\n        >\n        ', '\n    <option value="', '">\n\n        ', "\n        ", "\n            ", "\n                &nbsp;\n            ", "\n            &nbsp;&nbsp;&nbsp;\n            (", ")\n        ", "\n    </option>\n", "\n\n", "\n    </select>\n\n    </label>\n</div>\n\n" ], t = [ "b_has_valid_dates", "b_group_adults", "fe_hprt_block", "fe_exp_dates_group_maxone", "fe_hprt_room" ];
return _r_(function(i) {
_i_("269:04babaa0");
var n = "", o = this.fn;
function r(n) {
return _i_("269:a67bb006"), n += [ "", e[1] ].join(""), o.MN("fe_exp_dates_group_maxone", o.MC(t[0]) && o.MJ(2 == o.MC(t[1])) && o.MJ(1 == o.MC(t[2]).b_max_persons)), n += e[2], o.MJ(o.MB(t[3])) && (n += e[3]), n += [ e[4], o.ME(e[5], o.MB, o.MN, null), e[6], (o.MC(t[2]) || {}).b_block_id, e[7], o.F.entities((o.MC(t[4]) || {}).b_id), e[8], o.F.entities((o.MC(t[2]) || {}).b_block_id), e[9] ].join(""), i.unshift({
fe_hprt_block:o.MB(t[2])
}), n = _(n), i.shift(), n += [ e[19], "", e[1] ].join(""), _r_(n);
}
function _(n) {
_i_("269:8582ebcf");
var r = (o.MC(t[2]) || {}).b_stay_prices || [];
i.unshift({
fe_stay_price:null
});
for (var _, a = 1, s = r.length; s >= a; a++) i[0].fe_stay_price = _ = r[a - 1], n += [ e[10], o.F.entities((_ || {}).b_stays), e[11], (_ || {}).b_stays, e[12] ].join(""), o.MJ(_.b_price) && (n += e[13], o.MJ(_.b_price < 10) && (n += e[14]), n += [ e[15], (_ || {}).b_price, e[16] ].join("")), n += e[17];
return i.shift(), n += e[18], _r_(n);
}
return n += e[0], n = r(n), n += e[1], _r_(n);
});
}()), B.define("component/tpi/room_block/block-room-table", function(e, t, i) {
"use strict";
_i_("269:763891af");
var n, o, r, _ = e("booking-sticker"), a = e("jstmpl"), s = e("jquery"), l = e("hotel/redux/actionTypes"), c = e("hotel/store"), d = e("component/hotel/new-rooms-table/summary/fade"), h = B.env.wholesaler_configuration || {}, u = [];
function f(e, t, i) {
return _i_("269:39b98593"), "hide" === t ? e.hide() :e.show(), _r_(e);
}
function p() {
return _i_("269:130c80b7"), n || (n = s(".hprt-nos-select")), _r_(n);
}
function b() {
return _i_("269:d8ffdd69"), o || (o = p().filter(function() {
return _i_("269:17b4281d"), _r_(0 === s(this).parents(".wholesalers_table__select_rooms").length);
})), _r_(o);
}
function m(e) {
_i_("269:3b266b71");
var t = {
b_id:e.room_id,
b_name:e.room_name,
b_has_a11y_facilities:0,
b_has_room_inventory:1,
b_roomtype_id:null,
b_blocks:[ {
b_stay_prices:[ {
b_raw_price:e.b_price_unformatted,
b_price:"",
b_stays:0
}, {
b_raw_price:e.b_price_unformatted,
b_stays:1,
b_price:e.price_formatted
} ],
b_book_now_pay_later:0,
b_nr_stays:1,
b_max_persons:parseInt(h.search_config_adults || "0", 10),
b_rate_is_genius:0,
b_rate_is_cug_business_rate:0,
b_price:e.price_formatted,
b_cancellation_type:"non_refundable",
b_raw_price:"110.00",
b_mealplan_included_name:null,
b_block_id:"bbasic_" + e.room_id,
b_business_package_match:0
} ]
};
return _r_(t);
}
function g(e) {
_i_("269:76c80cc9"), e.find(".hprt-nos-select").attr("disabled", !0), _r_();
}
function v(e) {
_i_("269:acc62e12"), e.find(".hprt-nos-select").attr("disabled", !1), _r_();
}
function y(e) {
_i_("269:275e5662"), b().attr("disabled", !0), _r_();
}
function w(e) {
_i_("269:3a1caefc"), b().attr("disabled", !1), _r_();
}
function M() {
_i_("269:e3b13a73");
var e = new _(), t = {};
B.env.b_hp_sticky_offset && (t.initialOffset = B.env.b_hp_sticky_offset), e.init(".hprt-table-cell.-last > .hprt-block", ".hprt-table-cell.-last", t), _r_();
}
function k() {
_i_("269:8603f95d");
var e;
return r || (e = s(".wholesalers_table__reserve_container"), r = [ ".prd-taxes-and-fees-under-price", ".hprt-booking-summary-best-price", ".ge-room-upgrade-label", ".hprt-booking-summary-dont-worry", ".hprt-booking-summary-genius-challenge", ".hprt-booking-cta-ticker", ".hprt-no-cc-needed", ".hprt-booking-summary-conditions", ".rt_no_cc", ".hprt-booking-cta-ticker" ].map(function(t) {
return _i_("269:c55726e9"), _r_(e.find(t));
})), _r_(r);
}
function C(e) {
return _i_("269:6587fdca"), e && k().forEach(function(e) {
_i_("269:0fa9d9f5"), e.is(":visible") && u.push(e), _r_();
}), _r_(u);
}
function T(e) {
_i_("269:802cae1c"), k().forEach(function(t) {
_i_("269:2f3e4485"), f(t, e), _r_();
}), _r_();
}
function x(e) {
_i_("269:a136d6ad"), C().forEach(function(t) {
_i_("269:2f3e44851"), f(t, e), _r_();
}), _r_();
}
function E(e) {
_i_("269:18d2760e");
var t = s(".wholesalers_table__reserve_container"), i = [ ".wholesalers_table__booknow__reassurance" ].map(function(e) {
return _i_("269:c6ba7a3e"), _r_(t.find(e));
});
i.forEach(function(t) {
_i_("269:2f3e44852"), f(t, e), _r_();
}), _r_();
}
function S() {
_i_("269:abce93f8"), s(".hprt-table-cell.-last").filter(function() {
return _i_("269:d48794a5"), _r_(!s(this).hasClass("wholesalers_table__reserve_container"));
}).remove(), _r_();
}
function N(e) {
_i_("269:5f38545c"), e.find("td.ws-table-cell").addClass("hprt-table-cell"), _r_();
}
i.exports = {
addRoomsToStore:function(e) {
return _i_("269:eec3c0f0"), c.dispatch({
type:l.ADD_TPI_ROOMS,
rooms:[ e ]
}), _r_(this);
},
bindToStore:function(e) {
_i_("269:100c3188"), c.subscribe(function() {
_i_("269:0ed013bb");
var t, i, n = c.getState().roomsTable.js_selection;
n.roomCount > 0 ? (t = n.blockIDs.filter(function(e) {
return _i_("269:d2eaa57a"), _r_(e.indexOf("bbasic_") >= 0);
}), i = n.blockIDs.filter(function(e) {
return _i_("269:2b94e5a9"), _r_(e.indexOf("bbasic_") < 0);
}), i.length && g(e), t.length && (y(), T("hide"), E("show"))) :(v(e), w(e), E("hide"), x("show")), _r_();
}), _r_();
},
showNoResultsFound:function(e) {
_i_("269:c495c208"), N(e), e.find(".wholesalers_table__col__content").hide(), e.find(".wholesalers_table_wrapper__opacity").css("opacity", "0.2").addClass(".wholesalers_table_wrapper__opacity_animators"), e.find(".wholesalers_table__col__temp_placeholders").show(), B.env.b_reserve_button_on_each_block || S(), e.show(), M();
var t = e.find(".wholesalers_table__loader"), i = s(".ws-table-cell").filter(function() {
return _i_("269:fe56dc3c"), _r_(!s(this).hasClass("-last"));
}), n = function() {
_i_("269:c69dfff3");
var n = 0;
i.each(function() {
_i_("269:48787d49"), n += s(this).outerWidth(), _r_();
}), n = n || e.width();
var o = Math.floor((n - 400) / 2) + "px";
t.css("left", o), _r_();
};
n(), t.show(), s(window).on("resize", n), setTimeout(function() {
_i_("269:8bc4280c"), s("html, body").animate({
scrollTop:e.offset().top
}, 1e3), e.find(".wholesalers_table__loader__checking").fadeOut(function() {
_i_("269:e886f06c"), e.find(".wholesalers_table__loader__missed").fadeIn(), _r_();
}), _r_();
}, 600), _r_();
},
render:function(e, t) {
_i_("269:340889bc");
var i, n, o;
N(e), B.env.b_reserve_button_on_each_block ? e.find(".wholesalers_table__booknow__button").attr("href", t.booking_url) :(i = a("tpi_roomblock_select_rooms"), n = s(".hprt-table-room-select.wholesalers_table__select_rooms .wholesalers_table__col__content"), o = m(t), this.addRoomsToStore(o).bindToStore(e), S(), n.html(i.render({
fe_hprt_block:o.b_blocks[0],
fe_hprt_room:{
b_id:o.b_id
}
})), n.loadComponents(), setTimeout(function() {
_i_("269:a08dcbfc");
var t = e.find("#hprt-ws--reserve-column"), i = new d();
i.prepare({
el:t[0],
$el:t
}), i.init && i.init(), _r_();
}, 8), e.data("block-id", o.b_blocks[0].b_block_id), s("#hprt-form").on("submit", function(e) {
_i_("269:1c250c65");
var i = c && c.getState().roomsTable.js_selection, n = i && i.blockIDs && i.blockIDs.length ? i.blockIDs :[], o = n.some(function(e) {
return _i_("269:bbf7b9de"), _r_(e.indexOf("bbasic") >= 0);
});
o && (e.preventDefault(), e.stopPropagation(), window.location = t.booking_url), _r_();
})), e.show(), C(!0), M(), _r_();
}
}, _r_();
}), B.define("component/tpi/room_block/block", function(e, t, i) {
"use strict";
_i_("269:c4fa3ab7");
var n = e("component"), o = e("component/tpi/room_block/lightbox/lightbox"), r = e("et"), _ = e("events"), a = void 0, s = !1, l = !1, c = !1, d = e("component/tpi/payment-icons"), h = e("component/tpi/room_block/block-room-table");
function u() {
_i_("269:be49b21d"), $(window).resize(function() {
_i_("269:404182d5"), p(), f(), _r_();
}), _r_();
}
function f() {
_i_("269:105270b8");
var e = a.width(), t = Math.floor((e - 400) / 2) + "px";
a.find(".wholesalers_table__loader").css("left", t), _r_();
}
function p() {
if (_i_("269:a225a681"), $("table.hprt-table").length > 0) {
var e, t = $("table.hprt-table");
a.find("#wholesalers_table thead .wholesalers_hprt-table-header-cell.-first").css("width", t.find("th.hprt-table-header-cell.-first").css("width")), a.find("#wholesalers_table thead .wholesalers_hprt-table-header-price").css("width", t.find("th.hprt-table-header-price").css("width")), e = parseInt(t.find("th.hprt-table-header-policies").css("width"), 10), B.env.b_reserve_button_on_each_block || (e += parseInt(t.find("th.hprt-table-header-rooms-number").css("width"), 10) + 18, a.find("#wholesalers_table thead .wholesalers_hprt-table-header-cell.-last").css("width", t.find("th.hprt-table-header-cell.-last").css("width"))), a.find("#wholesalers_table thead .wholesalers_hprt-table-header-policies").css("width", e + "px");
} else {
var t = $("table#maxotel_rooms");
a.find("#wholesalers_table thead .wholesalers_hprt-table-header-occupancy").css("width", t.find("th.occupancy_dropdown_header").css("width")), a.find("#wholesalers_table thead .wholesalers_hprt-table-header-price").css("width", t.find("th#price_highlight").css("width")), a.find("#wholesalers_table thead .wholesalers_hprt-table-header-policies").css("width", parseInt(t.find("th.conditions_tt").css("width"), 10) + parseInt(t.find("th#nr_rooms_header").css("width"), 10) + 18 + "px"), a.find("#wholesalers_table thead .wholesalers_hprt-table-header-cell.-last").css("width", t.find("th.hp-rt-reservation-header").css("width"));
}
_r_();
}
function b(e) {
_i_("269:2a113fb7"), a.find(".wholesalers_table__price__number").html(e), _r_();
}
function m(e, t, i) {
_i_("269:cb6c434b");
var n = $("#ws_price_tooltip_block").clone();
n.find("#ws_price_per_night").html(t), n.find("#ws_num_nights").html(i), n.find("#ws_total_price").html(e), n.removeAttr("class");
var o = a.find(".wholesalers_table__price__number");
o.attr("class", o.attr("class") + " jq_tooltip"), o.attr("data-title", n.html()), _r_();
}
function g(e) {
_i_("269:2b6b11ff"), a.find(".wholesalers_table__roomname__text.wholesalers_table__roomname__nocontent").text(e), a.find(".hprt-ws-roomtype-link").text(e), _r_();
}
function v(e) {
_i_("269:f0cf556a"), a.find(".wholesalers_table__booknow__button").attr("href", e), _r_();
}
function y() {
_i_("269:8d36aeb0"), a.find(".wholesalers_table__message_below_holder").hide(), _r_();
}
function w(e) {
_i_("269:9d81db97");
for (var t = 0; t < e.length; t++) {
var i = $("div.wholesalers__template__gallery_image.wholesalers__template").clone(), n = $("a.wholesalers__template__gallery_thumb.wholesalers__template").clone();
i.removeClass("wholesalers__template").removeClass("wholesalers__template__gallery_image"), n.removeClass("wholesalers__template").removeClass("wholesalers__template__gallery_thumb"), i.attr("data-photoid", t), n.attr("data-photoid", t), i.find("img").attr("data-lazy", e[t]), n.find("img").attr("src", e[t]), $(".hprt-ws-lightbox-gallery-slides").append(i), n.insertBefore($(".hprt-ws-lightbox-gallery-thumbs-insertBefore"));
}
_r_();
}
function M(e, t) {
_i_("269:57270500"), o.bindLightbox(e, t), _r_();
}
function k(e) {
_i_("269:25c3351c"), o.setRoomInfo(e), _r_();
}
function C(e) {
if (_i_("269:7b447ec6"), !e && !(e.has_breakfast || e.has_lunch || e.has_dinner)) return _r_();
var t = e.has_breakfast, i = e.has_lunch, n = e.has_dinner, o = a.find(".hprt-conditions-tooltip__wholesaler"), r = o.attr("data-title").trim(), _ = $($.parseHTML(r)), s = _.find(".hprt-conditions-tooltip__wholesaler-meals");
!t || i || n ? t || !i || n ? t || i || !n ? t && i && !n ? s.text(B.jstmpl.translations("breakfast_lunch_included_in_room_rate")) :t && !i && n ? s.text(B.jstmpl.translations("half_board_included_in_room_rate")) :t && i && n ? s.text(B.jstmpl.translations("full_board_included_in_room_rate")) :!t && i && n && s.text(B.jstmpl.translations("dinner_included_in_room_rate")) :s.text(B.jstmpl.translations("dinner_included_in_room_rate")) :s.text(B.jstmpl.translations("lunch_included_in_room_rate")) :s.text(B.jstmpl.translations("breakfast_included_in_room_rate")), o.attr("data-title", _.get(0).outerHTML), _r_();
}
function T(e, t) {
_i_("269:d7b56ff9");
var i = t.fe_tpi_breakfast_score, n = t.fe_tpi_breakfast_review_nr, o = a.find(".wholesalers_table__options__meal_plan_text__with_score"), r = "";
r += "<span><strong>" + i + "</strong></span> ", i >= 7 && 8 > i ? (o.html(B.jstmpl.translations("d_room_good_breakfast_included", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})), r += "<span>" + B.jstmpl.translations("review_adj_good") + "</span>") :i >= 8 && 8.6 > i ? (o.html(B.jstmpl.translations("d_room_very_good_breakfast_included", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})), r += "<span>" + B.jstmpl.translations("review_adj_very_good") + "</span>") :i >= 8.6 && 9 > i ? (o.html(B.jstmpl.translations("d_room_fabulous_breakfast_included", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})), r += "<span>" + B.jstmpl.translations("review_adj_fabulous") + "</span>") :i >= 9 && 9.5 > i ? (o.html(B.jstmpl.translations("d_room_superb_breakfast_included", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})), r += "<span>" + B.jstmpl.translations("review_adj_superb") + "</span>") :i >= 9.5 && (o.html(B.jstmpl.translations("d_room_exceptional_breakfast_included", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})), r += "<span>" + B.jstmpl.translations("review_adj_exceptional") + "</span>"), r += " <span>&#183;</span> <span>" + B.jstmpl.translations("d_room_breakfast_tooltip_2", n, {
num_breakfast_reviews:n
}) + "</span>", o.parents("li").addClass("green_condition__tpi_breakfast_score").addClass("jq_tooltip").attr("data-title", r), e.hide(), o.show(), _r_();
}
function x(e, t) {
_i_("269:f1df654e");
var i = e.has_breakfast, n = e.has_lunch, o = e.has_dinner, r = a.find(".wholesalers_table__options__meal_plan"), _ = a.find(".wholesalers_table__options__meal_plan_text"), s = a.find(".wholesalers_table__options__meal_plan__breakfast"), l = a.find(".wholesalers_table__options__meal_plan__lunch"), c = a.find(".wholesalers_table__options__meal_plan__dinner"), d = a.find(".wholesalers_table__options__meal_plan__platefork");
!i || n || o ? i || !n || o ? i || n || !o ? i && n && !o ? (_.text(B.jstmpl.translations("meals_breakfast_and_lunch_inc")), c.show()) :i && !n && o ? (_.text(B.jstmpl.translations("meals_breakfast_and_dinner_inc")), c.show()) :i && n && o ? (_.text(B.jstmpl.translations("meals_full_board_included")), d.show()) :!i && n && o && (_.text(B.jstmpl.translations("meals_dinner_included")), c.show()) :(_.text(B.jstmpl.translations("meals_dinner_included")), c.show()) :(_.text(B.jstmpl.translations("meals_lunch_included")), l.show()) :(t && t.fe_tpi_breakfast_score && t.fe_tpi_breakfast_score >= 7 ? T(_, t) :_.text(B.jstmpl.translations("meals_breakfast_included")), s.show()), r.show(), _r_();
}
function E(e) {
_i_("269:81280f9c");
for (var t = 10, i = !1, n = 0; n < e.length; n++) if (e[n].highlighted && e[n].icon) {
var o = a.find("span.wholesalers_table__facility_with_icon.wholesalers__template").clone();
o.removeClass("wholesalers__template"), o.find(".wholesalers_table__facility_name").text(e[n].name), o.find(".hprt-facilities-icon").addClass(e[n].icon), a.find(".wholesalers_table__facilities_holder_initial").append(o);
} else {
var o = a.find("span.wholesalers_table__facility.wholesalers__template").clone();
o.removeClass("wholesalers__template"), o.find(".wholesalers_table__facility_name").text(e[n].name), t > n ? a.find(".wholesalers_table__facilities_holder_initial").append(o) :(i = !0, a.find(".wholesalers_table__facilities_holder_overflow").append(o));
}
i || a.find(".wholesalers_table__facilities_openlink").hide(), a.find(".wholesalers_table__facilities_openlink").click(function() {
_i_("269:4032ab5e"), $(this).hide(), a.find(".wholesalers_table__facilities_closelink").show(), a.find(".wholesalers_table__facilities_holder_overflow").slideDown("fast"), setTimeout(function() {
_i_("269:85aa2ccf"), $(window).trigger("resize"), _r_();
}, 1e3), _r_();
}), a.find(".wholesalers_table__facilities_closelink").click(function() {
_i_("269:6b468d50"), $(this).hide(), a.find(".wholesalers_table__facilities_openlink").show(), a.find(".wholesalers_table__facilities_holder_overflow").slideUp("fast"), setTimeout(function() {
_i_("269:85aa2ccf1"), $(window).trigger("resize"), _r_();
}, 1e3), _r_();
}), a.find(".wholesalers_table__facilities_wrapper").show(), $(window).trigger("resize"), _r_();
}
function S(e) {
_i_("269:70759237"), 1 == e.bedtype_id ? 1 == e.count ? a.find(".wholesalers_table__bed_option__1").show() :a.find(".wholesalers_table__bed_option__1_2").show() :a.find(".wholesalers_table__bed_option__" + e.bedtype_id).length > 0 ? a.find(".wholesalers_table__bed_option__" + e.bedtype_id).show() :a.find(".wholesalers_table__bed_option__other").show(), a.find(".wholesalers_table__bed_options__text").text(e.name_withnumber), a.find(".wholesalers_table__bed_options__holder").show(), _r_();
}
function N() {
_i_("269:6bd83848"), a.find(".wholesalers_table__roomname__nocontent").hide(), a.find(".wholesalers_table__roomname__content").show(), _r_();
}
function O() {
if (_i_("269:f14bfd7c"), void 0 == a) return s = !0, _r_();
a.find(".wholesalers_table__col__content").css("opacity", "0"), a.find(".wholesalers_table_wrapper__opacity").css("opacity", "0.2").addClass(".wholesalers_table_wrapper__opacity_animators"), a.find(".wholesalers_table__col__temp_placeholders").show(), a.find(".wholesalers_table__loader").show(), p(), f(), a.show(), $(window).trigger("resize"), setTimeout(function() {
_i_("269:2baaf861"), $("html, body").animate({
scrollTop:a.offset().top
}, 1e3), c && j(), _r_();
}, 600), _r_();
}
function j() {
if (_i_("269:7dcc754b"), void 0 == a) return c = !0, _r_();
a.find(".wholesalers_table__loader__checking").fadeOut(function() {
_i_("269:a24361ae"), a.find(".wholesalers_table__loader__missed").fadeIn(), $(window).trigger("resize"), _r_();
}), _r_();
}
function I() {
_i_("269:5c63f9db"), h.showNoResultsFound(a), _r_();
}
function A() {
if (_i_("269:f4250c80"), void 0 == a) return l = !0, _r_();
a.find(".wholesalers_table_wrapper__opacity").css("opacity", "1"), a.find(".wholesalers_table__col__temp_placeholders").css("opacity", "0"), a.find(".wholesalers_table__col__content").css("opacity", "1"), a.find(".wholesalers_table__loader").hide(), setTimeout(function() {
_i_("269:98e2619d"), a.find(".wholesalers_table__col__temp_placeholders").hide(), _r_();
}, 600);
var e = a.find(".wholesalers_table__message_below_text")[0].getBoundingClientRect().height;
a.find(".wholesalers_table__message_below_holder").css({
height:e + "px"
}), a.find(".wholesalers_table__message_below_text").css({
bottom:-1 * e + "px"
}), setTimeout(function() {
_i_("269:4bbd27f4"), a.find(".wholesalers_table__message_below_holder").css("visibility", "visible"), a.find(".wholesalers_table__message_below_text").animate({
bottom:"0px"
}, 500), _r_();
}, 1e3), _r_();
}
function P(e) {
_i_("269:db32606a");
var t = e.closest("tr").prev();
t.find(".hprt-table-cell-price").removeClass("hprt-table-cheapest-block-arrow"), e.removeClass("hprt-table-cheapest-block-banner-active"), e.closest("tr.js-hprt-cheapest-block-row").removeClass("hprt-cheapest-block-row-active"), t.is(".js-hprt-table-cheapest-block") && t.removeClass("hprt-table-cheapest-block-active"), _r_();
}
function L() {
_i_("269:41a61469");
var e = a.find(".tpi-hprt-table-cheapest-block-banner");
e.show(), _r_();
}
function D() {
_i_("269:337cfb2b");
var e = $('.roomArea [data-component="hotel/new-rooms-table/cheapest-seen-block"]');
r.stage("PPXGDSJMWRbHJQPYHNOSBAC", 1), 2 == r.track("PPXGDSJMWRbHJQPYHNOSBAC") && (e.length && e.is(":visible") && P(e), L(), _.on(B.hotel.Events.RT.CHEAPEST_SEEN_BLOCK_AFTER_SHOW, function(e) {
_i_("269:3129d63c"), P(e), L(), _r_();
})), _r_();
}
function R(e) {
_i_("269:c6b2b7bf");
var t = $(".wholesalers_table__payment_methods"), i = new d(t, {
endpointURL:e.payment_icon_endpoint
});
i.fetchAndRender(), _r_();
}
i.exports = n.extend({
init:function() {
_i_("269:3934c427");
var e = this.$el.data() || {};
this.showInRoomTable = e.roomTable || !1, a = this.$el, u(), p(), s && (s = !1, O()), l && (l = !1, A()), _r_();
}
}), i.exports.showPlaceholders = O, i.exports.removePlaceholders = A, i.exports.showNoResultsFound = j, i.exports.hideMessageBelowHolder = y, i.exports.showNoResultsFoundInRT = I, i.exports.render = function(e) {
if (_i_("269:06ed339f"), a || r.goalWithValue("js_tpi_hp_component_not_initialized_on_render", 1), b(e.price_formatted), e.b_price_per_night && m(e.price_formatted, e.b_price_per_night, e.b_num_nights), g(e.room_name), B && B.env && B.env.isTLSDepricationWarning || v(e.booking_url), r.stage("PPXGWZTJBUHaZFMdWTCUZZMRKe", 1) && 2 == r.track("PPXGWZTJBUHaZFMdWTCUZZMRKe") && (a.find(".wholesalers_table__option_with_icon").children(":first-child").hide(), a.find(".wholesalers_table__option_with_icon div").css("padding-left", "0px"), a.find(".wholesalers_table__option-with-icon div").css("width", "95%")), r.track("PPXGDSJMWRbHJQPYHNOSBAC") && D(), e.show_logo && e.show_logo_copytag && (1 == e.logo_stage ? ($(".wholesalers_table__supplier-text").text(e.show_logo_copytag), $(".wholesalers_table__supplier").show()) :2 == e.logo_stage ? ($(".wholesalers_table__supplier-text").text(B.jstmpl.translations("tpi_rt_supplied_by_ctrip_logo")), $(".wholesalers_table__supplier-logo").attr("src", e.show_logo_image).show(), $(".wholesalers_table__supplier").show()) :3 == e.logo_stage && ($(".wholesalers_table__supplier-text").hide(), $(".wholesalers_table__supplier-logo").attr("src", e.show_logo_image).show(), $(".wholesalers_table__supplier").show())), e.rpd && ($(".wholesalers_table__price__lower-message").text(B.jstmpl.translations("tpi_rt_cheaper_price_persuasion", null, {
num_percent:e.rpd
})), $(".wholesalers_table__price__lower").show()), e.show_vat && $(".wholesalers_table__vat").show(), e.room_description.bed_description && e.room_description.bed_description.name_withnumber || a.find(".tpi_rt_bed_type_warning").show(), e.confirmation_time_var) {
var t = a.find(".wholesalers_table__booknow__confirm_time");
t.addClass("jq_tooltip").text(B.jstmpl.translations("tpi_rt_non_instant_confirmation")), 1 == e.confirmation_time_var ? e.is_instant ? t.attr("title", B.jstmpl.translations("tpi_rt_confirmation_time_may_take_minutes", 15, {
num_minutes:15
})) :t.attr("title", B.jstmpl.translations("tpi_rt_confirmation_time_may_take_hours", 24, {
num_hours:24
})) :2 == e.confirmation_time_var && (e.is_instant ? t.attr("title", B.jstmpl.translations("tpi_rt_non_instant_confirmation_mins_tooltip", 15, {
num_minutes:15
})) :t.attr("title", B.jstmpl.translations("tpi_rt_non_instant_confirmation_hours_tooltip", 24, {
num_hours:24
})), a.find(".js_refund_reassurance").hide());
}
if (e.show_payment_icon && R(e), e.b_show_in_rt) return h.render(a, e), _.emit(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, e), _r_();
p(), a.show(), $(window).trigger("resize"), _.emit(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, e), _r_();
}, i.exports.renderContent = function(e, t) {
_i_("269:4d002e11");
var i = t.hotelID, n = t.roomID, o = e.room_description;
o.new_facilities && o.new_facilities.length > 0 ? E(o.new_facilities) :o.facilities && o.facilities.length > 0 && E(o.facilities), o.meal_info && (o.meal_info.has_breakfast || o.meal_info.has_lunch || o.meal_info.has_dinner ? x(o.meal_info, t) :o.meal_info.breakfast_costs_extra ? a.find(".wholesalers_table__no_breakfast__extra_cost").show() :o.meal_info.no_breakfast_included && a.find(".wholesalers_table__no_breakfast__at_all").show()), o.bed_description && o.bed_description.name_withnumber && o.bed_description.bedtype_id && o.bed_description.count && S(o.bed_description), o.room_images && o.room_images.length > 0 && (w(o.room_images), M(i, n), k(e), N()), p(), C(o.meal_info), _r_();
}, _r_();
}), B.define("component/tpi/room_block/lightbox/lightbox", function(e, t, i) {
_i_("269:d1150cef");
var n = e("component"), o = e("jquery"), r = e("lightbox"), _ = e("hotel/rooms_table/lightbox/gallery"), a = !1, s = void 0;
function l() {
_i_("269:2c442c13");
var e = "hprt-ws-lightbox--wrapper";
a && (e += " has-facilities"), r.show(s, {
customWrapperClassName:e,
bOverflowVisible:!0,
position:"dynamic"
});
var t = s.find(".hprt-ws-lightbox-gallery-container");
t.length && !t.hasClass("slicked") && (t.addClass("slicked"), new _(t)), _r_();
}
i.exports = n.extend({
init:function(e) {
_i_("269:94d96cc3"), s = this.$el, _r_();
}
}), i.exports.bindLightbox = function(e, t) {
_i_("269:7773e888");
var i = o(".hprt-ws-roomtype-link");
if (!i.length) return _r_();
i.click(function(e) {
_i_("269:08edff8e"), e.preventDefault(), l(), _r_();
}), _r_();
}, i.exports.setGalleryFacilities = function(e) {
_i_("269:2a42e5b3");
for (var t = s.find(".hprt-ws-lightbox-facilities__left"), i = s.find(".hprt-ws-lightbox-facilities__right"), n = 0; n < e.length; n++) {
var r = o("<li>");
r.text(e[n].name), n % 2 == 0 ? t.append(r) :i.append(r);
}
a = !0, _r_();
}, i.exports.setRoomInfo = function(e) {
_i_("269:b344c5cc"), s.find(".tpi-hprt-lightbox-book-conditions__meal_plan").html(o(".wholesalers_table__options__meal_plan")[0].outerHTML), s.find(".tpi-hprt-lightbox-book-price .green_condition").html(e.price_formatted), s.find(".tpi-hprt-lightbox-book-conditions__room_name").html(e.room_name), s.find(".js-tpi-lightbox-reserve-button-bed-options").attr("href", e.booking_url), _r_();
}, _r_();
}), B.define("component/tpi/room_block/last_checked_counter/last_checked_counter", function(e, t, i) {
_i_("269:abe7409c");
var n, o, r, _ = e("component");
function a() {
if (_i_("269:81f0c4d7"), n > 1800) return clearInterval(o), _r_();
c(s(n)), n++, _r_();
}
function s(e) {
_i_("269:e5ae4ffe");
var t = l(e);
if (120 > e) return _r_(B.jstmpl.translations("tpi_rt_price_last_checked_seconds", e, {
num_seconds:e
}));
if (600 > e) return _r_(B.jstmpl.translations("tpi_rt_price_last_checked_minutes", t, {
num_minutes:t
}));
return _r_(B.jstmpl.translations("tpi_rt_price_last_checked_over_minutes", t, {
num_minutes:t
}));
}
function l(e) {
return _i_("269:7696a451"), _r_(Math.floor(e / 60));
}
function c(e) {
_i_("269:8f27b309"), r && r.text(e), _r_();
}
i.exports = _.extend({
init:function() {
_i_("269:393eb71d"), r = this.$el, n = 1, _r_();
}
}), i.exports.start = function() {
_i_("269:9903f70b"), o = setInterval(a, 1e3), _r_();
}, _r_();
}), B.when({
action:"hotel",
events:"ready",
experiment:"PPXGDSSdYZCNKBTdFNRe",
condition:B.env.wholesaler_configuration
}).run(function(e) {
_i_("269:c59f9e4a");
var t = e("jquery"), i = e("et"), n = "PPXGDSSdYZCNKBTdFNRe", o = e("events");
o.on(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, function(e) {
if (_i_("269:82cf6a34"), e && e.price_formatted && i.stage(n, 1)) {
_();
for (var o, l, c = B.env.b_rooms_available_and_soldout, d = 0; d < c.length; d++) if (c[d].b_has_room_inventory) {
o = c[d].b_name, l = c[d].b_blocks[d].b_price;
break;
}
if (2 == i.track(n)) {
var h = t("#short_rl_above_cta");
r(h, e, o, l);
} else if (3 == i.track(n)) {
var h = t("#short_rl_below_cta");
r(h, e, o, l);
}
t(".tpi_short_rl_wrapper").click(function() {
_i_("269:c7638f18"), "www" == B.env.site_type && e && e.b_show_in_rt ? s() :a(), _r_();
});
}
_r_();
});
function r(e, t, i, n) {
_i_("269:c1deb48c"), e.find(".basicPrice").html(t.price_formatted), e.find(".basicName").html(t.room_name), e.find(".nextName").html(i), e.find(".nextPrice").html(n), e.show(), _r_();
}
function _() {
_i_("269:bd19a9f7"), B.env.b_reg_user_is_genius && i.stage(n, 2), c() && i.stage(n, 3), l() && i.stage(n, 4), _r_();
}
function a() {
_i_("269:34f4330a");
var e = t("#tpi_room_block");
window.setTimeout(function() {
_i_("269:ee039d14"), t("html,body").animate({
scrollTop:e.offset().top + "px"
}, 1e3), _r_();
}, 0), _r_();
}
function s() {
_i_("269:b4daaa18");
var e = t(".wholesalers_table__row");
window.setTimeout(function() {
_i_("269:ee039d141"), t("html,body").animate({
scrollTop:e.offset().top + "px"
}, 1e3), _r_();
}, 0), _r_();
}
function l() {
_i_("269:67621d84");
var e = new Date(B.env.b_checkin_date), t = new Date(), i = Math.abs(e.getTime() - t.getTime()), n = Math.ceil(i / 864e5);
return _r_(3 >= n ? !0 :!1);
}
function c() {
_i_("269:3b832cf0");
var e = !1, t = [ "cn", "kh", "mm", "la", "ph", "bn", "bt", "np", "hk", "th", "mo", "sg", "jp", "lk", "id", "mv", "mn", "bd", "in", "vn", "kr", "tw", "my" ];
return t.includes(B.env.b_guest_country) && (e = !0), _r_(e);
}
_r_();
}), B.when({
action:"hotel",
events:"ready",
experiment:"PPXGDSSfARGKBdHIYBZVET",
condition:B.env.wholesaler_configuration && !B.env.b_reg_user_is_genius
}).run(function(e) {
_i_("269:168b9df1");
var t = e("jquery"), i = e("et"), n = "PPXGDSSfARGKBdHIYBZVET", o = t(".hp_basic_persuasion__wrapper"), r = e("events"), _ = t(".tpi_hp_basic_persuasion_tracking");
r.on(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, function(e) {
_i_("269:f398ef5b"), e && e.pd && i.stage(n, 1) && (2 == i.track(n) && (o.find(".hp_basic_persuasion__text").html(B.jstmpl.translations("tpi_hp_basic_benefits_text", null, {
price_with_currency:e.pd
})), o.show()), 3 == i.track(n) && (o.find(".hp_basic_persuasion__text").html(B.jstmpl.translations("tpi_hp_basic_benefits_supplier_text", null, {
price_with_currency:e.pd
})), o.show()), t('<div data-et-view="PPXGDSSfARGKBdHIYBZVET:2"></div>').appendTo(_), i.initAttributesTracking(_)), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready",
experiment:"PPXGDSSaVSKDJaT",
condition:B.env.wholesaler_configuration
}).run(function(e) {
_i_("269:f1795a3c");
var t = e("jquery"), i = e("et"), n = "PPXGDSSaVSKDJaT", o = t(".basic_banner_last_image"), r = e("events");
r.on(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, function(e) {
_i_("269:3a94a160"), e && e.price_formatted && (i.stage(n, 1), r.on(B.hotel.Events.Gallery.ON_CTA_SLIDE, function() {
_i_("269:905119be"), i.stage(n, 2), _r_();
}), r.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED, function(e) {
_i_("269:32fc48bf"), 0 === e.modal.activePhotoId.indexOf("cta") && i.stage(n, 2), _r_();
}), 2 == i.track(n) && (o.addClass("show_banner_last_image"), o.find(".last_image_msg__text_price").text(B.jstmpl.translations("tpi_hp_gallery_last_image_basic_simple", null, {
price_with_currency:e.price_formatted
})), o.closest(".gallery__last-item__wrapper").css("padding-top", "16%").css("padding-bottom", "4%"))), _r_();
}), _r_();
}), function() {
_i_("269:3c24c560"), B.when({
events:"ready",
action:"hotel",
condition:(1 == B.env.b_bookings_owned || B.env.fe_sp_enable_basic_inventory) && B.env.wholesaler_configuration && B.env.wholesaler_configuration.wholesaler_candidate_ids && B.env.wholesaler_configuration.wholesaler_candidate_ids.length > 0
}).run(function(e) {
_i_("269:138afbe7");
var t = e("component/tpi/data-api"), i = e("component/tpi/room_block/block"), n = e("component/tpi/booking-api"), o = new t(), r = B.env.wholesaler_configuration.wholesaler_candidate_ids, _ = B.env.b_hotel_id, a = B.env.b_selected_language, s = B.env.b_guest_country, l = "" === B.env.b_selected_currency ? B.env.b_hotel_currencycode :B.env.b_selected_currency, c = B.env.b_checkin_date, d = B.env.b_checkout_date, h = parseInt(B.env.wholesaler_configuration.search_config_adults), u = parseInt(B.env.wholesaler_configuration.search_config_children), f = parseInt(B.env.wholesaler_configuration.search_config_rooms), p = "0" !== B.env.wholesaler_configuration.b_3pi_thirdparty_api_failed, b = "www" == B.env.site_type && "1" === B.env.wholesaler_configuration.b_3pi_show_room_in_rt, m = B.require("et"), g = "PPXGFGbJdFRO";
function v(e, t) {
if (_i_("269:82fdba5a"), t) p && i.showNoResultsFound(); else if (null != e && void 0 != e && void 0 != e[_] && null != e[_]) {
var o = e[_].min_room_block;
if (0 === n.getLowestPrice(h + u)) return m.customGoal(g, 1), _r_();
"www" == B.env.site_type && o && o.b_show_in_rt && w(), y(o), p ? i.removePlaceholders() :i.hideMessageBelowHolder();
} else p && i.showNoResultsFound();
_r_();
}
function y(e) {
if (_i_("269:45a8dac5"), i.render(e), e.room_description) {
var t = {
hotelID:e.hotel_id,
roomID:e.room_id
};
e.room_description.meal_info && e.room_description.meal_info.has_breakfast && !e.room_description.meal_info.has_lunch && !e.room_description.meal_info.has_dinner && e.room_description.meal_info.fe_tpi_breakfast_score && e.room_description.meal_info.fe_tpi_breakfast_review_nr && (t.fe_tpi_breakfast_score = e.room_description.meal_info.fe_tpi_breakfast_score, t.fe_tpi_breakfast_review_nr = e.room_description.meal_info.fe_tpi_breakfast_review_nr), i.renderContent(e, t);
}
_r_();
}
function w() {
_i_("269:a15a795c");
var e = $("#tpi_room_block__rt"), t = new i();
$("#tpi_room_block").remove(), t.prepare({
el:e[0],
$el:e
}), t.init && t.init(), _r_();
}
function M() {
if (_i_("269:fc1bfce7"), r.length > 0) {
var e = n.getLowestPrice(h + u);
if (e >= 0 && "" != c && "" != d && null != l && "" != l) {
if (0 == e) {
m.stage(g, 1);
var t = n.isSoldOut();
if (t ? (m.stage(g, 2), B.env.days_to_checkin >= 30 && m.stage(g, 4)) :(m.stage(g, 3), B.env.days_to_checkin >= 30 && m.stage(g, 5)), 0 == m.track(g)) return _r_();
}
if ("www" == B.env.site_type) {
var y = $("#tpi_room_block"), M = new i();
M.prepare({
el:y[0],
$el:y
}), M.init && M.init();
}
o.initialize({
number_of_adults:h,
number_of_children:u,
number_of_rooms:f,
checkin_date:c,
checkout_date:d,
language_code:a,
country_code:s,
extra_info:1,
hotels:[ {
ufi:B.env.b_ufi,
currency_code:l,
lowest_b_price:e,
id:_
} ]
}, r), p ? b ? (w(), i.showNoResultsFoundInRT()) :(i.showPlaceholders(), i.showNoResultsFound()) :o.makeRequest(v);
}
}
_r_();
}
M(), _r_();
}), _r_();
}(), function() {
_i_("269:d66be635");
var e = B.require("et"), t = B.require("jquery");
function i(e) {
_i_("269:a3affbe7");
var i = setInterval(function() {
_i_("269:9f83dd57"), "none" != t("#tpi_room_block").css("display") && (e.innerHTML = "Booking.Basic block shown!<br/><br/>" + e.innerHTML, e.style.color = "#42f542", clearInterval(i)), _r_();
}, 200);
_r_();
}
if (e.track("PPXGDSDMANNGUZRSTDKe")) {
var n = document.createElement("div"), o = 0, r = !1, _ = [];
n.id = "tpiTrackerDiv", n.style.position = "fixed", n.style.bottom = "20px", n.style.left = "10px", n.style.width = "50%", n.style.background = "black", n.style.zIndex = "10000", n.style.maxWidth = "400px", n.style.minWidth = "300px", n.style.opacity = "0.9", n.style.padding = "10px", n.style.color = "orange", n.style.overflow = "scroll", document.body.append(n), n.innerHTML = "<br/>Booking.Basic tracking started<br/>", B.env.wholesaler_configuration && B.env.wholesaler_configuration.wholesaler_candidate_ids && B.env.wholesaler_configuration.wholesaler_candidate_ids.length > 0 ? (_ = B.env.wholesaler_configuration.wholesaler_candidate_ids, n.innerHTML = "<br/>Checking with " + _.length + " wholesaler(s): " + _ + n.innerHTML) :(n.innerHTML = "No wholesaler candidates available<br/>", n.style.color = "#f54242"), t(document).ajaxSend(function(e, t, i) {
if (_i_("269:43490a54"), i.url.indexOf(".booking.com/wholesaler/hotel") > -1 && "POST" == i.type) {
var o = JSON.parse(i.data).wholesaler_id;
n.innerHTML = "Availability [" + o + "]: Contacting<br/>" + n.innerHTML;
} else i.url.indexOf("/fragment.") > -1 && i.data && i.data.indexOf("wholesaler.decide_winner_rooms") > -1 && "POST" == i.type && (n.innerHTML = "Decision : Contacting <br/><br/>" + n.innerHTML);
_r_();
}), t(document).ajaxComplete(function(e, t, a) {
if (_i_("269:f75d1686"), a.url.indexOf(".booking.com/wholesaler/hotel") > -1 && "POST" == a.type) {
var s = JSON.parse(a.data).wholesaler_id;
o++, t && t.responseJSON && t.responseJSON.data && null != t.responseJSON.data ? (r = !0, n.innerHTML = "Availability [" + s + "]: Data returned<br/>" + n.innerHTML) :(n.innerHTML = "Availability [" + s + "]: No availability<br/>" + n.innerHTML, o != _.length || r || (n.style.color = "#f54242"));
} else if (a.url.indexOf("/fragment.") > -1 && a.data && a.data.indexOf("wholesaler.decide_winner_rooms") > -1 && "POST" == a.type) if (t && t.responseJSON && t.responseJSON.data && null != t.responseJSON.data && t.responseJSON.data[B.env.b_hotel_id]) n.innerHTML = "Decision: Room returned <br/>" + n.innerHTML, i(n); else if (t && t.responseJSON && t.responseJSON["wholesaler.decide_winner_rooms"] && null != t.responseJSON["wholesaler.decide_winner_rooms"]) {
var l = t.responseJSON["wholesaler.decide_winner_rooms"]["frg-0"];
void 0 == l && (l = t.responseJSON["wholesaler.decide_winner_rooms"]["frg-1"]), void 0 == l && (l = t.responseJSON["wholesaler.decide_winner_rooms"]["frg-2"]), void 0 == l && (l = t.responseJSON["wholesaler.decide_winner_rooms"]["frg-3"]), l && l.data && null != l.data && l.data[B.env.b_hotel_id] ? (n.innerHTML = "Decision: Room returned <br/>" + n.innerHTML, i(n)) :(n.innerHTML = "Decision: No room returned<br/>" + n.innerHTML, n.style.color = "#f54242");
} else n.innerHTML = "Decision: No room returned<br/>" + n.innerHTML, n.style.color = "#f54242";
_r_();
});
}
_r_();
}(), B.require([ "et", "jquery" ], function(e, t) {
_i_("269:9f39e39c"), "msie" == B.env.b_browser && 9 == B.env.b_browser_version && t(function() {
_i_("269:2a315988");
var e = t("#photo_wrapper"), i = e.find(".hp-gallery-slides");
e.on("click", function() {
_i_("269:40b7d377");
var e = i.slick("getSlick"), n = t(e.$slides[e.getCurrent()]), o = n.attr("data-photoid");
if ("last_item_cta" === o) {
var r = n.attr("data-slick-index");
return _r_(t(".bh-photo-modal").trigger("setPos", parseInt(r, 10)));
}
n.hasClass("hp-gallery__slide--landmark") && (o = n.attr("data-landmarkid")), t(".bh-photo-modal").trigger("openPhotoId", o), _r_();
}), _r_();
}), _r_();
}), B.when({
events:"ready",
action:"hotel"
}).run(function() {
_i_("269:dca4a020");
var e = B.require("growl"), t = B.require("jquery"), i = B.require("et"), n = null, o = null, r = t(B.env.is_rooms_table_rewrite ? ".hprt-table" :"table.roomstable"), _ = t(window);
if (!(r.length && _ && i && e)) return _r_();
function a() {
_i_("269:1218916a"), n && (t.noticeRemove(n), n = null), _r_();
}
function s() {
_i_("269:b09ce5f5"), _.scrollTop() + _.height() < r.offset().top || _.scrollTop() > r.offset().top + r.height() ? o && (n || (n = e.trigger("abandoned_rooms_table"), n && n.find(".abandoned-rt-summary").empty().append(o))) :a(), _r_();
}
function l(e) {
_i_("269:520a4e3e"), a(), _.scroll(s), o = e.clone(), o.find(".book_now_best_price_reinforcement").remove(), o.find(".tp-boxit").removeClass("tp-boxit"), o.find(".site_price").removeClass("site_price"), o.show(), _r_();
}
function c() {
_i_("269:4daf520d"), a(), _.off("scroll", s), o = null, _r_();
}
if (B.env.is_rooms_table_rewrite) {
var d = B.require("hotel/store");
d.subscribe(function() {
_i_("269:fb77ae94");
var e = d.getState().roomsTable.js_selection;
if (e.roomCount) {
var i = B.require("hotel/utils/rooms-selected-copy"), n = t(".hprt-summary-dates"), o = n.length ? n.html() :"", r = t("<div>" + i(e.roomTypes, e.roomCount) + ' <div class="hprt-reservation-total-price">' + e.totalPriceFormatted + "</div>" + o + "</div>"), _ = B.env.b_guest_country && !/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|us|id/gim.test(B.env.b_guest_country), a = B.env.b_guest_country && /at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch/gim.test(B.env.b_guest_country);
(B.env.b_guest_country && ("nl" === B.env.b_guest_country || "be" === B.env.b_guest_country) && B.et.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO") && B.et.track("eDUIFcCcCcCDSDJBeHWBZOWRHZGSNBafMGae") || _ && B.et.track("eDUIFaGZHWRHZGSNASVQLSLae") || a && B.et.track("eDUIFaGZHWRHZGSNASVQLKGBHe")) && r.find(".hprt-reservation-total-price").after('<div class="hp-abandoned-cart-charges-text">' + (e.chargesText || "") + "</div>"), l(r);
} else c();
_r_();
});
} else B.events.on(B.hotel.Events.RT.SUMMARY_CHANGE, l), B.events.on(B.hotel.Events.RT.SUMMARY_HIDE, c);
_r_();
}), function(e) {
"use strict";
_i_("269:f15fd60e"), e.require([ "jquery", "hotel/rooms_table/gently_select_rooms" ], function(e, t) {
_i_("269:d90e16c2"), e(".hp-scroll-up-to-dates").on("click", function(e) {
_i_("269:859698f3"), t.scrollToRoomsTable(), _r_();
}), _r_();
}), _r_();
}(window.booking), function(e) {
_i_("269:34935479");
var t = e.require("jquery"), i = "g-hidden", n = "data-breakfast-included", o = "#booking-summary .breakfast-included";
function r(e) {
_i_("269:4b48d5f7");
var t = Object.keys(e).filter(function(t) {
return _i_("269:3fc0f9b1"), _r_(e[t]);
});
return _r_(t.length && t.reduce(function(t, i) {
_i_("269:308d49f8");
var o = e[i];
return _r_(t && "1" === o.$el.closest("tr").attr(n));
}, !0));
}
function _() {
_i_("269:42e19e80");
var n = 1, _ = t(o), a = {};
e.events.on(e.hotel.Events.RT.ROOM_SELECTED, function(e) {
_i_("269:466ce506");
var t = parseInt(e.no_rooms, 10);
a[e.block_id] = t > 0 ? e :null, r(a) ? n && _.removeClass(i) :n && _.addClass(i), _r_();
}), _r_();
}
_(), _r_();
}(window.booking), function(e) {
_i_("269:3652c985"), e.when({
events:"ready"
}).run(function() {
_i_("269:47bde727");
var t = e.require("jquery"), i = e.require("search/searchbox/model").getInstance("main");
i.use("group"), i.on("change", function(e) {
_i_("269:812ac2e8"), "group" == e.group && t(".lp_bold_date_picker_btn").removeClass("b-button_disabled").removeAttr("disabled"), _r_();
}), _r_();
}), _r_();
}(window.booking), B.define("hotel/rooms_table/select_room_tooltip_alert", [ "jquery", "events" ], function(e, t) {
_i_("269:a0633f39");
var i, n, o, r, _ = 4e3, a = 30, s = 600;
l();
function l() {
_i_("269:9b0454be"), r = e(".select_room_tooltip_alert_container"), n = e(".roomstable"), e(".hp-rt-sticky-av-header-message").length && (a = 60), o = n.find(".b_room_selectbox"), _r_();
}
var c = function() {
return _i_("269:73250b38"), _r_(function() {
_i_("269:92f9ad3f");
var e = h();
r.insertAfter(e), r.css("display", "block").animate({
opacity:1
}, s), i = window.setTimeout(function() {
_i_("269:2d54a27b"), r.animate({
opacity:0
}, s, function() {
_i_("269:d55bb45a"), r.hide(), _r_();
}), _r_();
}, _), _r_();
});
}(), d = function() {
return _i_("269:ad7535d1"), _r_(function() {
_i_("269:1165f624"), clearTimeout(i), r.stop().css({
opacity:0,
display:"none"
}), _r_();
});
}();
function h() {
_i_("269:2b8f808d");
var e;
return o.each(function(t, i) {
if (_i_("269:55edea5b"), i.getBoundingClientRect().top > a) return e = i, _r_(!1);
_r_();
}), _r_(e);
}
return _r_({
showMessage:c,
resetMessage:d
});
}), function() {
_i_("269:220b98e1");
var e, t, i, n, o, r = B.require("jquery"), _ = B.require("events"), a = r("#bookNow1 .js-rt__summary__reserve-button"), s = {}, l = !1;
if (B.env.b_is_tablet || !a.length) return _r_();
i = B.env.fe_unified_tooltip ? "data-tooltip-text" :"data-title", e = a.attr(i), t = B.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2");
function c() {
_i_("269:628db634");
var e, _ = [], l = {};
r(".b_room_selectbox").each(function() {
_i_("269:9138dcd4");
var e, t, i = r(this);
if ("0" !== i.val()) {
var t = i.closest("tr");
if (e = t[0].className.match(/room_loop_counter(\d+)/), e && e.length > 1) {
var n = l[e[0]] = l[e[0]] || {};
n.b_room_name = t.siblings(".maintr." + e[0]).find("span:first a:first").text(), n.b_room_policies = n.b_room_policies || [];
var o = {};
t.find(".breakfast_included_policy").length && (o.breakfast = 1), n.b_room_policies.push(o);
}
}
_r_();
}), r.each(l, function(e, t) {
_i_("269:fb22da76"), _.push(t), _r_();
});
for (var c = !!_.lengh, d = !0, h = 0, u = _.length; u > h; h++) if (_[h].b_room_policies) for (var f = 0, p = _[h].b_room_policies.length; p > f; f++) _[h].b_room_policies[f].pay_later || (c = !1), _[h].b_room_policies[f].breakfast || (d = !1);
s = {
b_all_rooms_have_pay_later:c,
b_all_rooms_have_breakfast_included:d,
b_hotel_name:B.env.b_hotel_name,
b_interval:B.env.b_checkin_checkout_interval,
b_checkin_localized_date_with_weekday:B.formatter.date(B.env.b_checkin_date, "date_with_weekday"),
b_checkout_localized_date_with_weekday:B.formatter.date(B.env.b_checkout_date, "date_with_weekday"),
b_check_in_time_translated:B.env.b_check_in_time_translated,
b_check_out_time_translated:B.env.b_check_out_time_translated,
b_room_details:_,
b_user_auth_level_is_low_or_high:B.env.b_user_auth_level_is_low_or_high
}, e = t.render(s), a.attr(i, e).removeAttr("id").attr("data-tooltip-class", "submit_holder_button_tooltip").addClass("tooltip_like_on_bp_bs2"), B.env.fe_unified_tooltip && (o = a.component("tooltip").tooltip, n = o.$tooltip, o.settings.text = e, o.settings.customClass = "submit_holder_button_tooltip", n && n.addClass("submit_holder_button_tooltip").find(".tltp__body").html(e)), _r_();
}
_.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, function(e, t, i, n) {
_i_("269:a09dc162"), l = !0, c(), _r_();
}), _.on(B.hotel.Events.RT.SUMMARY_HIDE, function() {
_i_("269:85ff89f3"), l = !1, a.attr(i, e).removeAttr("id").removeAttr("data-tooltip-class").removeClass("submit_holder_button_tooltip"), B.env.fe_unified_tooltip && (o = a.component("tooltip").tooltip, n = o.$tooltip, o.settings.text = e, o.settings.customClass = "", n && n.removeClass("submit_holder_button_tooltip").find(".tltp__body").html(e)), _r_();
}), a.on("mouseenter", function() {
_i_("269:80fa05b1"), _r_();
}), _r_();
}(), function(e) {
_i_("269:1f72f97c");
var t = e.require("jquery"), i = e.require("lightbox"), n = e.require("events"), o = e.require("trap-focus");
function r() {
_i_("269:7afc7de1"), t(".av-summary-value, .av-summary-button").on("click", function(e) {
_i_("269:146a7fbb"), i.show(t(".av-popup-lightbox"), {
customWrapperClassName:"av-popup-lightbox-wrapper",
bOverflowVisible:!0,
hideCallBack:function() {
_i_("269:7f57483f"), n.trigger("avblock:close"), o.release(), _r_();
}
}, function() {
_i_("269:9617cf2c"), o.trap(t(".av-popup-lightbox-wrapper")[0]), _r_();
}), n.trigger("avblock:open", {
triggerElement:this
}), e.preventDefault(), _r_();
}), _r_();
}
t(r), _r_();
}(booking), B.require([ "jquery", "booking-sticker" ], function(e, t) {
_i_("269:48555c07");
var i = function() {
_i_("269:930459d1"), t.update(), _r_();
};
e(window).on("resize", i).hashchange(i), _r_();
}), B.when({
events:"ready"
}).run(function(e) {
_i_("269:1a12fa7a");
var t = e("jquery");
if (B.env.is_rooms_table_rewrite || B.et.stage("NHWbOTdfEBSCXSWAbDZGRZUTKdPYfJDAaXPbIESaO", 1), !B.env.run_cheapest_room) return _r_();
var i = B.require("search-config"), n = {
b_adults:+i.adults,
b_children:+i.children,
b_children_ages:i.childrenAges,
b_nr_rooms:i.rooms && i.rooms.length || 1,
b_checkin_date:B.env.b_checkin_date,
b_checkout_date:B.env.b_checkout_date,
b_ufi:B.env.b_ufi,
b_is_group_search:i.isGroupSearch
};
if (n.b_is_group_search) return _r_();
var o, r;
function _(e) {
_i_("269:183c0c02");
var i = t.ajax({
method:"GET",
dataType:"json",
url:"/is_cheapest",
data:{
hotel_id:B.env.b_hotel_id,
search_key:a(n)
}
});
i.done(function(t) {
_i_("269:fce8d4a0"), t.b_first || 1 != t.is_the_cheapest ? o && c(o, r) :(o = t.b_room_id, r = t.b_block_id, s() || l(o, r)), e && "function" == typeof e && e(), _r_();
}), i.fail(function() {}), _r_();
}
_(), t(window).bind("focus", function() {
_i_("269:c347f15f"), _(), _r_();
});
function a(e) {
return _i_("269:977c1c34"), _r_([ e.b_ufi, e.b_checkin_date, e.b_checkout_date, e.b_adults ].join("_"));
}
function s() {
return _i_("269:fc9bb9b1"), _r_(t("#cheapestBanner").length);
}
function l(e, i) {
if (_i_("269:afcb9123"), !e || !i) return _r_();
var o = "[id='" + i + "']", r = "td.roomType." + e, _ = "[id='" + i + "'] > .roomPrice", a = t(o), s = t(o).prevAll("tr.maintr").first().find(r), l = t(_);
if (2 == B.et.track("TAeALOLOLOdfdPIFdCALPeVNXKbMOKe") && a.hasClass("hideNonPreferredRow")) return B.et.customGoal("TAeALOLOLOdfdPIFdCALPeVNXKbMOKe", 2), _r_();
if (a.length && l.length && s.length) {
var c;
c = {
block_id:i,
room_id:e,
city_name:B.env.b_city_name,
in_city_name:B.env.b_in_city_name,
num_nights:B.env.b_checkin_checkout_interval,
checkin_date:B.env.b_checkin_date,
checkout_date:B.env.b_checkout_date,
num_adults:B.env.b_occupancy.adults,
is_group_search:n.b_is_group_search
}, B.env.b_less_shouty_persuasion && (c.less_shouty_persuasion = !0);
var d = B.jstmpl("cheapest_banner_block").render(c);
a.after(d), a.addClass("cheapest_room_row"), l.addClass("cheapest_banner_arrow"), s[0].rowSpan = s[0].rowSpan + 1;
}
_r_();
}
function c(e, i) {
if (_i_("269:c6f05595"), !e || !i) return _r_();
var n = "[id='" + i + "']", o = "td.roomType." + e, r = "[id='" + i + "'] > .roomPrice", _ = t(n), a = t("#cheapestBanner"), s = t(n).prevAll("tr.maintr").first().find(o), l = t(r);
_.length && a.length && l.length && s.length && (a.remove(), _.removeClass("cheapest_room_row"), l.removeClass("cheapest_banner_arrow"), s[0].rowSpan = s[0].rowSpan - 1), _r_();
}
_r_();
}), B.when({
action:"hotel",
condition:!B.env.is_rooms_table_splitter,
events:B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE
}).run(function(e) {
_i_("269:a2661f8c");
var t = e("jquery");
t(".rt-summary-dates").removeClass("g-hidden"), _r_();
}), B.when({
events:"mouseenter .reviews-carousel",
experiment:"ABcLAVAPOSdLEWCFZVfCdWe",
stage:1
}), B.define("component/reviews/review-book-button", [ "jquery", "component" ], function(e, t) {
_i_("269:377eec53");
var i = B.hotel.hashedTabs;
return _r_(t.extend({
init:function() {
_i_("269:49688915"), this.$submitButton = this.$el.find("button"), this.roomId = this.$el.attr("data-room-id"), this.bindEvents(), _r_();
},
bindEvents:function() {
_i_("269:99ed0982"), this.$submitButton.click(this.goToRoom.bind(this)), _r_();
},
goToRoom:function() {
_i_("269:cb5675e2");
var t = e("#" + this.roomId);
if (t.length || (t = e("#no_availability_msg")), !t.length) return _r_();
i.showTab("main"), window.location.hash = "", e("html, body").animate({
scrollTop:t.offset().top - e(".roomstable thead").height() - 10
}, 500, "easeOutCubic"), _r_();
}
}));
}), B.require([ "jquery", "et", "events", "hotel/utils/click-area" ], function(e, t, i) {
_i_("269:9daccb08");
var n = e("#photos_distinct"), o = e(".bh-photo-modal"), r = e(".hp-gallery-container .hp-gallery");
n.on("click", ".hotel_thumbs_sprite", function(t) {
_i_("269:b8e34294");
var i = e(this), n = i.attr("data-photoid"), _ = e(t.target);
if (e('.hp-gallery-navigation-link[data-toggle="hp-gallery-streetview"]').length) return _r_();
if (_.hasClass("hp-gallery-categories__list_item")) return _r_();
if ("last_item_cta" === n) {
var a = r.find(".js-gallery__last-item").attr("data-slick-index");
return _r_(o.trigger("setPos", parseInt(a, 10)));
}
i.hasClass("hotel_thumbs-landmark") && (n = i.attr("data-landmarkid")), o.trigger("openPhotoId", n), _r_();
}), i.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED, function(t) {
_i_("269:9dec0685");
var i = e("#photo_wrapper .hp-gallery-slides"), n = i.slick("getSlick");
n && n.goTo && n.goTo(t, !0), _r_();
}), _r_();
}), function(e) {
_i_("269:7eb8cc04");
var t = e.require("jquery"), i = "ZOISdGaGLJWcFQTKbRbDHe";
function n() {
_i_("269:a13f9230"), t(".hp-faq-link").on("click", function() {
_i_("269:1f7c9fc2"), e.et.customGoal(i, 1), _r_();
}), t(".hp-faq-btn").on("click", function() {
_i_("269:26282bc4"), e.et.customGoal(i, 2), _r_();
}), _r_();
}
t(n), _r_();
}(booking), function() {
_i_("269:c9597773");
var e = B.require("jquery"), t = e("#js--hp-gallery-scorecard"), i = "ABbDSFWJVBZEWVdSVLBLFPWHT";
t.on("mouseenter", function() {
_i_("269:65cc1d51"), B.et.stage(i, 1), _r_();
}), B.et.track(i) && t.on("click", function() {
_i_("269:c23855e5"), window.location.hash = "#tab-reviews", _r_();
}), _r_();
}(), function() {
_i_("269:a62956b2");
var e = B.require("jquery"), t = "ZOILOOTESdBJFDbJeZBOEQTeVT", i = !1;
e(".hp_nav_bar").on("click", "a", function() {
_i_("269:997b8985");
var n = e(this);
n.hasClass("hp_nav_availability_link") ? (B.et.customGoal(t, 1), i = !0) :i && B.et.customGoal(t, 2), _r_();
}), _r_();
}(), B.define("component/hotel/new-rooms-table/mx/excluded-charges", function(e, t, i) {
_i_("269:f695b372");
var n = e("component"), o = e("hotel/store");
i.exports = n.extend({
init:function() {
_i_("269:bba1bd58"), o.subscribe(function() {
_i_("269:bb0103fd");
var e = o.getState().roomsTable.js_selection;
e.roomCount > 0 ? this.$el.removeClass("g-hidden") :this.$el.addClass("g-hidden"), _r_();
}.bind(this)), _r_();
}
}), _r_();
}), B.define("component/hotel/new-rooms-table/experiment_single-select-button", function(e, t, i) {
_i_("269:ebf02ee4");
var n = e("component"), o = e("jquery");
i.exports = n.extend({
init:function() {
_i_("269:1b4fa3de");
var e = this.$el;
e.click(function() {
_i_("269:cff11e87");
var t, i = o('#hprt-form input[type="hidden"].js-added-room-input');
i.length ? i.attr("name", "nr_rooms_" + e.attr("data-block-id")) :(t = o('<input type="hidden" class="js-added-room-input">').attr("name", "nr_rooms_" + e.attr("data-block-id")).val(1), o("#hprt-form").append(t)), o("#hprt-form").submit(), _r_();
}), _r_();
}
}), _r_();
}), B.when({
events:"ready",
action:"hotel",
condition:B.require("jquery")("[data-hotel-select-rooms]").length
}).run(function(e) {
_i_("269:813b4663");
var t = e("jquery"), i = e("hotel/store"), n = e("hotel/redux/actionTypes"), o = e("hotel/rooms_table/gently_select_rooms"), r = e("lightbox"), _ = t("[data-hotel-select-rooms]"), a = t("#hprt-form .hprt-table"), s = "hprt-block--room-selected", l = [], c = !1, d = e("server-data"), h = e("events");
i.subscribe(function() {
if (_i_("269:92003300"), !c) return _r_();
a.find(l.join(",")).removeClass(s), c = !1, _r_();
}), _.on("click", function(e) {
_i_("269:621767b8"), e.preventDefault(), r.hide(), o.scrollToRoomsTable(1e3, u), d.is_d_group_rec_booked_tracking_fix && h.trigger(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED), _r_();
});
function u() {
_i_("269:bfe794ad");
var e = _.data("rooms").split(" ");
l = [], e.forEach(function(e) {
if (_i_("269:71f35088"), !e) return _r_();
var t = e.split(":"), o = t[0];
i.dispatch({
type:n.SELECT_ROOM,
block_id:o,
number_of_rooms:parseInt(t[1], 10)
}), l.push('tr[data-block-id="' + o + '"] td.hprt-table-cell:not(.-first, .-last)'), _r_();
}), a.find(l.join(",")).addClass(s), c = !0, _r_();
}
_r_();
}), B.require([ "jquery", "et" ], function(e, t) {
_i_("269:13bac6ca");
var i = e("#left .hp-social_proof"), n = e("#faq_area"), o = e(".roomstable"), r = e(".sidebar_hotel_review_score"), _ = i.offset(), a = o.offset();
if (!(_ && a && n.length && r.length)) return _r_();
_.top > a.top && (i.insertBefore(n), r.insertBefore(i)), _r_();
}), B.require([ "jquery", "et" ], function(e, t) {
_i_("269:141fc766");
var i = e(".facility-badge__icon-hp");
i.length && t.stage("TAeKPWbOTVLeFNVBUKcfTLKGBfSBET", 1), _r_();
}), B.define("component/tooltip", function(e, t, i) {
_i_("269:afc240e6");
var n = e("component"), o = e("jquery"), r = e("tooltip"), _ = function(e) {
_i_("269:bcfa41f3");
var t = {}, i = e.data();
return o.each(i, function(e, i) {
_i_("269:2ec6db28");
var n;
if (e.length < 8 || 0 !== e.indexOf("tooltip")) return _r_();
e = e.substring(7), n = e[0].toLowerCase() + e.slice(1), t[n] = i, _r_();
}), t.target = e, _r_(t);
}, a = function() {
_i_("269:f63c485a");
try {
if (!B.env.fe_unified_tooltip) {
var e = _(this.$el);
this.tooltip = r.setup(e);
}
} catch (t) {
B.reportError("[Tooltip] Error while creating tooltip instance.", t);
}
_r_();
};
i.exports = n.extend({
init:a
}), _r_();
}), /**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
function() {
_i_("269:5a315cfe");
var e, t;
if (e = this.jQuery || window.jQuery || (window.B && B.require ? B.require("jquery") :null), !e) return _r_();
t = e(window), e.fn.stick_in_parent = function(i) {
_i_("269:4906fa21");
var n, o, r, _, a, s, l, c, d, h, u, f, p;
for (null == i && (i = {}), p = i.sticky_class, s = i.inner_scrolling, f = i.recalc_every, u = i.parent, d = i.offset_top, c = i.spacer, r = i.bottoming, null == d && (d = 0), null == u && (u = void 0), null == s && (s = !0), null == p && (p = "is_stuck"), n = e(document), null == r && (r = !0), h = function(e) {
_i_("269:c587f432");
var t, i, n;
return window.getComputedStyle ? (t = e[0], i = window.getComputedStyle(e[0]), n = parseFloat(i.getPropertyValue("width")) + parseFloat(i.getPropertyValue("margin-left")) + parseFloat(i.getPropertyValue("margin-right")), "border-box" !== i.getPropertyValue("box-sizing") && (n += parseFloat(i.getPropertyValue("border-left-width")) + parseFloat(i.getPropertyValue("border-right-width")) + parseFloat(i.getPropertyValue("padding-left")) + parseFloat(i.getPropertyValue("padding-right"))), _r_(n)) :_r_(e.outerWidth(!0));
}, _ = function(i, o, _, a, l, b, m, g) {
_i_("269:c112498d");
var v, y, w, M, k, B, C, T, x, E, S, N;
if (i.data("sticky_kit")) return _r_();
if (i.data("sticky_kit", !0), k = n.height(), C = i.parent(), null != u && (C = C.closest(u)), !C.length) throw "failed to find stick parent";
if (w = !1, v = !1, S = null != c ? c && i.closest(c) :e("<div />"), S && S.css("position", i.css("position")), T = function() {
_i_("269:124655f8");
var e, t, r;
if (g) return _r_();
if (k = n.height(), e = parseInt(C.css("border-top-width"), 10), t = parseInt(C.css("padding-top"), 10), o = parseInt(C.css("padding-bottom"), 10), _ = C.offset().top + e + t, a = C.height(), w && (w = !1, v = !1, null == c && (i.insertAfter(S), S.detach()), i.css({
position:"",
top:"",
width:"",
bottom:""
}).removeClass(p), r = !0), l = i.offset().top - (parseInt(i.css("margin-top"), 10) || 0) - d, b = i.outerHeight(!0), m = i.css("float"), S && S.css({
width:h(i),
height:b,
display:i.css("display"),
"vertical-align":i.css("vertical-align"),
"float":m
}), r) return _r_(N());
_r_();
}, T(), b === a) return _r_();
return M = void 0, B = d, E = f, N = function() {
_i_("269:87f12db0");
var e, h, u, y, x, N;
if (g) return _r_();
if (u = !1, null != E && (E -= 1, 0 >= E && (E = f, T(), u = !0)), u || n.height() === k || (T(), u = !0), y = t.scrollTop(), null != M && (h = y - M), M = y, w ? (r && (x = y + b + B > a + _, v && !x && (v = !1, i.css({
position:"fixed",
bottom:"",
top:B
}).trigger("sticky_kit:unbottom"))), l > y && (w = !1, B = d, null == c && (("left" === m || "right" === m) && i.insertAfter(S), S.detach()), e = {
position:"",
width:"",
top:""
}, i.css(e).removeClass(p).trigger("sticky_kit:unstick")), s && (N = t.height(), b + d > N && (v || (B -= h, B = Math.max(N - b, B), B = Math.min(d, B), w && i.css({
top:B + "px"
}))))) :y > l && (w = !0, e = {
position:"fixed",
top:B
}, e.width = "border-box" === i.css("box-sizing") ? i.outerWidth() + "px" :i.width() + "px", i.css(e).addClass(p), null == c && (i.after(S), ("left" === m || "right" === m) && S.append(i)), i.trigger("sticky_kit:stick")), w && r && (null == x && (x = y + b + B > a + _), !v && x)) return v = !0, "static" === C.css("position") && C.css({
position:"relative"
}), _r_(i.css({
position:"absolute",
bottom:o,
top:"auto"
}).trigger("sticky_kit:bottom"));
_r_();
}, x = function() {
return _i_("269:edf1750f"), T(), _r_(N());
}, y = function() {
if (_i_("269:fcbea21a"), g = !0, t.off("touchmove", N), t.off("scroll", N), t.off("resize", x), e(document.body).off("sticky_kit:recalc", x), i.off("sticky_kit:detach", y), i.removeData("sticky_kit"), i.css({
position:"",
bottom:"",
top:"",
width:""
}), C.position("position", ""), w) return null == c && (("left" === m || "right" === m) && i.insertAfter(S), S.remove()), _r_(i.removeClass(p));
_r_();
}, t.on("touchmove", N), t.on("scroll", N), t.on("resize", x), e(document.body).on("sticky_kit:recalc", x), i.on("sticky_kit:detach", y), _r_(setTimeout(N, 0));
}, a = 0, l = this.length; l > a; a++) o = this[a], _(e(o));
return _r_(this);
}, _r_();
}.call(this), B.define("component/toggle", function(e, t, i) {
_i_("269:bb2ce23e");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("269:53ad0a50"), this.$el.on("click", "[data-toggle]", function() {
_i_("269:b64cf2d8"), this.find("[data-togglable]").toggle(), this.toggleClass("-toggled"), _r_();
}.bind(this.$el)), _r_();
}
}), _r_();
}), booking.define("component/collapse", function(e, t, i) {
_i_("269:c7146bfd");
var n = e("component"), o = e("et");
i.exports = n.extend({
init:function() {
_i_("269:f73ba2f7"), this.$el.on("click", this.toggle.bind(this)), this.$target = this.$el.data("collapse-target") ? this.$el.closest(this.$el.data("collapse-target")) :this.$el, this.trackGoal = this.$el.data("collapse-goal") || !1, _r_();
},
toggle:function() {
_i_("269:c2e24f17"), this.$target.hasClass("b-collapse__collapsed") ? (this.$target.removeClass("b-collapse__collapsed"), this.$target.addClass("b-collapse__expanded")) :(this.$target.addClass("b-collapse__collapsed"), this.$target.removeClass("b-collapse__expanded")), this.trackGoal && o.customGoal(this.trackGoal, 1), _r_();
}
}), _r_();
}), B.require([ "jquery", "window-scroller" ], function(e, t) {
_i_("269:37e1ae1d"), e(".all-inclusive-usp-btn").click(function(i) {
return _i_("269:240e82ad"), e(".whats-included-btn").component("core/sliding-panel-trigger").model.hide(), setTimeout(function() {
_i_("269:fd378593"), t.scrollToBlock(e(".has_all_inclusive_rate:first td:first"), !0, 500, 42), _r_();
}, 10), _r_(!1);
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function() {
_i_("269:e652bca1");
var e = $(".hp-section__exp-highlight");
if (!e.length) return _r_();
B.tools.dom.watchIfBlockVisibleInViewport(e, function() {
_i_("269:8a028fc9"), setTimeout(function() {
_i_("269:1c5effc3"), e.addClass("hp-section__highlighted"), _r_();
}, 1e3), _r_();
}, !0), _r_();
}), B.when({
events:"ready"
}).run(function(e) {
_i_("269:b21bcbc0");
var t = e("jquery");
t(".rc-policy-open").on("click", function(e) {
_i_("269:dcd10b45"), e.preventDefault();
var i = t(this), n = i.parents("div.rt_resort_credits_info--policy");
n.find(".rt_resort_credits_info--policy-details").stop(!0, !0).slideToggle("fast"), _r_();
}), _r_();
}), B.when({
action:"hotel",
condition:B.env.b_has_valid_dates && 2 === B.env.b_occupancy.adults
}).run(function(e) {
_i_("269:f421cb9e");
var t = e("jquery"), i = e("et");
t(".single-occ-only").mouseenter(function() {
_i_("269:91ab6b0b"), t(this).closest("tr").find(".single-occupancy-alert").addClass("showalert"), i.stage("YdAQADWHCDGNKJXcGBIQNNDeQcJWe", 2), _r_();
}).mouseleave(function() {
_i_("269:872cdbb6"), t(".single-occupancy-alert").removeClass("showalert"), _r_();
}), _r_();
}), function() {
"use strict";
_i_("269:c925e1dd");
var e = B.require("jquery"), t = i();
function i() {
return _i_("269:fd81cae2"), _r_(B.require("sliding-panel-model").get("hp-reviews-sliding").isPanelShown());
}
B.when({
events:"user_center_bar:init",
condition:1 === B.env.b_has_hotel_history && !B.env.b_is_coming_back && "hotel" === B.env.b_action && !window.location.hash.match(/map_opened/) && !t
}).run(n);
function n() {
_i_("269:5ac4396a"), i() || e(".uc_viewed_hotels .popover_trigger").append("<span class='no-trigger-resize'></span>").find(".no-trigger-resize").trigger("click"), _r_();
}
_r_();
}(), function() {
_i_("269:171916e5");
var e = function() {
_i_("269:057f27c3");
var e = window.jQuery, t = window.booking, i = "emk:info_gathering_shown", n = "#emk-info-gathering-modal", o = t.lightbox, r = 864e5, _ = !1;
function a() {
return _i_("269:fad7c2aa"), _r_(e.cookie && "function" == typeof e.cookie);
}
function s() {
_i_("269:f1f3aee9"), a() && e.cookie(i, "1", {
expires:30,
path:"/",
domain:t.env.b_domain_end
}), _r_();
}
function l(e, t) {
return _i_("269:3d7a1c6b"), _r_(parseInt((t - e) / r, 10));
}
function c() {
_i_("269:b696c7b7");
var r = a() && "1" === e.cookie(i);
if (r || !e(n).length) return _r_();
t.user && "object" == typeof t.user && (t.user.showUserLoginOnLoad = !1);
var c = e("#frm"), d = e("#emk-info-gathering-modal"), h = d.find(".js-emk-info-gathering-submit-btn"), u = d.find(".emk-info-gathering-modal-error-feedback");
t.eventEmitter.bind(t.Search.Events.DATE_CHANGED, function() {
_i_("269:4027aaef");
var e = t.search.dates("checkin") ? t.search.dates("checkin").dateObject_ :0, i = t.search.dates("checkout") ? t.search.dates("checkout").dateObject_ :0;
l(e, i) > 30 ? (u.show(), h.addClass("is-disabled")) :(u.hide(), h.removeClass("is-disabled")), _r_();
}), t.eventEmitter.bind(t.Search.Events.DATE_INVALID, function(e, t) {
if (_i_("269:67c37c7c"), !t.validators) return _r_();
_ = !0, _r_();
}), o.show(n, {
customWrapperClassName:"emk-info-gathering-modal-wrapper",
bCloseButton:!1,
hideCallBack:function() {
_i_("269:8fc81ea8"), s(), _r_();
}
}), e(".js-emk-info-gathering-modal-close").click(function(t) {
_i_("269:81cf4914"), t.preventDefault(), o.hide(e(n)), _r_();
}), h.click(function() {
if (_i_("269:ff8d821a"), e(this).hasClass("is-disabled")) return _r_();
"hotel" == t.env.b_action ? e("#hotelpage_availform").submit() :c.submit(), o.hide(e(n)), !_ && t.fullLoadingOverlay && t.fullLoadingOverlay.startOverlay && t.fullLoadingOverlay.startOverlay(), _r_();
}), _r_();
}
return _r_({
priority:9,
init:c
});
}();
B.when({
events:"ready"
}).run(function(t) {
_i_("269:e9d3b0d6"), e.init(), _r_();
}), _r_();
}(), function() {
_i_("269:5979a3a4"), B.when({
action:"hotel",
events:"ready",
condition:B.env.b_is_landing
}).require([ "jquery" ], function(e) {
_i_("269:614088bf"), 413084 == B.env.b_partner_id && e("html, body").animate({
scrollTop:e("#hp_hotel_name").offset().top - 10
}, 2e3), _r_();
}), _r_();
}(), B.define("leaving-users-event", function() {
_i_("269:8c1e912d");
var e = B.require("events"), t = function() {};
return t.prototype.init = function() {
_i_("269:4d08f22b"), this.initialized_ || (this.page_ = $(document.documentElement), this.lastMouseYCoords_ = [], this.windowFocused_ = !0, this.attachEvents_(), this.initialized_ = !0), _r_();
}, t.prototype.attachEvents_ = function() {
_i_("269:a7443897");
var e = this;
this.page_.bind({
"mousemove.LeavingUsersEvent":function(t) {
_i_("269:adebf0c8"), e.onPageMouseMove_(t), _r_();
},
"mouseleave.LeavingUsersEvent":$.proxy(this.onPageMouseLeave_, this)
}), $(window).focus(function() {
_i_("269:7f9eb59e1"), e.windowFocused_ = !0, _r_();
}).blur(function() {
_i_("269:cd927c9a1"), e.windowFocused_ = !1, _r_();
}), _r_();
}, t.prototype.detachEvents_ = function() {
_i_("269:7cdb1871"), this.page_.unbind(".LeavingUsersEvent"), _r_();
}, t.prototype.onPageMouseMove_ = function(e) {
_i_("269:d9b1f272"), this.writeMouseCoords_(e), _r_();
}, t.prototype.onPageMouseLeave_ = function() {
if (_i_("269:0b89eebc"), !this.wasMouseMoveUpwards_()) return _r_();
this.triggerTabLeaveEvent_(), _r_();
}, t.prototype.triggerTabLeaveEvent_ = function() {
_i_("269:785d7cbc"), e.trigger("leaving-users-event:tab-leave"), _r_();
}, t.prototype.writeMouseCoords_ = function(e) {
_i_("269:5a95a1f1"), this.lastMouseYCoords_.push(e.pageY), this.lastMouseYCoords_.length > 2 && this.lastMouseYCoords_.shift(), _r_();
}, t.prototype.wasMouseMoveUpwards_ = function() {
return _i_("269:73b28033"), _r_(this.lastMouseYCoords_.length >= 2 && this.lastMouseYCoords_[0] > this.lastMouseYCoords_[1]);
}, _r_(new t());
}), function() {
_i_("269:98c03822"), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:7c5a1a0b");
var t = e("events"), i = e("querystring"), n = i.parseUrl(location.href), o = n.query;
t.on("SearchBox::Submit__Success", function() {
_i_("269:8d7861b9");
var e = B.search.dates("checkin").toString(), t = B.search.dates("checkout").toString();
r(e, t, o.checkin, o.checkout) && (o.checkin = e, o.checkout = t, o.hp_refreshed_with_new_dates = 1, delete o.checkin_month, delete o.checkin_monthday, delete o.checkin_year, delete o.checkout_month, delete o.checkout_monthday, delete o.checkout_year, setTimeout(function() {
_i_("269:7addf38d"), window.location.replace(n.base + "?" + i.stringify(o)), _r_();
}, 3e3)), _r_();
});
function r(e, t, i, n) {
if (_i_("269:e8e8c05e"), "" === e || "" === t) return _r_(!1);
return _r_(i !== e || n !== t);
}
_r_();
}), _r_();
}(), function() {
_i_("269:cf188a35"), B.when({
events:"ready"
}).run(function() {
_i_("269:89e0ce6b"), e(), _r_();
});
function e() {
_i_("269:41e54633");
var e = B.require("hotel/events");
if (/from_bs2_modify=1/.test(window.location.href)) {
B.events.trigger("open-tab", {
tab:"main"
});
var t = $("#tdot_rooms_table_wrapper").length ? $("#tdot_rooms_table_wrapper") :$("#availability_target");
setTimeout(function() {
_i_("269:74cc763a"), e.trigger(e.UI_SCROLL_STARTED), $("html, body").animate({
scrollTop:t.offset().top - 20
}, 1e3, function() {
_i_("269:ecf7b2b9"), e.trigger(e.UI_SCROLL_COMPLETED), _r_();
}), _r_();
}, 500);
}
_r_();
}
_r_();
}(), B.define("utils/photo-ml-tag-copy", function(e, t, i) {
_i_("269:bbdf5c84"), i.exports = {
getCopyForMLTags:function(e) {
_i_("269:dc9aa8f7");
for (var t, i = {
6:"bh_fun_photo_kitchen_v4",
7:"bh_fun_photo_whole_rm_v1",
8:"bh_fun_photo_seating_gf_v2",
9:"bh_fun_photo_dining_gf_v1",
11:"bh_fun_photo_whole_rm_v2",
12:"bh_fun_photo_media_v1",
15:"bh_fun_photo_outdoor_v3",
16:"bh_fun_photo_outdoor_v3",
17:"bh_fun_photo_outdoor_v3",
20:"bh_fun_photo_family_v1",
21:"bh_fun_photo_nabe_v1",
22:"bh_fun_photo_nabe_v2",
23:"bh_fun_photo_nabe_v1",
24:"bh_fun_photo_views_generic_v4",
25:"bh_fun_photo_views_generic_v4",
26:"bh_fun_photo_nabe_v1",
27:"bh_fun_photo_views_generic_v4",
28:"bh_fun_photo_views_generic_v4",
29:"bh_fun_photo_views_generic_v4",
30:"bh_fun_photo_views_generic_v4",
31:"bh_fun_photo_views_generic_v4",
32:"bh_fun_photo_views_generic_v4",
33:"bh_fun_photo_views_generic_v4",
34:"bh_fun_photo_views_generic_v4",
37:"bh_fun_photo_bbq_v1",
39:"bh_fun_photo_nabe_v2",
63:"bh_fun_photo_family_v2",
64:"bh_fun_photo_family_v2",
65:"bh_fun_photo_family_v2",
66:"bh_fun_photo_pets_v1"
}, n = 0; n < e.length; n++) {
if (parseFloat(e[n].score) < .95) continue;
if (!i[e[n].id]) continue;
(!t || t.score < parseFloat(e[n].score)) && (t = {
tagId:+e[n].id,
copy:i[e[n].id],
score:parseFloat(e[n].score)
});
}
return _r_(t && t.copy);
}
}, _r_();
}), B.define("hotel/track/photo-modal", function(e) {
_i_("269:14f0d97a");
var t = e("events"), i = B.hotel.Events, n = e("ga-tracker"), o = e("et"), r = n.hotelPageTracker, _ = "PhotoGrid";
t.on(i.PhotoGrid.MODAL_OPENED, function() {
_i_("269:fb31dea2"), o.goal("bh_modal_gallery_open"), _r_();
}), t.on(i.PhotoGrid.GRID_SEE_ALL_CLICKED, function() {
_i_("269:7ab6503b"), n.trackEvent(r, _, "See all clicked"), _r_();
}), t.on(i.PhotoGrid.GRID_ELEMENT_CLICKED, function() {
_i_("269:41b93e79"), n.trackEvent(r, _, "Grid Picture clicked"), _r_();
}), t.on(i.PhotoGrid.MODAL_GROUP_CLICKED, function() {
_i_("269:42a7c146"), n.trackEvent(r, _, "Modal Group Clicked"), _r_();
}), t.on(i.PhotoGrid.MODAL_SAW_GENERAL_GROUP, function() {
_i_("269:2722e08e"), n.trackEvent(r, _, "Modal Saw General Picture"), _r_();
}), t.on(i.PhotoGrid.MODAL_RESERVE_CLICKED, function() {
_i_("269:5e03e807"), n.trackEvent(r, _, "Modal Reserve button/link Clicked"), o.goal("bh_modal_gallery_cta_click"), _r_();
}), t.on(i.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED, function() {
_i_("269:25982540"), n.trackEvent(r, _, "Modal Closed button Clicked"), _r_();
}), t.on(i.PhotoGrid.MODAL_VIEW_ALL_PHOTOS, function() {
_i_("269:117b9cad"), n.trackEvent(r, _, "Modal All Pictures Viewed"), _r_();
}), t.on(i.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG, function() {
_i_("269:008750fb"), n.trackEvent(r, _, "Modal Saw Persuasive Tag"), _r_();
}), _r_();
}), B.define("component/bh-photo-modal", function(e, t, i) {
_i_("269:e9ce92bb");
var n = e("component"), o = e("events"), r = e("jquery"), _ = B.hotel.Events, a = e("et"), s = e("utils/photo-ml-tag-copy"), l = window && window.devicePixelRatio ? window.devicePixelRatio :1;
"hotel" === B.env.b_action && e("hotel/track/photo-modal"), i.exports = n.extend({
created:!1,
opened:!1,
photos:null,
currPos:null,
currMainPos:null,
photosCache:{},
vrPhotosCache:{},
photoByIdCache:{},
photosViewed:[],
review_scores_gallery:[],
trackedPhotosViewed:!1,
animationRunning:!1,
init:function() {
_i_("269:680a913a"), this.isRtl = this.$el.data("is-rtl") || 0, this.photos = B.env.hotelPhotos, this.$modal = r(".bh-photo-modal"), this.$imageContainer = r(".bh-photo-modal-image-container"), this.$caption = r(".bh-photo-modal-caption-inner"), this.$captionContainer = r(".bh-photo-modal-caption-thumbs"), this.$thumbsViewport = r(".bh-photo-modal-thumbs-viewport"), this.$thumbsContainer = r(".bh-photo-modal-thumbs-container"), this.$reviews = r(".bh-photo-modal-reviews"), this.isWithReviews = this.$reviews.length, this.$photoTags = r(".bh-gallery__photo_tags");
var e = this;
"undefined" != typeof B.env.review_scores && r.each(B.env.review_scores, function(t, i) {
_i_("269:dd9b4d80"), i.score >= 8 && e.review_scores_gallery.push(i), _r_();
}), this.bindEvents(), B.env.run_cinematic_gallery && (this.$el.on("openPhotoId", function(e, t) {
_i_("269:9e27a9b4"), this.openModal(), this.goToId(t), _r_();
}.bind(this)), this.$el.on("setPos", function(e, t) {
_i_("269:da6f67f0"), this.openModal(), setTimeout(this.setPos.bind(this, t), 10), _r_();
}.bind(this))), this.$el.on("showModal", function() {
_i_("269:895c56f0"), this.openModal(), setTimeout(this.setPos.bind(this, 0), 10), _r_();
}.bind(this)), this.$el.on("showNext", function() {
_i_("269:054f353d"), this.showNext(), _r_();
}.bind(this)), this.$el.on("reCreate", function() {
_i_("269:fd2dc912"), this.photos = B.env.hotelPhotos, this.createDOM(!0), _r_();
}.bind(this)), B.env.b_open_cinematic_gallery && (this.openModal(), this.setPos(0));
var t = B.require("querystring"), i = t.parse(B.env.b_original_url);
i.from_hc_img && setTimeout(this.setPos.bind(this, 0), 10), this.activePhotoId = "", _r_();
},
bindEvents:function() {
_i_("269:b81b3347"), r(".bh-photo-grid").on("click", ".bh-photo-grid-item", this.gridItemClick.bind(this)), this.$modal.on("click", ".hp_gallery_attr_slide__attr_details__text.first", this.reserveClicked.bind(this)), this.$modal.on("click", ".gallery__last-item__cta", this.reserveClicked.bind(this)), this.$modal.on("click", '[data-elem="reserve-btn"]', this.reserveClicked.bind(this)), this.$modal.on("click", ".gallery-info__rn, .gallery-info__fc, .gallery-info__um", this.scrollToRoom.bind(this)), this.$modal.on("click", ".bh-photo-modal-thumb", this.modalThumbClick.bind(this)), this.$modal.on("click", ".bh-group-pill", this.modalGroupClick.bind(this)), this.$modal.on("click", ".bh-photo-modal-close", this.closeModal.bind(this, {
closeButtonClicked:!0
})), this.$modal.on("click", ".bh-close-modal", this.closeModal.bind(this)), this.$modal.on("click", ".bh-photo-modal-prev", this.showPrev.bind(this)), this.$modal.on("click", ".bh-photo-modal-next, .bh-photo-modal-image-container", this.showNext.bind(this)), this.$modal.on("click", ".bh-photo-modal-name-cta .b-button:not(.bh-close-modal)", function(e) {
_i_("269:70e3e904"), this.sendPhotoId.call(this), this.reserveClicked.call(this, e), _r_();
}.bind(this)), this.$modal.on("click", function(e) {
_i_("269:786d325c");
var t = r(e.target);
t.closest(".reviewFloater").length || t.closest(".bh-photo-modal-thumbs-container").length || t.closest(".js-no-close").length || this.closeModal(), t.data("triggerModalEvent") && setTimeout(function() {
_i_("269:0421f920"), setTimeout(function() {
_i_("269:f278bf26"), String(t.data("triggerModalEvent")).split(/ +/).forEach(function(e) {
_i_("269:7b1016b2"), o.emit(r.trim(e)), _r_();
}), _r_();
}, 0), _r_();
}, 0), _r_();
}.bind(this)), r(window).on("load", this.createDOM.bind(this)), r(window).on("resize", this.windowResize.bind(this)), r(document).on("keyup", this.keyUp.bind(this)), r(document).on("keydown", this.keyDown.bind(this)), _r_();
},
buildThumbs:function() {
_i_("269:e47e1cfe");
var e, t, i, n = this.photos.length, o = "", r = "", _ = B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder");
for (e = 0; n > e; e++) t = this.photos[e], i = t.thumb_className || "", r = t.thumb_contains_jstmpl ? B.jstmpl(t.thumb_contains_jstmpl).render(t.thumb_contains_jstmpl_data || {}) :"", o += '<a data-id="' + t.id + '" title="' + _ + '" href="' + t.large_url + '" target="_blank" class="bh-photo-modal-thumb ' + i + '">', o += '<img alt="' + (t.name || _) + '" src="' + t.thumb_url + '"/>', t.thumb_contains && (o += t.thumb_contains), r && (o += r), o += "</a>";
return _r_(o);
},
isLastSlide:function() {
return _i_("269:ec39e8f1"), _r_(!!this.$imageContainer.find(".js-gallery__last-item").length);
},
createDOM:function(e) {
if (_i_("269:5047f764"), !e && (this.created || !this.photos)) return _r_();
this.$thumbsContainer.html(this.buildThumbs()), this.created = !0, o.emit(_.PhotoGrid.MODAL_DOM_READY), _r_();
},
goToId:function(e) {
_i_("269:0430f08c"), e = e.toString();
var t = this.findPosById(e);
this.setPos(t), _r_();
},
gridItemClick:function(e) {
_i_("269:22b0f1f6");
var t = r(e.currentTarget), i = t.data("id");
return t.hasClass("bh-photo-grid-item-see-all") ? o.emit(_.PhotoGrid.GRID_SEE_ALL_CLICKED) :o.emit(_.PhotoGrid.GRID_ELEMENT_CLICKED), this.openModal(), i ? this.goToId(i) :null === this.currPos && this.setPos(0), _r_(!1);
},
goToSlide:function(e, t) {
_i_("269:3f2e233e");
var i = r(e).data("nav"), n = null, o = null, _ = t.photos.length, a = r(".bh-photo-grid-photo1");
"next" == i ? n = _ <= t.currMainPos + 1 ? 0 :t.currMainPos + 1 :"prev" == i && (n = 0 > t.currMainPos - 1 ? _ - 1 :t.currMainPos - 1), a.data("id", t.photos[n].id), a.data("thumb-url", t.photos[n].thumb_url), a.attr("href", t.photos[n].large_url), t.vrPhotosCache[n] ? (a.css("background-image", "url(" + t.photos[n].large_url + ")"), a.find("img").attr("src", t.photos[n].large_url)) :(a.css("background-image", "url(" + t.photos[n].thumb_url + ")"), o = new Image(), o.src = t.photos[n].large_url, r(o).on("load.vrGallery", function() {
_i_("269:77e42e66"), a.data("id") == t.photos[n].id && (a.css("background-image", "url(" + t.photos[n].large_url + ")"), a.data("loaded", 1), r(this).data("id", n).off("load.vrGallery"), t.vrPhotosCache[n] = o), _r_();
}), a.find("img").attr("src", t.photos[n].large_url)), t.currMainPos = n, _r_();
},
modalThumbClick:function(e) {
_i_("269:cf7799b6");
var t = r(e.currentTarget), i = t.data("id");
return o.emit(_.PhotoGrid.MODAL_THUMB_CLICKED), i && this.goToId(i), _r_(!1);
},
modalGroupClick:function(e) {
_i_("269:f0d08320");
var t = r(e.currentTarget), i = t.data("first-photo-id");
return o.emit(_.PhotoGrid.MODAL_GROUP_CLICKED), i && this.goToId(i), _r_(!1);
},
trackOnView:function(e) {
_i_("269:d88f1485");
var t, i;
if (!e.constructor === Array) return _r_();
for (i = 0; i < e.length; i++) t = e[i], t.hash && (t.stage || t.customGoal) && (t.stage && a.stage(t.hash, t.stage), t.customGoal && a.customGoal(t.hash, t.customGoal));
_r_();
},
getPhotoHTML:function(e) {
_i_("269:b4083c9d");
var t = e.className || "", i = l > 1 && e.highres_url ? e.highres_url :e.large_url, n = '<div class="bh-photo-modal-image ' + t + '">', o = B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder"), _ = r('<div class="pc-gallery--closed-facilities" />'), a = r('<div class="pc-gallery--closed-facility"><span class="closed-facility--name" /><br />\n<span class="closed-facility--date" /></div>');
return n += '<div class="bh-photo-modal-image-element">', n += '<img class="" alt="' + o + '" src="' + i + '">', "hotel" === B.env.b_action && e.has_closed_facility && B.et.track("eWffDHCOLZMSbZLQRAOTVEQYFGXIKe") && (e.closed_facility_details.forEach(function(e) {
_i_("269:b8d1afef");
var t = a.clone();
t.find(".closed-facility--name").text(e.facilityName), t.find(".closed-facility--date").text(e.dates), _.append(t), _r_();
}), n += _.get(0).outerHTML), n += "</div>", e.contains ? n += r(e.contains).html() :!B.env.gallery_missing_info_survey || e.tags && s.getCopyForMLTags(e.tags) || (n += r(B.env.gallery_missing_info_survey).html()), e.created && (n += '<div data-photo-created="' + e.created + '"></div>'), n += "</div>", _r_(n);
},
alignPhoto:function(e) {
_i_("269:4a8062b5");
var t = this.$imageContainer.find(e.verticalAlign);
if (t.length > 0) try {
var i = (this.$imageContainer.height() - t.height()) / 2;
!isNaN(parseFloat(i)) && isFinite(i) && t.css("margin-top", Math.floor(i));
} catch (n) {}
_r_();
},
getPhotoCaption:function(e, t) {
_i_("269:50e7743e");
var i = '<div class="bh-photo-modal-caption-left">' + (t + 1) + " / " + this.photos.length;
return e.caption_left ? i += " &mdash; " + e.caption_left :e.name && (i += " &mdash; " + e.name), i += "</div>", e.caption_right && (i += '<div class="bh-photo-modal-caption-right">' + e.caption_right + "</div>"), _r_(i);
},
setActiveThumb:function(e) {
_i_("269:0aefdb82");
var t = this.$modal.find(".bh-photo-modal-thumb");
t.removeClass("active");
var i = t.filter('[data-id="' + e + '"]');
i.addClass("active");
var n = this.$thumbsViewport.width(), o = this.$thumbsContainer.width(), r = i.width(), _ = i.position(), a = n / 2 - r / 2 - (_ ? this.isRtl ? o - _.left - r - 10 :_.left :0);
a > 0 ? a = 0 :n - o + 10 > a && (a = n - o + 10), this.$thumbsContainer.css(this.isRtl ? "right" :"left", a), _r_();
},
updatePhotoTagPosition:function() {
_i_("269:627eb34b");
var e = r(".bh-photo-modal-image-element"), t = e.find("img"), i = Math.min(e.width(), t.width());
if (t.length && i) {
var n = t.offset();
n.top += t.height() - this.$photoTags.height(), this.$photoTags.offset(n).width(i + 1);
} else setTimeout(this.updatePhotoTagPosition.bind(this), 100);
_r_();
},
getScoreForMLCopy:function(e) {
_i_("269:94bfb0cc");
var t = {
bh_fun_photo_kitchen_v4:"bh_fun_gallery_sproof_review_kitchen",
bh_fun_photo_whole_rm_v1:"bh_fun_gallery_sproof_review_clean",
bh_fun_photo_seating_gf_v2:"bh_fun_gallery_persuade_review_comfort",
bh_fun_photo_dining_gf_v1:"bh_fun_gallery_sproof_review_kitchen",
bh_fun_photo_media_v1:"bh_fun_gallery_sproof_review_fac",
bh_fun_photo_family_v1:"bh_fun_gallery_sproof_review_fac",
bh_fun_photo_nabe_v1:"bh_fun_gallery_sproof_review_loc",
bh_fun_photo_nabe_v3:"bh_fun_gallery_sproof_review_loc",
bh_fun_photo_outdoor_v3:"bh_fun_gallery_sproof_review_loc",
bh_fun_photo_bbq_v1:"bh_fun_gallery_sproof_review_fac"
};
return _r_(t[e]);
},
setPhotoTag:function(e) {
if (_i_("269:d7a59792"), !e.tags || this.isLastSlide()) return this.$photoTags.hide(), _r_();
var t = s.getCopyForMLTags(e.tags);
if (!t) return this.$photoTags.hide(), _r_();
o.emit(_.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG), this.$photoTags.show().find("span").html(B.jstmpl.translations(t)), this.updatePhotoTagPosition(), _r_();
},
setPos:function(e) {
if (_i_("269:d81cc819"), isNaN(parseFloat(e)) || !isFinite(e)) return _r_();
var t = this.photos[e];
if (!t || e === this.currPos) return _r_();
this.activePhotoId = t.id, t.track && this.trackOnView(t.track), this.$imageContainer.html(this.getPhotoHTML(t)), this.$imageContainer.loadComponents(), this.$caption.html(this.getPhotoCaption(t, e)), this.setActiveThumb(t.id), this.setContainerSize(), t.verticalAlign && this.alignPhoto(t), this.$photoTags.length && this.setPhotoTag(t);
var i;
i = null === this.currPos || e === this.currPos ? null :e > this.currPos ? !0 :!1, this.currPos = e, this.photosCache[e] = !0, this.updatePhotosViewed(e), o.emit(_.PhotoGrid.MODAL_PICTURE_CHANGED, {
modal:this
}), "undefined" != typeof B.env.is_bh_property_page && 1 == B.env.is_bh_property_page && this.showCustomReviewScore(e), this.isWithReviews && (this.updateReviewsPos(), null !== i && o.trigger(B.hotel.Events.ReviewFloater.FORCE_SLIDE, [ i ])), this.setImgWidthRelated(), this.preloadPhoto(this.getPrevPos()), this.preloadPhoto(this.getNextPos()), _r_();
},
showCustomReviewScore:function(e) {
if (_i_("269:99eb6b79"), "undefined" == typeof this.review_scores_gallery || 0 === this.review_scores_gallery.length || !r(".best-review-score-label")[0] || !r(".best-review-score-number")[0]) return _r_();
var t = e % this.review_scores_gallery.length;
r(".best-review-score-label").first().html(this.review_scores_gallery[t].txt), r(".best-review-score-number").first().html(this.review_scores_gallery[t].score_string), _r_();
},
resetReviewScore:function() {
_i_("269:f8b99796"), this.baseReview && (this.baseReview = !1, r(".best-review-score-number")[0].innerHTML = this.baseReviewScore, r(".best-review-score-label")[0].innerHTML = this.baseReviewText), _r_();
},
preloadPhoto:function(e) {
_i_("269:31b87624");
var t = this.photos[e];
if (!t || this.photosCache[e]) return _r_();
var i = document.createElement("img");
i.src = t.large_url, this.photosCache[e] = !0, _r_();
},
findPosById:function(e) {
_i_("269:b755b05b");
var t, i = this.photos.length;
for (t = 0; i > t; t++) if (this.photos[t].id === e) return _r_(t);
return _r_(0);
},
keyUp:function(e) {
if (_i_("269:2e966aa5"), !this.opened) return _r_();
27 === e.which && this.closeModal(), _r_();
},
keyDown:function(e) {
if (_i_("269:2d50913c"), !this.opened) return _r_();
37 === e.which ? this.isRtl ? this.showNext() :this.showPrev() :39 === e.which && (this.isRtl ? this.showPrev() :this.showNext()), _r_();
},
windowResize:function() {
if (_i_("269:b641fefc"), !this.opened) return _r_();
this.setContainerSize(), this.setImgWidthRelated(), this.isWithReviews && this.updateReviewsPos(), this.$photoTags.length && this.updatePhotoTagPosition(), _r_();
},
hashChange:function() {
_i_("269:c0ab0498"), "#gallery" === window.location.hash ? this.openModal({
skipHashUpdate:!0
}) :this.closeModal({
skipHashUpdate:!0
}), _r_();
},
getPrevPos:function() {
return _i_("269:00e004f0"), _r_(0 === this.currPos ? this.photos.length - 1 :this.currPos - 1);
},
showPrev:function(e) {
_i_("269:5bef3ab5"), o.emit(_.PhotoGrid.MODAL_SHOW_PREVIOUS);
var t = this.getPrevPos();
this.setPos(t), e && e.stopPropagation && e.stopPropagation(), _r_();
},
getNextPos:function() {
return _i_("269:6dafeb5c"), _r_(this.currPos === this.photos.length - 1 ? 0 :this.currPos + 1);
},
showNext:function(e) {
_i_("269:43b6b233");
try {
o.emit(_.PhotoGrid.MODAL_SHOW_NEXT);
var t = this.getNextPos();
this.setPos(t);
} catch (i) {}
e && e.stopPropagation && e.stopPropagation(), _r_();
},
openModal:function(e) {
if (_i_("269:7c9356d3"), this.opened) return _r_();
e || (e = {}), this.created || this.createDOM(), this.$modal.addClass("opened"), r("body").addClass("bh-photo-modal-opened"), this.isWithReviews && this.$modal.width() > 1100 && this.$reviews.append(r("#reviewFloater")), this.isWithReviews && this.updateReviewsPos(), this.$photoTags.length && this.updatePhotoTagPosition(), this.opened = !0, o.emit(_.PhotoGrid.MODAL_OPENED), _r_();
},
updateReviewsPos:function() {
_i_("269:c85e9845");
var e = this.photos[this.currPos];
if (e && e.contains) return this.$reviews.addClass("g-hidden"), _r_();
var t = r(".bh-photo-modal-image-element img"), i = t.width();
if (i > 0) {
var n = r(".bh-photo-modal-image-element").width();
i > n && (i = n);
var o, _ = t.position(), a = this.$imageContainer.position(), s = this.$reviews.removeClass("g-hidden").outerWidth(), l = r(".bh-photo-modal-next"), c = l.position(), d = l.width(), h = a.top - 10;
this.isRtl ? (o = _.left - s, 3 * d / 4 > o && (h += 10, o += s)) :(o = _.left + i, o + s > c.left + d / 4 && (h += 10, o -= s)), this.$reviews.css({
top:h + "px",
left:o + "px"
});
} else this.$reviews.addClass("g-hidden"), setTimeout(this.updateReviewsPos.bind(this), 100);
_r_();
},
setContainerSize:function() {
_i_("269:a091d296");
try {
var e = this.$imageContainer.position(), t = this.$captionContainer.position(), i = t.top - e.top - 10;
this.currentHeight && i === this.currentHeight || (this.currentHeight = i, this.$imageContainer.css("height", i + "px"));
} catch (n) {}
_r_();
},
setImgWidthRelated:function() {
_i_("269:5540cfae");
var e, t = this, i = this.$imageContainer.find(".js-img-width"), n = function() {
_i_("269:ebfd2450"), i.css("width", ""), _r_();
}, o = function() {
_i_("269:8c6b9e68");
var o, r = e.width();
if (r) return o = t.$imageContainer.find(".bh-photo-modal-image-element").width() || 0, o >= r ? i.css("width", r) :n(), _r_(!0);
return _r_(!1);
};
i.length && (e = this.$imageContainer.find("img"), o() || (n(), e.on("load", o))), _r_();
},
closeModal:function(e, t) {
if (_i_("269:da6c4d59"), !this.opened) return _r_();
e || (e = {}), this.opened = !1, e.closeButtonClicked && o.emit(_.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED), this.isWithReviews && r("#reviewFloater").css({
top:0,
left:0
}).appendTo(r(".hp-gallery-review")), this.$modal.removeClass("opened"), r("body").removeClass("bh-photo-modal-opened"), o.emit(_.PhotoGrid.MODAL_CLOSED, this.currPos), t && t.stopPropagation ? t.stopPropagation() :e && e.stopPropagation && e.stopPropagation(), B.env.b_open_cinematic_gallery && window.history && (history.replaceState(null, "", location.href.replace(/[;&]cg=1[;&]?/, "")), B.env.b_open_cinematic_gallery = !1), B.env.b_is_vacation_rental && B.env.b_is_single_unit_vr && B.et.track("NAFQTPeVYYPTdMdfYMO") && (r(".bh-photo-grid-photo1").removeClass("hprt-lightbox"), r(".unit-lightbox-sidebar-container").removeClass("opened"), r(".bh-photo-modal").css("margin-left", "0")), _r_();
},
scrollToReserve:function(e) {
_i_("269:0bf6b473"), this.closeModal();
var t = r("#availability_target"), i = 400;
if (t.length > 0) {
var n = t.offset();
r("html, body").animate({
scrollTop:n.top - 10
}, i);
}
o.emit(_.PhotoGrid.MODAL_RESERVE_CLICKED), _r_();
},
updatePhotosViewed:function(e) {
_i_("269:f6c80dfc"), void 0 !== typeof e && -1 === r.inArray(e, this.photosViewed) && this.photosViewed.push(e), this.trackedPhotosViewed || this.photosViewed.length !== this.photos.length || (this.trackedPhotosViewed = !0, o.emit(B.hotel.Goals.Gallery.VIEW_ALL_PHOTOS), o.emit(_.PhotoGrid.MODAL_VIEW_ALL_PHOTOS)), _r_();
},
scrollToRoom:function(e) {
_i_("269:5a961906");
var t, i = this.photos[this.currPos], n = i.room_id, o = i.isGroupRecommendation || !1;
if (!n) return _r_();
if (B.env.is_rooms_table_rewrite) var _ = r(".hprt-table").find("> thead:not(.sticked-placeholder)").height() || 30; else var _ = r(".roomstable").find("> thead:not(.sticked-placeholder)").height() || 30;
if (o ? (t = r(".hp-group_recommendation__title"), _ = 0) :t = r('a[name^="RD' + n + '"]'), !t.length || !t.offset().top) return _r_();
if (this.closeModal(), !o) {
var a = r("[name=RD" + n + "]").parents(".hprt-table-cell").first(), s = "roomType--highlight hprt-table-cell-roomtype--active";
r(".hprt-table").find(".hprt-table-cell.-first").removeClass(s).removeClass("roomType--highlight"), a.addClass(s);
}
r("html, body").animate({
scrollTop:t.offset().top - _
}, 1e3), _r_();
},
reserveClicked:function(e) {
_i_("269:4b45be2b"), this.scrollToReserve(e), _r_();
},
sendPhotoId:function(e) {
_i_("269:44da3b7d");
var t = {
hotel_id:B.env && B.env.b_hotel_id,
photo_id:this.activePhotoId
};
r.ajax({
type:"post",
dataType:"json",
url:"/hotel_reserve_photo_log",
data:t
}), _r_();
}
}), _r_();
}), function() {
"use strict";
_i_("269:c9427e5c");
var e = "NAFQdQIXNHZdSIPPQFFOXT";
function t(e) {
_i_("269:ac024df6"), hj("trigger", "WwwPPBaseHotjarRec"), _r_();
}
B.when({
condition:B.env.b_is_vacation_rental,
action:"hotel",
events:"ready",
experiment:e
}).require([ "jquery" ], t), _r_();
}(), function() {
"use strict";
_i_("269:d5ebe233");
var e = "NAFQTPeVYYPTdMdfYMO";
function t(t) {
_i_("269:515260a6");
var i = !1;
t(".unit-lightbox-sidebar-group-rec__policies").hide(), t("body").on("mouseleave", ".unit-lightbox-sidebar-group-rec", function() {
_i_("269:913cab0c");
var n = t(".unit-lightbox-sidebar-group-rec__policies li").length;
!i && n > 0 && (i = !0, t(".unit-lightbox-sidebar-group-rec").removeClass("opened"), t(".unit-lightbox-sidebar-group-rec__policies").slideUp(function() {
_i_("269:da6f9b0b"), i = !1, _r_();
}), B.et.customGoal(e, 2)), _r_();
}), t("body").on("mouseenter", ".unit-lightbox-sidebar-group-rec", function() {
_i_("269:81758e26");
var e = t(".unit-lightbox-sidebar-group-rec__policies li").length;
!i && e > 0 && (i = !0, t(".unit-lightbox-sidebar-group-rec").addClass("opened"), t(".unit-lightbox-sidebar-group-rec__policies").slideDown(function() {
_i_("269:da6f9b0b1"), i = !1, _r_();
})), _r_();
}), t("body").on("click", ".unit-lightbox-sidebar-group-rec__main-column--cta", function(i) {
_i_("269:26982751"), i.preventDefault(), t(".js-group-recommendation-reserve-btn").trigger("click"), B.et.customGoal(e, 1), _r_();
}), _r_();
}
B.when({
condition:B.env.b_is_vacation_rental && B.env.b_is_single_unit_vr,
action:"hotel",
events:"ready",
experiment:e
}).require([ "jquery" ], t), _r_();
}(), function() {
"use strict";
_i_("269:d3e52106");
function e(e) {
_i_("269:2d89e681");
var t = e(".reviews-floater-collapse"), i = e(".reviews-carousel-scroll"), n = !0;
function o() {
_i_("269:11d54a26"), t.on("click", function(e) {
_i_("269:11250e4c"), i.toggleClass("hide"), t.toggleClass("move-up").find(".bicon").removeClass("bicon-downchevron bicon-upchevron"), n ? t.find(".bicon").addClass("bicon-downchevron") :t.find(".bicon").addClass("bicon-upchevron"), n = !n, _r_();
}), _r_();
}
o(), _r_();
}
B.when({
condition:!B.env.b_is_vacation_rental,
action:"hotel",
events:"ready"
}).require([ "jquery" ], e), _r_();
}(), B.define("component/destfinder/on-view", function(e, t, i) {
_i_("269:6a0f6624");
var n = e("jquery"), o = e("tools").functions.throttle, r = n(window), _ = {
fully:!1,
threshold:0,
once:!0,
immediate:!0,
throttleTime:200,
events:"scroll resize load"
};
function a(e, t, i) {
_i_("269:51516984");
var o = n.extend({}, _, t || {}), a = l(e, o, i);
return r.on(o.events, a), o.immediate && a(), _r_(function() {
_i_("269:6eccb569"), r.off(o.events, a), _r_();
});
}
function s(e, t) {
if (_i_("269:e9ea70f0"), !e || 0 === e.length || !e.is(":visible")) return _r_(!1);
var i = e.offset().top - t.threshold, n = {
top:i,
bottom:i + e.innerHeight() + t.threshold
}, o = r.scrollTop(), _ = {
top:o,
bottom:o + r.height()
};
if (t.fully) return _r_(n.top >= _.top && n.bottom <= _.bottom);
if (n.top >= _.top && n.top <= _.bottom || n.bottom >= _.top && n.bottom <= _.bottom || n.top < _.top && n.bottom > _.bottom) return _r_(!0);
return _r_(!1);
}
function l(e, t, i) {
_i_("269:af69e122");
var n = o(function() {
_i_("269:a75d297c");
var o = s(e, t);
o && (t.once && r.off(t.events, n), i.call(e)), _r_();
}, t.throttleTime);
return _r_(n);
}
return _r_(a);
}), function() {
"use strict";
_i_("269:1ce1218a");
function e(e, t) {
_i_("269:7d0352c6");
var i = !1, n = e(".js-b_room_selectbox");
function o() {
_i_("269:040d8eca"), i || 0 !== parseInt(n.val(), 10) || (n.val(1).change(), i = !0), _r_();
}
t(n, {}, o), _r_();
}
B.when({
condition:B.env.b_is_vacation_rental && 1 === $("#individualrooms").data("preselectUnit"),
action:"hotel",
events:"ready"
}).require([ "jquery", "component/destfinder/on-view" ], e), _r_();
}(), B.define("component/bh/sleeping_arrangement", function(e, t, i) {
_i_("269:57af9ede");
var n = e("component").extend({
lockScrollTracking:!1,
scrollInterval:300,
init:function(e) {
_i_("269:9f93d872"), this.$el = e, this.$elScrollable = this.$el.find(".js-unit_info__sleeping_scrollable"), this.$arrowLeft = this.$el.find(".js-unit_info__arrow_left"), this.$arrowRight = this.$el.find(".js-unit_info__arrow_right"), this.takeMeasurements(), this.toggleArrows(this.$elScrollable.scrollLeft()), this.bindUI(), _r_();
},
destroy:function() {
_i_("269:00d9e8fc"), this.unbindUI(), _r_();
},
scrollTo:function(e) {
_i_("269:dabbdca0");
var t = this;
this.lockScrollTracking = !0;
var i = Math.min(Math.max(e, 0), this.contentWidth - this.elWidth);
this.$elScrollable.animate({
scrollLeft:i
}, 300), setTimeout(function() {
_i_("269:6ce34d2e"), t.lockScrollTracking = !1, _r_();
}, 410), this.toggleArrows(i), _r_();
},
toggleArrows:function(e) {
_i_("269:e0e79023");
function t(e, t) {
_i_("269:fdb6b86f"), parseInt(e.css("opacity")) !== t && e.animate({
opacity:t
}, 300), _r_();
}
if (this.contentWidth < this.elWidth) return t(this.$arrowLeft, 0), t(this.$arrowRight, 0), _r_();
0 == e ? t(this.$arrowLeft, 0) :t(this.$arrowLeft, 1), e >= this.contentWidth - this.elWidth ? t(this.$arrowRight, 0) :t(this.$arrowRight, 1), _r_();
},
takeMeasurements:function() {
if (_i_("269:9c19d30f"), this.elWidth = this.$el.width(), this.contentWidth = this.$elScrollable.children().width(), B.env.b_is_ie10 || B.env.b_is_ie11) {
var e = this;
this.contentWidth = 0, this.$elScrollable.children().children().each(function(t, i) {
_i_("269:c5feadaf"), e.contentWidth += $(i).outerWidth(!0), _r_();
});
}
_r_();
},
resizeHandler:function() {
_i_("269:5b9faaed");
var e = this;
this.resizeThrottleTimeout && clearTimeout(this.resizeThrottleTimeout), this.resizeThrottleTimeout = setTimeout(function() {
_i_("269:cc627426"), e.takeMeasurements(), e.toggleArrows(e.$elScrollable.scrollLeft()), _r_();
}, 100), _r_();
},
scrollHandler:function() {
_i_("269:46996879");
var e = this;
this.scrollThrottleTimeout && clearTimeout(this.scrollThrottleTimeout), this.scrollThrottleTimeout = setTimeout(function() {
_i_("269:b205dbcf");
var t = e.$elScrollable.scrollLeft();
e.toggleArrows(t), _r_();
}, 100), _r_();
},
bindUI:function() {
_i_("269:71de6b95");
var e = this;
$(window).on("resize", this.resizeHandler.bind(this)), this.$elScrollable.on("scroll", this.scrollHandler.bind(this)), this.$arrowLeft.on("click", function(t) {
_i_("269:6ce25bb6"), e.scrollTo(e.$elScrollable.scrollLeft() - e.scrollInterval), _r_();
}), this.$arrowRight.on("click", function(t) {
_i_("269:6d34e11b"), e.scrollTo(e.$elScrollable.scrollLeft() + e.scrollInterval), _r_();
}), _r_();
},
unbindUI:function() {
_i_("269:a5be63ac"), $(window).off("resize", this.resizeHandler), this.$elScrollable.off("scroll", this.scrollHandler), this.$arrowLeft.off("click"), this.$arrowRight.off("click"), _r_();
}
});
i.exports = n, _r_();
}), B.when({
action:"hotel",
events:"ready",
experiment:"NAREFeDUfCfeVWCLUVHLNRaO"
}).run(function(e) {
_i_("269:f0522fb3"), 2 === this.variant() && ($(".hops_translate_content__show-original").click(function() {
_i_("269:b8699113"), event.preventDefault(), $(this).addClass("hide"), $(".hops_translate_content__show-translation").removeClass("hide"), $(".hops__personalised-description--translation").addClass("hide"), $(".hops__personalised-description--original").removeClass("hide"), _r_();
}), $(".hops_translate_content__show-translation").click(function() {
_i_("269:47c91f29"), event.preventDefault(), $(this).addClass("hide"), $(".hops_translate_content__show-original").removeClass("hide"), $(".hops__personalised-description--translation").removeClass("hide"), $(".hops__personalised-description--original").addClass("hide"), _r_();
})), _r_();
}), function(e) {
_i_("269:54a9edc6");
var t = "eDdJFOLNYRIGFOfVaKbNMbEUZJFC";
e.when({
events:"ready",
action:"hotel",
experiment:t
}).run(function(t) {
_i_("269:f9bba411");
var i = t("hotel/store"), n = this.variant(), o = $(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");
if (!o.length) return _r_();
var r = e.env.b_guest_country;
if ("us" == r || "nl" == r || "be" == r) return _r_();
var _ = parseInt(o.data("cur-stage"));
i.subscribe(function() {
_i_("269:cf08a2e9");
var t = i.getState().roomsTable.js_selection;
if (!t.roomCount) return o.css({
display:"none"
}), _r_();
o.css({
display:"block"
});
var r = "";
if (1 == _) {
if (1 == n) r = e.jstmpl.translations("sr_search_card_plus_taxes_and_charges", null, {}); else if (2 == n) {
var a = 0;
for (var s in t.blocks) {
var l = parseInt(t.blocks[s].js_nr_selected), c = $(".hprt-price-block .blockuid-" + s);
if (!c.length) continue;
var d = parseFloat(c.data("excl-charges-raw")) * l;
if (isNaN(d)) continue;
a += d;
}
r = a ? e.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2", null, {
sum_taxes_charges:e.utils.accounting.formatMoney(parseInt(a, 10))
}) :e.jstmpl.translations("sr_search_card_plus_taxes_and_charges", null, {});
}
} else 2 == _ ? r = e.jstmpl.translations("sr_search_card_includes_taxes_charges") :3 == _ && (r = e.jstmpl.translations("sr_hp_taxes_and_charges_exception"));
o.html(r), _r_();
}.bind(this)), _r_();
}), _r_();
}(booking), function(e) {
_i_("269:52793ad9");
var t = "eDdJFOLNYRIGFOfVaKbNMbEUZJFSVVDAVT";
if (e && e.env && "nl" != e.env.b_guest_country && "be" != e.env.b_guest_country) return _r_();
e.when({
events:"ready",
action:"hotel",
experiment:t
}).run(function(t) {
_i_("269:d0ea1e60");
var i = t("hotel/store"), n = t("et"), o = $(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");
if (!o.length) return _r_();
var r = e.env.b_guest_country;
if ("nl" != r && "be" != r) return _r_();
var _ = parseInt(o.data("cur-stage"));
i.subscribe(function() {
_i_("269:0ead9e67");
var t = i.getState().roomsTable.js_selection;
if (!t.roomCount) return o.css({
display:"none"
}), _r_();
o.css({
display:"block"
});
var r = "";
if (n.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO")) r = t.chargesText || ""; else if (1 == _) {
var a = 0;
for (var s in t.blocks) {
var l = parseInt(t.blocks[s].js_nr_selected), c = $(".hprt-price-block .blockuid-" + s);
if (!c.length) continue;
var d = parseFloat(c.data("excl-charges-raw")) * l;
if (isNaN(d)) continue;
a += d;
}
r = a ? e.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2", null, {
sum_taxes_charges:e.utils.accounting.formatMoney(a)
}) :e.jstmpl.translations("sr_search_card_plus_taxes_and_charges", null, {});
} else 2 == _ ? r = e.jstmpl.translations("sr_search_card_includes_taxes_charges") :3 == _ && (r = e.jstmpl.translations("sr_hp_taxes_and_charges_exception"));
o.html(r), _r_();
}.bind(this)), _r_();
}), _r_();
}(booking), function(e) {
_i_("269:c8d2fe36");
var t = "eDUIFaGZHWRHZGSNASVQLSLae", i = e && e.env && e.env.b_guest_country && !/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|us|id/gim.test(e.env.b_guest_country);
if (!i) return _r_();
e.when({
events:"ready",
action:"hotel",
experiment:t
}).run(function(e) {
_i_("269:ee5b2be8");
var t = e("hotel/store"), i = $(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");
if (!i.length) return _r_();
t.subscribe(function() {
_i_("269:12eb128a");
var e = t.getState().roomsTable.js_selection;
if (!e.roomCount) return i.css({
display:"none"
}), _r_();
i.css({
display:"block"
}), i.html(e.chargesText || ""), _r_();
}.bind(this)), _r_();
}), _r_();
}(booking), function(e) {
_i_("269:d87a75b9");
var t = "eDUIFaGZHWRHZGSNASVQLKGBHe", i = e && e.env && e.env.b_guest_country && /at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch/gim.test(e.env.b_guest_country);
if (!i) return _r_();
e.when({
events:"ready",
action:"hotel",
experiment:t
}).run(function(e) {
_i_("269:ee5b2be81");
var t = e("hotel/store"), i = $(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");
if (!i.length) return _r_();
t.subscribe(function() {
_i_("269:12eb128a1");
var e = t.getState().roomsTable.js_selection;
if (!e.roomCount) return i.css({
display:"none"
}), _r_();
i.css({
display:"block"
}), i.html(e.chargesText || ""), _r_();
}.bind(this)), _r_();
}), _r_();
}(booking), function() {
_i_("269:23554bb9");
var e = B.require("jquery");
function t() {
_i_("269:17b5178e");
var t = B.require("lightbox");
t.show(e("#revc_write_a_review_login_intro"), {
trapFocus:!0
}), _r_();
}
B.when({
action:"index"
}).run(function() {
_i_("269:af6a2ca6"), e(".js_write_a_review_index_navbar").on("click.revc_write_a_review", function(e) {
_i_("269:697892d4"), 0 == B.env.auth_level && (e.preventDefault(), t()), _r_();
}), _r_();
}), B.when({
action:"reviews"
}).run(function() {
_i_("269:7ea81f8c"), e(".js_write_a_review_reviews_header").on("click.revc_write_a_review", function(e) {
_i_("269:697892d41"), 0 == B.env.auth_level && (e.preventDefault(), t()), _r_();
}), _r_();
}), _r_();
}(), B.when({
action:"hotel"
}).run(function(e) {
_i_("269:e2352b15");
var t = e("jquery"), i = t("#review_list_page_container"), n = e("et"), o = "adUTWALTLdaWNOOdeBVOSWe", r = {
prepareFilters:function() {
_i_("269:1a7d65be"), t(".js-review-list-topic-filter__item-link").each(function(e, i) {
_i_("269:1809b47f");
var n = t(i);
n.data("category-id") && -1 !== B.env.defaultReviewsTopic.indexOf(n.data("category-id")) ? n.closest(".review-list-topic-filter__list-item").addClass("review-list-topic-filter__list-item--active") :n.closest(".review-list-topic-filter__list-item").removeClass("review-list-topic-filter__list-item--active"), _r_();
}), _r_();
},
toggleCategory:function(e) {
if (_i_("269:af11c480"), isNaN(parseInt(e, 10))) return _r_(!1);
var t = B.env.defaultReviewsTopic.indexOf(e);
return -1 === t ? B.env.defaultReviewsTopic.push(e) :B.env.defaultReviewsTopic.splice(t, 1), _r_(B.env.defaultReviewsTopic);
},
deactivateFilter:function() {
_i_("269:8227a408");
var e = ".js-review-list-topic-filter__item-link";
i.find(e).removeClass(e), _r_();
},
applyTopicFilter:function(e) {
_i_("269:e7865f07"), e.preventDefault();
var i = t(e.target), n = i.data("category-id");
this.toggleCategory(n), this.prepareFilters();
var o = i.closest(".review-list-topic-filter").clone(!1).addClass("review-list-topic-filter__clone");
this.deactivateFilter(o), B.require("reviews/review_list_lang_filter").filter(e), t(".review_list_wrapper").prepend(o), _r_();
},
attachEvents:function() {
_i_("269:1799da02"), B.events.on("REVIEWS:fetched", t.proxy(this.prepareFilters, this)), i.on("click", ".js-review-list-topic-filter__item-link", t.proxy(this.applyTopicFilter, this)), B.events.on("REVIEWS:fetched", t.proxy(this.prepareNewFilters, this)), _r_();
},
init:function() {
_i_("269:acede6d4"), this.attachEvents(), _r_();
},
prepareNewFilters:function() {
if (_i_("269:620a0a3d"), !n.track(o)) return _r_(!0);
var e = t("[data-js-reviews-topics-container-placeholder]");
e.html(null);
var i = this, r = t("[data-js-reviews-topics-container-source]");
e.html(r.clone().show()), r.remove(), e.find("[data-js-review-topic]").each(function(e, n) {
_i_("269:b81c2484");
var o = t(n), r = o.data("category-id");
-1 !== B.env.defaultReviewsTopic.indexOf(r) && o.prop("checked", !0), o.on("change", t.proxy(function(e) {
_i_("269:10f199d1"), i.applyTopicFilter(e), _r_();
}, i)), _r_();
}), _r_();
}
};
r.init(), _r_();
}), B.when({
events:"load",
action:"hotel"
}).run(function(e) {
_i_("269:64a7490e");
var t = e("jquery");
if (!B.env.b_room_group || !B.env.b_room_group.length) return _r_();
var i = t("#roomsForm"), n = e("utils/deepequal");
i.on("submit", function() {
_i_("269:d0300428"), o() && i.append('<input type="hidden" name="is_group_recommendation_from_rt" value="1">'), _r_();
});
function o() {
_i_("269:b29595c1");
var e = {}, o = {};
i.find(".b_room_selectbox").each(function(i, n) {
_i_("269:b781e4ac");
var o = t(n), r = parseInt(o.val()), _ = o.data("block-id");
r > 0 && (e[_] = {
block_id:_,
count:r
}), _r_();
});
for (var r = 0; r < B.env.b_room_group.length; r++) {
var _ = B.env.b_room_group[r];
o[_.block_id] = _;
}
return _r_(n(e, o));
}
_r_();
}), B.when({
condition:$(".rt_see_bed_policies--link").length
}).run(function(e) {
_i_("269:5cb9a6da");
var t = e("jquery"), i = t("#smp_children_policy");
if (!i.length) return _r_();
t(".rt_see_bed_policies--link").on("click", function(e) {
_i_("269:da80a7da");
var n = 500;
t("html, body").animate({
scrollTop:i.offset().top
}, n), e.preventDefault(), _r_();
}), _r_();
}), B.define("crosstab", function(e, t, i) {
_i_("269:e235a043");
var n, o = e("event-emitter"), r = a(), _ = "cst-";
s("localStorage") && (n = window.localStorage);
function a() {
return _i_("269:9200abb5"), _r_("ct_" + Math.random().toString(36).substr(2, 9));
}
function s(e) {
_i_("269:04571d85");
try {
var t = window[e], i = "__storage_test__";
return t.setItem(i, i), t.removeItem(i), _r_(!0);
} catch (n) {
return _r_(!1);
}
_r_();
}
function l() {
_i_("269:067050b1"), o.extend(this), this._emit = this.emit, this.emit = this.emitStorageEvent, _r_();
}
l.prototype.receive = function(e) {
_i_("269:b21458e3");
var t;
if (!e.newValue || !e.key) return _r_();
if (0 === e.key.indexOf(_)) {
if (t = JSON.parse(e.newValue), t.tabId === r) return _r_();
this._emit(t.event, t);
}
_r_();
}, l.prototype.emitStorageEvent = function(e, t) {
if (_i_("269:dba7b0f0"), !n) return _r_();
var i = a();
t = t || {};
var o = {
event:e,
payload:t,
eventId:i,
tabId:r
};
try {
n.setItem(_ + i, JSON.stringify(o));
} catch (s) {
if ("QuotaExceededError" === s.name || "NS_ERROR_DOM_QUOTA_REACHED" === s.name || "NS_ERROR_FILE_NO_DEVICE_SPACE" === s.name) return _r_();
booking.reportError(s, "local storage crosstab");
}
window.setTimeout(function() {
_i_("269:fb1212ba"), n.removeItem(_ + i), _r_();
}, 10), _r_();
};
var c = new l();
n && window.addEventListener("storage", c.receive.bind(c)), i.exports = c, _r_();
}), B.when({
events:"ready",
action:"hotel"
}).run(function(e) {
_i_("269:fea4dca0");
var t = e("jquery"), i = e("events"), n = t(".best-ugc-highlight-by-photo, .gallery-side-review-wrapper__ugc-highlights-container, .gallery-side-review-wrapper__ugc-highlight-by-photo"), o = t(".gallery-side-reviews-wrapper__side");
function r() {
return _i_("269:06f2d80b"), _r_(o.is(":visible"));
}
function _(e, i) {
if (_i_("269:3428fa3a"), !e) return _r_();
if (r()) {
var _ = o.find(".best-ugc-highlight-by-photo:visible"), a = o.find(".best-ugc-highlight-by-photo[data-photo-id=" + e + "]");
if (!_.length && !a.length, _ && _.length && !a.length && _.finish().slideUp(300), !_.length && a && a.length && a.slideDown(300), _ && _.length && a && a.length) {
var s = _.find("strong").text() == a.find("strong").text() ? 0 :200;
_.finish().fadeOut(s, function() {
_i_("269:7df25bdf"), a.fadeIn(s), _r_();
});
}
t(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id=" + e + "]").length && t(".gallery-side-review-wrapper__ugc-highlights-container").show();
} else n.hide(), t(".best-ugc-highlight-by-photo[data-photo-id=" + e + "]").css("display", "table"), t(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id=" + e + "]").show();
_r_();
}
if (B.hotel.Gallery.slick && B.hotel.Gallery.slick.$slides) {
var a = B.hotel.Gallery.slick.$slides.first().data("photoid");
_(a, 0);
}
i.on(B.hotel.Events.Gallery.AFTER_SLIDE_CHANGE, function(e) {
if (_i_("269:c2b73336"), e && e.length) {
var t = e[2].data("photoid"), i = e[1].currentSlide;
_(t, i);
}
_r_();
}), i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED, function(e) {
_i_("269:8eff2a0a"), B.hotel.Gallery.slick && B.hotel.Gallery.slick.pause(), _r_();
}), i.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED, function(e) {
_i_("269:2148e60d"), B.hotel.Gallery.slick || (t(".best-ugc-highlight-by-photo").hide(), t(".gallery-side-review-wrapper__ugc-highlights-container").hide(), t(".gallery-side-review-wrapper__ugc-highlight-by-photo").hide()), _r_();
}), i.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED, function(e) {
if (_i_("269:1212b86f"), e && e.modal) {
var t = e.modal.activePhotoId, i = e.modal.currPos;
_(t, i), B.hotel.Gallery.slick && B.hotel.Gallery.slick.pause();
}
_r_();
}), _r_();
}), function() {
_i_("269:2d218e44");
var e = "eDdQAOTELSVPUMVBFUPQHO", t = B.require("jquery"), i = ".js-" + e;
B.when({
action:"hotel",
events:B.hotel.Events.PhotoGrid.MODAL_OPENED,
condition:t(i).length,
experiment:e,
stage:1
}), B.when({
action:"hotel",
events:"click " + i
}).run(function(t) {
_i_("269:5eb97325"), t("et").customGoal(e, 1), _r_();
}), _r_();
}(), function() {
_i_("269:0b291359");
var e = "HMbOTESVKMNCSJXLYSfDHT", t = ".t-" + e;
B.when({
action:"hotel",
events:"ready"
}).run(function(i) {
_i_("269:6b754a64");
var n = i("events"), o = i("et");
n.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(i, n) {
_i_("269:6ca1e21c");
var r = String(n.find(t).data("stages")).match(/:[1-9]/g);
r && r.forEach(function(t) {
_i_("269:5101b5d1");
var i = +t.replace(/[^1-9]/, "");
i && o.stage(e, i), _r_();
}), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:73dd23cd");
var e = "HMbOTESAZNUDFRAOAcEUC", t = ".t-" + e;
B.when({
action:"hotel",
events:"ready"
}).run(function(i) {
_i_("269:6b754a641");
var n = i("events"), o = i("et");
n.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(i, n) {
_i_("269:6ca1e21c1");
var r = String(n.find(t).data("stages")).match(/:[1-9]/g);
r && r.forEach(function(t) {
_i_("269:5101b5d11");
var i = +t.replace(/[^1-9]/, "");
i && o.stage(e, i), _r_();
}), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:c35b3050");
var e = "HMbBJfBZGPBcNAURAfPVT", t = {
"feedbackInline:applyYes:hc_rt_bathroom_missing_info":1,
"feedbackInline:applyNo:hc_rt_bathroom_missing_info":2,
"feedbackInline:applyYes:hc_rp_bathroom_missing_info":3,
"feedbackInline:applyNo:hc_rp_bathroom_missing_info":4,
"feedbackInline:submitModal:hc_rt_bathroom_missing_info":5,
"feedbackInline:submitModal:hc_rp_bathroom_missing_info":5
};
B.when({
action:"hotel",
events:"ready"
}).require([ "et", "events" ], function(i, n) {
_i_("269:39b5eecb"), Object.keys(t).forEach(function(o) {
_i_("269:65120796"), n.on(o, function() {
_i_("269:698903a9"), i.customGoal(e, t[o]), _r_();
}), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:befea131");
var e, t = B.require("jquery"), i = B.require("events"), n = "hp-facilities-sliding", o = t(".hp-facilities-sliding-wrapper"), r = ".js-trigger-facilities-slider", _ = ".js-hide-facilities-slider", a = ".js-toggle-facilities-slider", s = "facilities-sliding:to:open", l = {
SLIDE_IN:"facilities-sliding:in"
};
B.when({
action:"hotel",
events:"ready",
condition:o.length
}).require([ "sliding-panel-model" ], function(e) {
_i_("269:ca1c4c5a");
var o = e.get(n);
o.on("sliding-panel/show", function() {
_i_("269:7eb1913b"), c(), setTimeout(function() {
_i_("269:eea3d473"), B.eventEmitter.trigger("GENERAL:layout_changed"), i.emit(l.SLIDE_IN), _r_();
}, 300), _r_();
}), t("body").on("click", r, function() {
_i_("269:094b05da"), o.show(), _r_();
}).on("click", _, function() {
_i_("269:2782e65e"), o.hide(), _r_();
}).on("click", a, function() {
_i_("269:581dca72"), o.isPanelShown() ? o.hide() :o.show(), _r_();
}), i.on(s, function() {
_i_("269:8d950de1"), o.show(), _r_();
}), _r_();
});
function c() {
if (_i_("269:c0564399"), e) return _r_();
var i, n, r = t(".facility-block-wrapper"), _ = t("<div/>").html(r.html()), a = r.data("slidingRemoveClasses");
_.find(">:not(.facilitiesChecklist,.facilities-sliding-keep)").remove(), a && (i = String(t.trim(a)).split(/ +/), n = i.map(function(e) {
return _i_("269:bce16cf5"), _r_("." + e);
}).join(", "), n && _.find(n).removeClass(a)), (B.env.b_is_ie8 || B.env.b_is_ie9) && _.append('<div class="clearfix"></div>').find(".facilities-ie-column").attr("style", ""), o.append(_), o.loadComponents(), B.et.initAttributesTracking(o), e = !0, _r_();
}
_r_();
}(), function() {
_i_("269:53986595");
var e = B.require("jquery"), t = 2592e6, i = 3 * t, n = _(B.env.b_current_datetime) || new Date(), o = {};
B.events.on(B.hotel.Events.Gallery.INIT, function() {
_i_("269:e527f642"), e("#photo_wrapper [data-photo-created]").each(function() {
_i_("269:0189ef5d");
var t = e(this), i = r(t.data("photoCreated"));
i && (t.attr("data-recent-photo-label", i.isNew ? "new" :"recent"), t.addClass("bh-photo-recent").html(B.jstmpl("template_gallery_new_photo").render(i))), _r_();
}), _r_();
}), B.events.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED, function(t) {
if (_i_("269:d38d4575"), !t || !t.modal || !t.modal.$modal) return _r_();
t.modal.$modal.find("[data-photo-created]").each(function() {
_i_("269:54d45589");
var t = e(this), i = r(t.data("photoCreated"));
i && t.addClass("bh-photo-modal-recent").html(B.jstmpl("template_gallery_new_photo_modal").render(i)), _r_();
}), _r_();
});
function r(e) {
if (_i_("269:4314db75"), e && o[e]) return _r_(o[e]);
var r, a, s = _(e);
return s && (a = n.getTime() - s.getTime(), a > 0 && t >= a ? r = {
isNew:!0
} :a > 0 && i >= a && (r = {
isRecent:!0
}), o[e] = r), _r_(r);
}
function _(e) {
_i_("269:c54e9269");
var t;
if (e && (t = String(e).match(/^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2}).*/))) return _r_(new Date(+t[1], t[2] - 1, +t[3]));
_r_();
}
_r_();
}(), function() {
_i_("269:e229b9e3"), B.when({
action:"hotel",
events:"ready"
}).require([ "jquery", "trap-focus", "events" ], function(e, t, i) {
_i_("269:b88890fc"), i.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(t, i) {
_i_("269:6c227390"), i.find('[data-component="feedback-inline"]').off("feedbackInline_showModal").off("feedbackInline_hideModal").off("feedbackInline_submitModal").on("feedbackInline_showModal", function() {
_i_("269:85ebc503"), n(e(".feedback-modal-wrapper:visible")), _r_();
}), _r_();
});
function n(e) {
_i_("269:dbf89115"), e.length && t.trap(e[0]), _r_();
}
_r_();
}), _r_();
}(), B.define("component/prc/timebar", function(e, t, i) {
_i_("269:92341df6");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("269:c9f10b41"), this.is = {
valid:!1,
rendered:!1
}, this.configure(), this.setup(), this.render(), !this.is.rendered && this.data.inAccordion && this.$el.closest(".js-toggle-class").one("js:expand", $.proxy(this.render, this)), _r_();
},
configure:function() {
_i_("269:4396b63b"), this.data = {
fromString:this.$el.data("from"),
untilString:this.$el.data("until"),
fromLabel:this.$el.data("fromLabel"),
untilLabel:this.$el.data("untilLabel"),
name:this.$el.data("name"),
caption:this.$el.data("caption"),
parent:this.$el.data("parent") || ".js-timebar-parent",
parentClass:this.$el.data("parentClass") || "timebar-wrapper",
inAccordion:this.$el.data("inAccordion"),
isCompact:this.$el.data("inAccordion") || this.$el.data("compact"),
fitWidth:this.$el.data("inAccordion") || this.$el.data("fitWidth"),
extraClass:this.$el.data("extraClass"),
animateOnView:this.$el.data("animateOnView"),
minLabelsDistance:20,
rtl:B.env.rtl || B.env.lang_is_rtl
}, _r_();
},
setup:function() {
_i_("269:8783b844");
var e = 0;
this.data.from = this.data.fromString ? this._parseDateStr(this.data.fromString) :0, 24 === this.data.from && (this.data.from = 0), this.data.until = this.data.untilString ? this._parseDateStr(this.data.untilString) :24, 0 === this.data.until && (this.data.until = 24), this.data.pos = this.data.rtl ? "right" :"left", "undefined" != typeof this.data.from && "undefined" != typeof this.data.until && this.data.until > this.data.from && (this.is.valid = !0, this.data.barBegin = this.data.from / 24 * 100, this.data.barEnd = this.data.until / 24 * 100, this.data.barWidth = this.data.barEnd - this.data.barBegin, 100 === this.data.barEnd && (this.data.barWidth = Math.ceil(this.data.barEnd - this.data.barBegin)), this.data.barCenter = this.data.barBegin + this.data.barWidth / 2, this.data.fromLabelPos = this.data.barBegin - e, this.data.untilLabelPos = this.data.barEnd + e), this.$parent = this.$el.closest(this.data.parent), _r_();
},
render:function() {
if (_i_("269:cc046533"), !this.is.valid || !this.$el.is(":visible")) return _r_();
var e, t, i, n, o, r, _, a, s, l, c, d, h, u, f, p, b, m, g = this.data.rtl ? "marginRight" :"marginLeft";
this.$el.html(B.jstmpl("prc_timebar").render(this.data)), this.$parent.addClass(this.data.parentClass), o = this.$el.find(".timebar__caption"), e = this.$el.find(".timebar__core"), i = e.width(), t = e.offset(), n = t.left + i, o.length && (r = o.outerWidth(), a = -r / 2, o.css(g, a), this.data.fitWidth && (_ = o.offset(), _.left < t.left ? (s = t.left - _.left, l = -Math.min(s, r / 2 - 8)) :_.left + r > n && (s = n - (_.left + r), l = Math.min(-s, r / 2 - 8)), s && o.css(g, this.data.rtl ? a - s :a + s), l && o.find(".timebar__caption-pointer").css("marginLeft", l))), c = this.$el.find(".timebar__label:visible").eq(0), u = this.$el.find(".timebar__label:visible").eq(1), b = this.$el.find(".timebar__bar").width() || 1, (c.length || u.length) && (h = c.width(), p = u.width(), m = Math.max(0, .5 * (h + p + this.data.minLabelsDistance) - b), c.css(g, -.5 * (h + m)), u.css(g, -.5 * (h - m)), this.data.fitWidth && (c.length && (d = c.offset(), (d.left < t.left || this.data.rtl && d.left + h > n) && c.hide()), u.length && (f = u.offset(), (f.left + p > n || this.data.rtl && f.left < t.left) && u.hide()))), this.is.rendered = !0, this.data.animateOnView && this._animateOnView(), _r_();
},
_parseDateStr:function(e) {
_i_("269:a909df32");
var t, i, n, o;
return "undefined" != typeof e && (t = $.trim(String(e)).split(":"), 2 === t.length && (i = +t[0], n = +t[1], 24 === i && n > 0 && (i = 0), i >= 0 && 24 >= i && n >= 0 && 59 >= n && (o = i + n / 60))), _r_(o);
},
_animateOnView:function() {
if (_i_("269:511291e9"), !B.tools || !B.tools.dom || "function" != typeof B.tools.dom.watchIfBlockVisibleInViewport) return _r_();
var e = this, t = this.$el.find(".timebar__bar").width(0);
B.tools.dom.watchIfBlockVisibleInViewport(this.$el, function() {
_i_("269:dac9f070"), setTimeout(function() {
_i_("269:2cab3f15"), t.animate({
width:e.data.barWidth + "%"
}, {
duration:1e3,
easing:$.easing && $.easing.easeOutBack ? "easeOutBack" :"swing"
}), _r_();
}, 500), _r_();
}), _r_();
}
}), _r_();
}), booking.jstmpl("prc_timebar", function() {
_i_("269:47242dc9");
var e = [ '\n    <span class="timebar ', " timebar_compact", " ", " timebar_name-", '">\n        <span class="timebar__core">\n            <span class="timebar__base">\n                <span class="timebar__bar" style="', ":", "%; width:", '%"></span>\n            </span>\n            ', '\n                <span class="timebar__label" style="', '%">', "</span>\n            ", "\n            ", '\n                <span class="timebar__caption" style="', '<span class="timebar__caption-pointer"></span></span>\n            ', "\n        </span>\n    </span>\n" ], t = [ "isCompact", "name", "extraClass", "pos", "barBegin", "barWidth", "fromLabelPos", "fromLabel", "untilLabelPos", "untilLabel", "barCenter", "caption" ];
return _r_(function(i) {
_i_("269:997e0368");
var n = "", o = this.fn;
return n += e[0], o.MD(t[0]) && (n += e[1]), n += e[2], o.MD(t[1]) && (n += [ e[3], o.MC(t[1]) ].join("")), n += e[2], o.MD(t[2]) && (n += [ e[2], o.MC(t[2]) ].join("")), n += [ e[4], o.MC(t[3]), e[5], o.MC(t[4]), e[6], o.MC(t[5]), e[7] ].join(""), o.MD(t[7]) && (n += [ e[8], o.MC(t[3]), e[5], o.MC(t[6]), e[9], o.MC(t[7]), e[10] ].join("")), n += e[11], o.MD(t[9]) && (n += [ e[8], o.MC(t[3]), e[5], o.MC(t[8]), e[9], o.MC(t[9]), e[10] ].join("")), n += e[11], o.MD(t[11]) && (n += [ e[12], o.MC(t[3]), e[5], o.MC(t[10]), e[9], o.MC(t[11]), e[13] ].join("")), n += e[14], _r_(n);
});
}()), function() {
_i_("269:5d36d802"), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:8415d201");
var t = e("jquery"), i = e("trap-focus");
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(e, n) {
_i_("269:4f7276f3");
var o = n.find(".b-button_primary").length > 0, r = n.find(".inline-feedback_lightbox");
if (r.length) {
var _ = parseInt(r.data("opened_count"));
_ ? _ += 1 :_ = 1, r.data("opened_count", _), (_ > 2 || !o) && r.removeClass("g-hidden"), r.off("feedbackInline_showModal"), r.off("feedbackInline_hideModal"), r.off("feedbackInline_submitModal"), r.on("feedbackInline_showModal", function() {
_i_("269:b605aded"), t(".feedback-modal-wrapper:visible").length && i.trap(t(".feedback-modal-wrapper:visible")[0]), _r_();
}).on("feedbackInline_hideModal", function() {
_i_("269:0e5129491"), n.parent().length && i.trap(n.parent()[0]), _r_();
}).on("feedbackInline_submitModal", function() {
_i_("269:0e512949"), n.parent().length && i.trap(n.parent()[0]), _r_();
});
}
_r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:435755f4");
var e = {
ROOM_TABLE:"#rooms_table",
BED_OPTIONS:".hprt-roomtype-bed",
RESERVE_BTN:".js-lightbox-reserve-button-bed-options"
};
B.when({
action:"hotel",
events:"ready"
}).run(function(t) {
_i_("269:93c65e25");
var i = t("jquery");
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(t, n) {
if (_i_("269:9cf3ed52"), t && n && n.length && n.find(e.BED_OPTIONS).length) {
var o = "bedPreference_" + t, r = n.find(e.RESERVE_BTN), _ = n.find('input[name="lighbox_' + o + '"]'), a = i(e.ROOM_TABLE).find('input[name="' + o + '"]').not(_);
_.off("click.bed");
var s = a.filter(":checked");
if (s) {
var l = s.val();
if (l) {
var c = _.filter("[value=" + l + "]");
c.prop("checked", !0), c.data("reserve-url") && r.attr("href", c.data("reserve-url"));
}
}
_.on("click.bed", function(e) {
_i_("269:8217faed");
var t = i(this).val();
a.filter("[value=" + t + "]").prop("checked", !0), i(this).data("reserve-url") && r.attr("href", i(this).data("reserve-url")), _r_();
});
}
_r_();
}), _r_();
}), _r_();
}(), B.define("component/hotel/tabify", function(e, t, i) {
_i_("269:6377ef20");
var n = e("component"), o = e("jquery"), r = "bui-tab__item--selected", _ = "bui-tab__link--selected";
i.exports = n.extend({
init:function() {
_i_("269:243f18f8");
var e = this.$el.find("a");
this.initialize(e), this.addEvents(e), _r_();
},
initialize:function(e) {
_i_("269:0499c794"), e.length && e.each(function(e, t) {
_i_("269:f0e7bce6");
var i = o(o(t).data("target"));
o(t).hasClass(_) ? i.show() :i.hide(), _r_();
}), _r_();
},
addEvents:function(e) {
_i_("269:4f3b22de"), e.on("click", function(e) {
if (_i_("269:622479dd"), e.preventDefault(), !o(this).hasClass(_)) {
o("." + r).toggleClass(r);
var t = o(o("." + _).data("target"));
o("." + _).toggleClass(_), o(this).toggleClass(_), o(this).parent("li").toggleClass(r);
var i = o(o(this).data("target"));
t.hide(), i.show(), o(window).trigger("resize");
}
_r_();
}), _r_();
}
}), _r_();
}), function() {
_i_("269:a4c35f1b");
var e = "ZdfbGbEILJeaILYDMVWGRcUQAcSWCUUC";
B.when({
action:"hotel",
events:"ready",
condition:"1" == B.env.fe_has_duplicate_photos
}).run(function(t) {
_i_("269:5b443be7");
var i = t("et");
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(t, n) {
_i_("269:ae748f3b"), n && n.length && n.find(".t-" + e).length && (i.stage(e, 2), n.find(".t2-" + e).length && i.stage(e, 3)), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:e6628f9a");
var e = "ZdfbaTaTaBcJPQORYPTdMYRCOMXT", t = {
METER_SQUARE:"square meters",
FEET_SQUARE:"square feet"
};
B.when({
action:"hotel",
events:"ready"
}).run(function(i) {
_i_("269:5e86ea32");
var n = i("events"), o = i("et");
n.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(i, n) {
_i_("269:c9ec71b3"), n && n.length && n.find(".t-" + e).length && (o.stage(e, 1), o.track(e) && n.find(".js-room-size-unit-switch").off("click").on("click", function(e) {
_i_("269:c6831cbc"), e.preventDefault();
var i = $(this).closest(".js-room-size-unit-component");
if (i.length) {
var n = i.data("surface-unit");
$(".js-room-size-unit-component").each(function() {
_i_("269:6b4b913c");
var e = $(this).find(".js-room-size-unit-switch"), i = $(this).find(".js-room-size-unit-value"), o = $(this).data("surface-feet2"), r = $(this).data("surface-m2");
n == t.FEET_SQUARE ? (i.text(r), e.text(B.jstmpl.translations("rc_switch_to_feet")), $(this).data("surface-unit", t.METER_SQUARE)) :n == t.METER_SQUARE && (i.text(o), e.text(B.jstmpl.translations("rc_switch_to_metres")), $(this).data("surface-unit", t.FEET_SQUARE)), _r_();
});
}
_r_();
})), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:a5a9b7e0");
var e = "ZdfbaTaTaBBUcJZXQVaAbWccNOMO";
B.when({
action:"hotel",
events:"ready",
experiment:e,
condition:"en" == B.env.b_lang || "xu" == B.env.b_lang
}).run(function(e) {
_i_("269:33fd9da4");
var t = e("jquery"), i = e("events"), n = t(".feedback_room-missing-facilities");
n.length && i.off("feedbackInline:showModal:rc_www_hp_rt_lb_missing_info_new").on("feedbackInline:showModal:rc_www_hp_rt_lb_missing_info_new", function(e) {
if (_i_("269:d2e520ef"), e && e.$modal && e.$modal.length) {
var i = e.$modal;
i.on("feedback_beforeSubmit", function() {
_i_("269:cf488982");
var e = t(this), i = e.find('[data-model="missing_comment"]'), n = e.find(".js-feedback-text").val();
if (1 == i.length) {
var o = [];
e.find('input[data-model="missing-category"]:checked').each(function() {
_i_("269:8fe6872d"), o.push(this.value), _r_();
}), o.length ? i.val("[" + o.join(",") + "] " + n) :i.val(n);
}
_r_();
});
var n = i.find('input[data-model="missing-category"]'), o = i.find(".feedback-loop-extra__question");
n.off("change.feedback").on("change.feedback", function() {
_i_("269:2ce72b72"), n.filter(":checked").length ? (o.show(), o.removeClass("g-hidden")) :(o.hide(), o.addClass("g-hidden")), t(window).trigger("resize"), _r_();
});
}
_r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready",
condition:"en" == B.env.b_lang || "xu" == B.env.b_lang
}).run(function(t) {
_i_("269:246ce93f");
var i = t("et");
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(t, n) {
_i_("269:2c6a2255"), i.stage(e, 1), _r_();
}), B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, function(t, n) {
_i_("269:2c6a22551"), i.stage(e, 1), _r_();
}), _r_();
}), _r_();
}(), B.when({
events:"click button.survey_yes_button",
experiment:"VOGNAPIVQUdWAcUYcfJFO",
stage:1
}).run(), B.when({
events:"click button.survey_no_button",
experiment:"VOGNAPIVQUdWAcUYcfJFO",
stage:2
}).run(), B.when({
events:"ready",
action:"hotel",
condition:B.env.b_show_mybooking_promo && "www" === B.env.b_site_type
}).run(function(e) {
_i_("269:29fc5fc3");
var t = e("jquery"), i = t(document), n = t(".js-pb_hp_upcoming_booking_banner-base"), o = n.find(".js-pb_hp_upcoming_booking_banner"), r = t("#individualrooms"), _ = "mod-sticky-banner", a = "mod-hidden", s = e("et"), l = 0, c = 0, d = 0, h = n.outerHeight(), u = null;
if (!n.length) return _r_();
var f = t.fly.dropdown.create(".js-pb_hp_upcoming_booking_banner--dropdown", {
position:"bottom center",
extraClass:"fly-dropdown--onload-shower",
content:function() {
return _i_("269:bab5ce81"), _r_(t(".js-pb_hp_upcoming_booking_banner--dropdown-content"));
}
});
s.track("IZENYPERAMDBcPOeFYeMOKe") || i.on("scroll", function() {
if (_i_("269:1a161bd0"), u) return _r_(!0);
u = setTimeout(function() {
_i_("269:33a41cbc"), clearTimeout(u), u = null, p(), _r_();
}, 100), _r_();
});
function p() {
if (_i_("269:d9128446"), l = i.scrollTop(), l > c ? (n[0].style.height = h + "px", b(!0), f.hide()) :(n[0].style.height = "auto", b(!1)), !d) return _r_();
m(l > d ? !0 :!1), _r_();
}
function b(e) {
_i_("269:b6e7e8e9"), o.toggleClass(_, e), _r_();
}
function m(e) {
_i_("269:ef4675df"), o.toggleClass(a, e), _r_();
}
function g() {
_i_("269:bd335452"), c = n.offset().top, r.length && (d = r.offset().top - 50), _r_();
}
s.track("IZENYPERAMDBcPOeFYeMOKe") || (g(), p()), _r_();
}), B.when({
events:"ready",
condition:"hotel" === B.env.b_action
}).run(function(e) {
_i_("269:dba21b42");
var t, i = $("#bp_hp_back_count");
if (0 === i.length) return _r_();
t = Math.floor(i.val()), t += 1, i.val(t), t > 1 && $("#roomsForm").prepend('<input type="hidden" name="bp_hp_back" value="1" />'), _r_();
}), function() {
"use strict";
_i_("269:d15cf7be"), B.when({
events:"ready",
condition:B.env.b_has_abandoned_cart_data && "www" === B.env.b_site_type
}).run(function() {
_i_("269:d2f6a6e4");
function e(e) {
return _i_("269:05036c0d"), _r_($(e).parents(".abandoned-cart-growl-notification a"));
}
$(document).on("mouseenter", ".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp", function(t) {
_i_("269:f5eb1b5c"), e(t.target).addClass("bp_sca_growl_hp_link_active"), _r_();
}), $(document).on("mouseleave", ".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp", function(t) {
_i_("269:88dc16fd"), e(t.target).removeClass("bp_sca_growl_hp_link_active"), _r_();
}), $(document).on("click", "a.abandoned-cart-growl-notification, .abandoned-cart-growl-notification a", function(e) {
_i_("269:34b5e39d"), $(e.target).is(".abandoned-cart-growl-item-hotel-info__hotel_name") && (e.preventDefault(), e.stopPropagation(), window.open($(e.target).attr("data-hotel-page-url"), "_blank").focus()), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:2afc122b"), B.when({
condition:1,
events:"ready"
}).run(function(e) {
_i_("269:d6c003ed");
var t = e("jquery");
booking.events.on("growl:growlClosedManually", function(e) {
_i_("269:207ed5de"), e && e.type.indexOf("abandoned-cart-growl-notification") && e.growlElem.attr("data-cart-id") && t.ajax({
method:"POST",
url:"/hide_sca_data",
data:{
cart_id:e.growlElem.attr("data-cart-id"),
source:"growl"
},
success:function(e) {}
}), _r_();
}), _r_();
}), _r_();
}(), function() {
_i_("269:2eb0a458");
function e(e) {
_i_("269:cc47ee47");
function t() {
return _i_("269:b452dfed"), _r_(new Date().getTime());
}
function i() {
return _i_("269:d7ed94e8"), _r_(1e9 * Math.random() | 0);
}
var n = t() + ":" + i();
function o(i) {
return _i_("269:23e39200"), _r_(function() {
_i_("269:0ce636fb");
var n = e[i];
if (!n) return _r_(null);
var o = n.split(/\|/);
if (parseInt(o[1]) < t()) return _r_(null);
return _r_(o[0]);
});
}
function r(i, _, a) {
_i_("269:cdde2e25");
var s = i + "__MUTEX_x", l = i + "__MUTEX_y", c = o(l);
function d() {
_i_("269:5d9fb582");
try {
_();
} finally {
e.removeItem(l);
}
_r_();
}
if (e[s] = n, c()) return a || setTimeout(function() {
_i_("269:9eb1dfeb"), r(i, _), _r_();
}, 0), _r_(!1);
return e[l] = n + "|" + (t() + 40), e[s] !== n ? (a || setTimeout(function() {
_i_("269:ae71dc45"), c() !== n ? setTimeout(function() {
_i_("269:9eb1dfeb1"), r(i, _), _r_();
}, 0) :d(), _r_();
}, 50), _r_(!1)) :(d(), _r_(!0));
}
function _(a, s, l, c) {
_i_("269:dc29d928"), l = l || 5e3;
var d = a + "__MUTEX", h = o(d), u = n + ":" + i() + "|" + (t() + l);
function f() {
_i_("269:06b30a67"), setTimeout(function() {
_i_("269:56df5ded"), _(a, s, l), _r_();
}, 10), _r_();
}
if (h()) return c || f(), _r_(!1);
var p = r(a, function() {
if (_i_("269:2e183855"), h()) return c || f(), _r_(!1);
e[d] = u, c || setTimeout(b, 0), _r_();
}, c);
if (c && p) return b(), _r_(!0);
return _r_(!1);
function b() {
_i_("269:7405cc63");
try {
s();
} finally {
r(a, function() {
if (e[d] !== u) throw a + " was locked by a different process while I held the lock";
e.removeItem(d);
});
}
_r_();
}
}
return _r_({
lock:function(e, t, i) {
_i_("269:e1f8c11e"), _(e, t, i, !1), _r_();
},
trySyncLock:function(e, t, i) {
return _i_("269:4f83a925"), _r_(_(e, t, i, !0));
}
});
}
window.isLSTrackerIframe ? window.getLockableStorage = e :B.define("getLockableStorage", function() {
return _i_("269:c3cd3f18"), _r_(e);
}), _r_();
}(), B.when({
hover:"300ms .js-pod_smp_nr",
action:"hotel",
experiment:"TULQSaTfLcWeAFBMbETDVaO",
stage:1
}).run(), B.define("component/destination-os/poi-directions", function(e, t, i) {
"use strict";
if (_i_("269:172596c0"), !B.atlas) return _r_();
var n = "BUEGTUSGbEaJPGAAQeceaT", o = e("jquery"), r = B.atlas.assert, _ = B.atlas.require("atlas"), a = B.atlas.require("util-env"), s = e("et"), l = "hp_region_attractions_item", c = "attraction_distance_duration", d = "hp_region_attractions_item_map", h = "initialized", u = "active", f = function(e) {
return _i_("269:35948bdc"), _r_(o(e).parent("." + l).data("item-index"));
};
function p(e) {
return _i_("269:ed7bc983"), _r_(o("." + l + '[data-item-index="' + f(e) + '"]'));
}
function b(e) {
_i_("269:f9abe3ba");
var t = [ "bounds", "center-on-resize", "directions" ], i = {
scrollwheel:r.tdot ? !1 :!0,
panControl:!1,
zoom:12,
center:[ B.env.b_map_center_latitude, B.env.b_map_center_longitude ],
mapTypeControl:!1,
zoomPosition:B.env.rtl ? "LEFT_BOTTOM" :"RIGHT_BOTTOM"
};
e && (i = o.extend(i, e)), a.get("isCustomZoom") && (i.zoomControl = !1);
var n = new _({
modules:t,
options:i
});
return _r_(n);
}
function m(e, t) {
_i_("269:497175ab");
var i = f(e.$el), n = e.data.region_attractions.items[i], o = parseFloat(n.latitude), r = parseFloat(n.longitude);
g(e, t, o, r), _r_();
}
function g(e, t, i, n) {
_i_("269:03b7adf3");
var o = p(e.$el);
function r(e, t) {
_i_("269:ccc3934d");
var i = e.directionsRenderer().getDirections(), n = i.routes[0].legs[0];
t.find("." + c).text(", " + n.duration.text), _r_();
}
function _(e, i) {
_i_("269:c5661fd9"), "OK" === i ? (t.setDirections(e), r(t, o)) :booking.reportError(i, "Directions request failed"), _r_();
}
t.getDirectionsRoute({
origin:[ B.env.b_map_center_latitude, B.env.b_map_center_longitude ],
destination:[ i, n ],
travelMode:"TRANSIT"
}, _), _r_();
}
function v(e) {
_i_("269:93703385");
var t = p(e.$el), i = t.find("." + d);
if (t.hasClass(u) ? s.customGoal(n, 2) :s.customGoal(n, 1), !t.hasClass(u) && !i.hasClass(h)) {
var o = b({
domNode:i
});
o.done(m.bind(null, e)), i.addClass(h);
}
t.toggleClass(u), _r_();
}
return _r_(e("component").extend({
init:function() {
_i_("269:87db49e8"), B.events.on(B.hotel.Events.Other.REGION_ATTRACTIONS_MAP_CTA_CLICKED, v), _r_();
}
}));
}), B.when({
condition:"www" === B.env.b_site_type && B.env.b_reg_user_is_genius && $("#free_breakfast_for_genius") && !B.env.is_rooms_table_splitter,
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:6e09621d");
var t = e("jquery");
t(".rt__ge-free-breakfast-tell-me-more").mouseover(function(e) {
_i_("269:6df5cf02"), e.stopPropagation(), _r_();
}), _r_();
}), B.when({
action:"hotel"
}).run(function(e) {
_i_("269:a1fa1f25");
var t = e("jquery");
t(".js-fly-content-tooltip[data-ge-fly-tooltip]").on("click", function() {
_i_("269:fd52493b");
var e = t(".roomArea");
e.length && t("html, body").animate({
scrollTop:e.offset().top - 30
}, 800), _r_();
}), _r_();
}), B.when({
action:"hotel",
condition:B.env.b_reg_user_qualify_genius_challenge && $(".book-challenge-roadtrip").length
}).run(function(e) {
_i_("269:dec0b2bd");
var t = $(".js-challenge-hotel-tip-block");
B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, function() {
_i_("269:3bb2d843"), t.show(), _r_();
}), B.events.on(B.hotel.Events.RT.SUMMARY_HIDE, function() {
_i_("269:6fe9bbe5"), t.hide(), _r_();
}), _r_();
}), B.when({
condition:"www" === B.env.b_site_type && B.env.b_reg_user_is_genius,
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:f8cd7f24");
var t = e("jquery"), i = t(".js-rt__summary__reserve-button"), n = i.find("span.b-button__text").first(), o = i.data("ge-discount-cta"), r = n.text(), _ = {}, a = {};
function s(e) {
_i_("269:af6ab9dc");
var t = e.has_genius_rate ? _ :a;
0 !== +e.no_rooms ? t[e.block_id] = e :t[e.block_id] && delete t[e.block_id], _r_();
}
function l(e) {
return _i_("269:46288f4f"), _r_(Object.keys(e).length);
}
function c(e) {
if (_i_("269:1432e3a5"), s(e), !o || !r) return _r_();
var t = l(_), i = l(a);
t > 0 && !i ? n.text(o) :n.text(r), _r_();
}
B.events.on(B.hotel.Events.RT.ROOM_SELECTED, t.proxy(c, this), this), _r_();
}), B.when({
condition:"www" === B.env.b_site_type
}).require([ "require" ], function(e) {
_i_("269:1f5b3e95");
var t = e("booking-sticker"), i = e("jquery"), n = i(".hp_desc_main_content"), o = !!i(".room-facilities-highlights").length, r = i(".hp-description__show_more"), _ = i(".property_hightlights_wrapper"), a = !!r.length, s = i(".property_highlights_genius_lightweight");
if (B.env.b_is_vacation_rental && (s = i(".property_hightlights_wrapper")), !_.length) return a && n.removeClass("hp_desc_main_content_collapsed"), _r_();
var l = _.height();
if (n.height() - l > 100) {
if (a) {
var c, d = (parseInt(_.css("margin-top")) || 0) + 3, h = 150 > l ? 150 :l + d;
B.env.b_is_vacation_rental && (h += 60), s.length && !o && (h -= 10), i("body").hasClass("hprstrc") && (h -= 16), window.location.hash && 0 === window.location.hash.indexOf("#RD") && (c = i('a[name="' + window.location.hash.replace("#", "") + '"]')), n.css({
overflow:"hidden",
position:"relative"
}), n.height(h), n.removeClass("hp_desc_main_content_collapsed"), r.addClass("hp-description__show_more--visible"), c && c.length && i.scrollTo(c.offset().top), r.on("click", function() {
_i_("269:5b039260"), n.height("auto"), r.remove(), t.update(), _r_();
});
}
} else a && n.removeClass("hp_desc_main_content_collapsed");
_r_();
}), function() {
_i_("269:149d16e8"), B.when({
action:"hotel",
condition:"www" == B.env.b_site_type
}).run(function(e) {
_i_("269:a3f7a72e");
var t = e("jquery"), i = B.require("ga-tracker"), n = i.ugcdTracker || "UGC Review Page", o = "#reviews_inline_placeholder, #blockdisplay4", r = B.require("events"), _ = !1;
t(o).on("change", "#reviewer_type_filter", function() {
_i_("269:14aa4d31"), i.trackEvent(n, "Filter Group", this.value), _r_();
}), t(o).on("change", "#review_score_filter", function() {
_i_("269:8acda117");
var e = this.value || "all";
i.trackEvent(n, "Filter Range", e), _r_();
}), t(o).on("change", ".language_filter_checkbox", function() {
_i_("269:1e8cf7d1"), this.checked && i.trackEvent(n, "Filter Language", this.value), _r_();
}), t(o).on("click", ".js-review-list-topic-filter__item-link", function() {
_i_("269:87b3d9d3");
var e = t(this).data("categoryName") || t(this).data("category-id");
i.trackEvent(n, "Filter Topic", e), _r_();
}), t(o).on("change", "#review_sort", function() {
_i_("269:b0b6ab3b");
var e = this.value || "recommended";
i.trackEvent(n, "Sorting Selected", "Sorting: " + e), _r_();
}), t(o).on("click", ".review_item_photo", function() {
_i_("269:6b86c091"), i.trackEvent(n, "Review Item", "Click: Traveller photos"), _r_();
}), t(o).on("click", ".review-helpful__form-submit", function() {
_i_("269:f7d2b22d"), i.trackEvent(n, "Review Item", "Click: helpful"), _r_();
}), t(o).on("click", ".review-policy__open", function() {
_i_("269:1d25772f"), i.trackEvent(n, "Verified Reviews Banner", "Click: read more"), _r_();
}), t(o).on("click", ".review-tab-other-properties ul li", function() {
_i_("269:e360b859"), i.trackEvent(n, "Compset", "Click: property"), _r_();
}), r.on("reviews-tab-opened", function() {
_i_("269:90616c07"), i.trackEvent(n, "Reached", null), _r_();
}), t(o).on("click", "#review_next_page_link, #review_previous_page_link", function() {
_i_("269:452cd9e4"), _ = !0, _r_();
}), r.on("REVIEWS:fetched", function() {
if (_i_("269:88caa008"), !_) return _r_();
var e, o = t("#review_next_page_link").attr("href"), r = t("#review_previous_page_link").attr("href");
o ? (e = o.match(/offset=([0-9]+)/), e = e[1] / 10) :r ? (e = r.match(/offset=([0-9]+)/), e = Math.floor(e[1] / 10) + 2) :e = "", i.trackEvent(n, "Paging", "Page: " + e), _ = !1, _r_();
}), _r_();
}), _r_();
}(), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:87cf94c6");
var t = e("et");
B.env.b_is_vacation_rental && 219 != B.env.b_acc_type && B.env.b_is_single_unit_vr && (B.hotel.hashedTabs && B.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4") ? t.stage("NVNeffZZaefBePNFET", 1) :B.events.on("reviews-tab-opened", function() {
_i_("269:dfc04874"), t.stage("NVNeffZZaefBePNFET", 1), _r_();
}), $("#reviewFloater").one("mouseenter", function() {
_i_("269:b874a0a1"), t.stage("NVNeffZZaefBePNFET", 1), _r_();
})), _r_();
}), $(function() {
if (_i_("269:d3443a6c"), !B.env.run_vpm_d_hp_show_related_review_gallery) return _r_();
var e = $("#photo_wrapper"), t = e.find(".reviews-carousel-control-right"), i = e.find(".reviews-carousel-control-left"), n = e.find(".hp-gallery-control-next"), o = e.find(".hp-gallery-control-prev");
t.on("click", function() {
_i_("269:17024668"), n.triggerHandler("click"), _r_();
}), i.on("click", function() {
_i_("269:b95d2dfc"), o.triggerHandler("click"), _r_();
}), _r_();
}), B.define("component/fly-jstmpl-tooltip", function(e, t, i) {
"use strict";
_i_("269:5da7c9d5");
var n = e("jquery"), o = e("component"), r = e("utils"), _ = e("jstmpl");
i.exports = o.extend({
init:function() {
_i_("269:c19285f2"), this.data = r.nodeData(this.$el), this.env = this._prepareEnv(this.data.env), r.assertExists(this.data, "template");
var e = this.data.target ? n(this.data.target) :this.$el;
this.data.showOnHover ? this.popup = this.getTooltip(e, this.data.template).create(e) :this.popup = this.getPopup(e, this.data.template).create(e), _r_();
},
destroy:function() {
_i_("269:e0c0cc21"), this.popup._destroy(), _r_();
},
getPosition:function() {
return _i_("269:7b98f082"), _r_(this.data.position || (booking.env.rtl ? "bottom left" :"bottom right"));
},
getData:function() {
return _i_("269:867e130f"), _r_(this.data);
},
_prepareEnv:function() {
_i_("269:071e09c0");
for (var e = {}, t = (this.data.env || "").split(","), i = 0; i < t.length; ++i) e[t[i]] = B.env[t[i]];
return _r_(e);
},
_render:function(e, t, i) {
_i_("269:c11c7645"), e.html(_(t).render(Object.assign({}, this.env, i))).loadComponents(), _r_();
},
getTooltip:function(e, t) {
_i_("269:571e4b43");
var i = this.getData();
return _r_(this.getPopupBase(e, n.fly.tooltip, t, i).extend({
defaults:{
extraClass:this.data.extraClass,
position:this.getPosition(),
content:"",
showDelay:200,
baseClass:"fly-dropdown",
hideClass:"fly-dropdown_hidden",
keepOnContent:!0
}
}));
},
getPopup:function(e, t) {
_i_("269:61f4faa2");
var i = this, o = this.getData();
return _r_(this.getPopupBase(e, n.fly.dropdown, t, o).extend({
defaults:{
extraClass:this.data.extraClass,
position:this.getPosition(),
content:""
},
_autohide:function(t) {
_i_("269:5256b950");
var o = this, r = "mousedown" + o.ens;
if (!t) return _r_();
this.bind(this.events.show, function() {
_i_("269:4dfdca20"), setTimeout(a, 0), _r_();
}), i.data.preventAutoHide || this.bind(this.events.show, function() {
_i_("269:8e9469c1"), setTimeout(_, 0), _r_();
}).bind(this.events.hide, function() {
_i_("269:65e9bf9c"), n(document).unbind(r), _r_();
});
function _() {
_i_("269:8e11a4c6"), n(document).bind(r, function(t) {
if (_i_("269:8cdb34dc"), e.get(0) === t.target || n.contains(e.get(0), t.target) || n.contains(o.root().get(0), t.target)) return _r_();
o.hide(), _r_();
}), _r_();
}
function a() {
_i_("269:2b60ee9a"), o.root().delegate(".js-close", r, function() {
_i_("269:9d1f1248"), o.hide(), _r_();
}), _r_();
}
_r_();
}
}));
},
getPopupBase:function(e, t, i, o) {
_i_("269:068b02cb");
var r = this.data.activeClass, _ = this._render.bind(this);
return _r_(t.extend({
_render:function() {
_i_("269:f0ce66fe"), _(this.root(), i, o), this._rendered = !0, _r_();
},
_position:function() {
_i_("269:a9ad6bd7");
var e = this.options.position.split(" "), t = n.fly._mixin.position.apply(this), i = this._rect(this.root()), o = this._rect(this.handle()), r = e[2];
switch (r) {
case "handle-left":
t.left = o.left;
break;

case "handle-right":
t.left = o.left + o.width - i.width;
}
return _r_(t);
},
init:function() {
_i_("269:b9ae2eab"), r && this.bind(this.events.show, e.addClass.bind(e, r)).bind(this.events.hide, e.removeClass.bind(e, r)), _r_();
}
}));
}
}), _r_();
}), B.define("component/social/social-share", function(e, t, i) {
"use strict";
_i_("269:41992c1e");
var n = e("component"), o = {
facebook:"https://www.facebook.com/sharer/sharer.php?u=",
twitter:"https://twitter.com/intent/tweet?url=",
email:"mailto:"
}, r = {
facebook:"-facebook",
email:"-email",
twitter:"-twitter",
link:"-link"
}, _ = /(&|;|\?)(aid=)(\d+)/;
i.exports = n.extend({
init:function() {
_i_("269:3a02bc84"), this.setElements(), this.setOptions(), this.updateLinks(), this.attachEvents(), _r_();
},
setElements:function() {
_i_("269:a82b64f7"), this.$fbBtn = this.$el.find(".component-social_share-button-facebook"), this.$copyBtn = this.$el.find(".component-social_share-button-link"), this.$emailBtn = this.$el.find(".component-social_share-button-email"), this.$twitterBtn = this.$el.find(".component-social_share-button-twitter"), this.$copyNotification = this.$copyBtn.find(".component-social_share-button-copy_notification"), _r_();
},
setOptions:function() {
_i_("269:9dd0770e"), this.baseURL = this.$el.data("shareUrl"), this.$el.data("additionalUrlParams") && (this.additionalUrlParams = this.$el.data("additionalUrlParams")), this.urlHashTag = this.$el.data("urlHashTag") ? this.$el.data("urlHashTag") :"", this.shortenUrl = this.$el.data("shortenUrl") ? !0 :!1, this.stripParams = this.$el.data("stripUrlParams") ? !0 :!1, this.aidKeep = this.$el.data("keepAid") ? !0 :!1, this.aidOverride = this.$el.data("aidOverride"), this.aidCurrent = window.location.href.match(_) ? window.location.href.match(_)[3] :!1, this.socialLabelBase = this.$el.data("socialTrackingLabel") ? "&label=" + this.$el.data("socialTrackingLabel") :"", _r_();
},
attachEvents:function() {
_i_("269:df895d2b");
var e = this;
this.$fbBtn.on("click", function(t) {
_i_("269:0bc46636"), t.preventDefault(), e.showPopupWindow($(this).attr("href"), "", 630, 320), _r_();
}), this.$twitterBtn.on("click", function(t) {
_i_("269:c2322781"), t.preventDefault(), e.showPopupWindow($(this).attr("href"), "", 630, 420), _r_();
}), this.$copyBtn.on("click", this.copyLink.bind(this)), _r_();
},
updateLinks:function() {
_i_("269:7686fe66"), this.preformatBaseLink(), this.$fbBtn && this.$fbBtn.attr("href", o.facebook + encodeURIComponent(this.baseURL + this.generateSocialLabel(r.facebook) + this.urlHashTag)), this.$twitterBtn && this.$twitterBtn.attr("href", o.twitter + encodeURIComponent(this.baseURL + this.generateSocialLabel(r.twitter) + this.urlHashTag)), this.$emailBtn && this.$emailBtn.attr("href", "mailto:?subject=" + this.$emailBtn.data("emailSubject") + "&body=" + encodeURIComponent(this.baseURL + this.generateSocialLabel(r.email) + this.urlHashTag)), this.$copyBtn && this.$copyBtn.attr("href", this.baseURL + this.generateSocialLabel(r.link) + this.urlHashTag), _r_();
},
copyLink:function(e) {
if (_i_("269:f47eb09c"), e.preventDefault(), document.execCommand) {
this.$copyBtn.find("input").val(this.$copyBtn.attr("href")).removeClass("g-hidden").select();
var t = document.execCommand("copy");
this.$copyBtn.find("input").addClass("g-hidden"), t && this.$copyNotification && this.$copyNotification.fadeIn(150).delay(1e3).fadeOut(150);
} else window.prompt(this.$copyBtn.data("promptText"), this.$copyBtn.attr("href"));
_r_();
},
generateSocialLabel:function(e) {
return _i_("269:f0548683"), _r_(this.socialLabelBase ? this.socialLabelBase + e :"");
},
preformatBaseLink:function() {
_i_("269:b4a85df7"), this.stripParams && this.removeParameters(), this.additionalUrlParams && this.addParamstoUrl(this.additionalUrlParams), this.updateAid(), _r_();
},
updateAid:function() {
_i_("269:9a8ed8cb");
var e;
if (e = this.aidOverride ? this.aidOverride :this.aidCurrent, this.aidKeep) if (e && _.test(this.baseURL)) {
var t = this.baseURL.match(_);
e = t[1] + t[2] + e, this.baseURL = this.baseURL.replace(_, e);
} else e && this.addParamstoUrl("&aid=" + e);
_r_();
},
minifyUrl:function(e) {},
removeParameters:function() {
_i_("269:c81503a2"), this.baseURL = this.baseURL.split("?")[0] + "?", _r_();
},
addParamstoUrl:function(e) {
_i_("269:a74ef36b"), this.baseURL += e, _r_();
},
showPopupWindow:function(e, t, i, n) {
_i_("269:6a031f63");
var o = window.screen.width / 2 - i / 2, r = window.screen.height / 2 - n / 2;
return _r_(window.open(e, t, "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=" + i + ", height=" + n + ", top=" + r + ", left=" + o));
}
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:b4a14f3b");
var t, i = $(".review-tab-other-properties"), n = i.find(".slider-track"), o = n.find("ul"), r = o.find("li"), _ = B.env.rtl ? i.find(".next-property") :i.find(".prev-property"), a = B.env.rtl ? i.find(".prev-property") :i.find(".next-property"), s = r.outerWidth(), l = parseInt(r.css("margin-left"), 10) + parseInt(r.css("margin-right"), 10), c = 0;
function d() {
_i_("269:b590f943"), c = c > 0 ? c - 1 :0, u(), _r_();
}
function h() {
_i_("269:04819f09"), c = c < r.length ? c + 1 :r.length, u(), _r_();
}
function u() {
_i_("269:e1df669f");
var e = B.env.rtl ? "right" :"left";
o.css(e, (s + l) * -c + (c ? 26 :0) + (c == r.length - 2 ? 26 :0)), c == r.length - 2 ? a.hide() :a.show(), 0 == c ? _.hide() :_.show(), _r_();
}
function f() {
_i_("269:d8836b86"), r.length && !t && (t = !0, o.width(r.length * (s + l)), _.on("click", d), a.on("click", h)), c = 0, u(), _r_();
}
B.events.on("reviews-tab-opened", f), B.hotel.hashedTabs.getVisibleTab().filter('[data-tab="reviews"]').length && f(), B.events.on("hotel:reviewlist:request:tab", function() {
_i_("269:86462c55"), i.hide(), _r_();
}), B.events.on("hotel:reviewlist:success:tab", function() {
_i_("269:93ce02cc");
var e = $(".review-tab-other-properties-tracker").clone();
e.prependTo($("#blockdisplay4 .review_list > li").last()).show(), i.show(), _r_();
}), _r_();
}), B.define("component/onview-animate", function(e, t, i) {
_i_("269:f8cde9cb1");
var n, o = e("component");
n = B.tools && B.tools.dom && "function" == typeof B.tools.dom.watchIfBlockVisibleInViewport ? B.tools.dom.watchIfBlockVisibleInViewport :e("core/utils/onview").run;
function r() {
return _i_("269:4ebec1801"), _r_(Math.floor(400 * Math.random() + 300) + 500);
}
var _ = o.extend({
init:function() {
_i_("269:c733f5401");
var e = this, t = e.$el, i = t.attr("data-anim-type") || "", o = t.attr("data-onview-cls") || "", _ = t.attr("data-onview-cls-remove") || "", a = t.attr("data-rollup-time") || 1500, s = t.attr("data-anim-trigger") || "onview";
function l(e) {
_i_("269:dea19eef1");
var n = e && e.type;
switch (i) {
case "rollover":
setTimeout(function() {
_i_("269:6d73cf651"), t.addClass("rollover-anim"), setTimeout(function() {
_i_("269:d5db5f5e1"), t.removeClass("rollover-anim"), _r_();
}, a), _r_();
}, "string" == typeof n ? 10 :r());
break;

default:
setTimeout(function() {
_i_("269:8fef69ed1"), _.length && t.removeClass(_), t.addClass(i).addClass(o).trigger("complete.anim"), _r_();
}, Math.floor(250 * Math.random()) + 500);
}
_r_();
}
function c(e) {
switch (_i_("269:31b8f2f21"), e) {
case "mouseenter":
if ("rollover" == i) {
var o;
t.on("mouseenter", function() {
_i_("269:b40274fb1"), clearTimeout(o), o = setTimeout(function() {
_i_("269:7b3c01c81"), t.addClass("rollover-anim"), _r_();
}, 100), _r_();
}), t.on("mouseleave", function() {
_i_("269:b0534ba01"), clearTimeout(o), o = setTimeout(function() {
_i_("269:377e5cdf1"), t.removeClass("rollover-anim"), _r_();
}, 100), _r_();
});
} else t.on("mouseenter", l);
break;

case "manual":
t.on("anim.onview", l);
break;

case "click":
t.on("click", l);
break;

case "onview":
default:
n(t, l);
}
_r_();
}
s.trim().split(/\s+/).forEach(function(e) {
_i_("269:0278d06e1"), c(e.trim()), _r_();
}), _r_();
}
});
i.exports = _, _r_();
}), B.when({
condition:"de" === B.env.b_selected_language || "zh-cn" === B.env.b_selected_language || "ru" === B.env.b_selected_language || "es" === B.env.b_selected_language || "fr" === B.env.b_selected_language,
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:fd94fd2d");
var t = e("jquery"), i = e("et"), n = "adUAAOcMIdRQWEYIRNLTLfHGSSFKHYbYPDSINIXfAbBaFO", o = e("events"), r = {
pixel:"[data-js-utteurtdaz-pixel]",
parent:".althotelsDiv2.featured_reviewer",
eventName:"hp:gallery_rf_slide",
init:function() {
_i_("269:fcc4cfaa"), t(this.pixel).length > 0 && this.bindEvent(), _r_();
},
bindEvent:function() {
_i_("269:91a7d174"), o.on(this.eventName, t.proxy(this.handleSlideChange, this)), _r_();
},
handleSlideChange:function() {
_i_("269:f0c703a0");
var e = this;
window.setTimeout(function() {
_i_("269:18f3f733");
var o = t(e.parent).filter(function() {
return _i_("269:3191a5b0"), _r_("1" == t(this).css("opacity"));
}), r = o.find(e.pixel);
r.length > 0 && (i.stage(n, 2), i.stage(n, 3)), _r_();
}, 1e3), _r_();
}
}, _ = {
originalLink:".hp-social_proof-item__translated .toggler",
translationLink:".hp-social_proof-item__original .toggler",
originalWrapper:".hp-social_proof-item__original",
translationWrapper:".hp-social_proof-item__translated",
wrapper:t(".hp-social_proof-quote_bubble"),
init:function() {
_i_("269:ece2dd94"), this.bindEvent(), _r_();
},
bindEvent:function() {
_i_("269:f4750e2f"), this.wrapper.on("click", this.originalLink, t.proxy(this.showOriginal, this)), this.wrapper.on("click", this.translationLink, t.proxy(this.showTranslation, this)), _r_();
},
showTranslation:function(e) {
_i_("269:6aed08a0"), this.hideAll(e), t(e.delegateTarget).find(this.translationWrapper).stop().show(), _r_();
},
showOriginal:function(e) {
_i_("269:0261582a"), this.hideAll(e), t(e.delegateTarget).find(this.originalWrapper).stop().show(), i.customGoal(n, 2), _r_();
},
hideAll:function(e) {
_i_("269:0f5590b9"), t(e.delegateTarget).find(this.originalWrapper + "," + this.translationWrapper).stop().hide(), _r_();
}
};
_.init(), r.init(), _r_();
}), function() {
_i_("269:ba0ddedf"), B.when({
events:"ready",
action:"hotel"
}).run(function(e) {
_i_("269:fab6ebba"), function(e) {
_i_("269:d1161c74");
var t, i, n, o, r, _, a, s, l, c, d, h, u, f = e.require("jquery"), p = (e.require("et"), e.require("events")), b = 0, m = {}, g = [], v = 0, y = {}, w = [], M = null, k = new Image(), B = /\.(jpg|gif|png|bmp|jpeg)(.*)?$/i, C = /[^\.]\.(swf)\s*$/i, T = 1, x = 0, E = "", S = !1, N = f.extend(f("<div/>")[0], {
prop:0
}), O = function() {
_i_("269:9a687b55"), i.hide(), k.onerror = k.onload = null, M && M.abort(), t.empty(), _r_();
}, j = function() {
if (_i_("269:9e90d331"), !1 === m.onError(g, b, m)) return i.hide(), S = !1, _r_();
m.titleShow = !1, m.width = "auto", m.height = "auto", t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'), A(), _r_();
}, I = function() {
_i_("269:c80f51ae");
var e, n, o, r, a, s, l = g[b];
if (O(), m = f.extend({}, f.fn.fancybox.defaults, "undefined" == typeof f(l).data("fancybox") ? m :f(l).data("fancybox")), s = m.onStart(g, b, m), s === !1) return S = !1, _r_();
if ("object" == typeof s && (m = f.extend(m, s)), o = m.title || (l.nodeName ? f(l).attr("title") :l.title) || "", l.nodeName && !m.orig && (m.orig = f(l).children("img:first").length ? f(l).children("img:first") :f(l)), "" === o && m.orig && m.titleFromAlt && (o = m.orig.attr("alt")), e = m.href || (l.nodeName ? f(l).attr("href") :l.href) || null, (/^(?:javascript)/i.test(e) || "#" == e) && (e = null), m.type ? (n = m.type, e || (e = m.content)) :m.content ? n = "html" :e && (n = e.match(B) ? "image" :e.match(C) ? "swf" :f(l).hasClass("iframe") ? "iframe" :0 === e.indexOf("#") ? "inline" :"ajax"), !n) return j(), _r_();
switch ("inline" == n && (l = e.substr(e.indexOf("#")), n = f(l).length > 0 ? "inline" :"ajax"), m.type = n, m.href = e, m.title = o, m.autoDimensions && ("html" == m.type || "inline" == m.type || "ajax" == m.type ? (m.width = "auto", m.height = "auto") :m.autoDimensions = !1), m.modal && (m.overlayShow = !0, m.hideOnOverlayClick = !1, m.hideOnContentClick = !1, m.enableEscapeButton = !1, m.showCloseButton = !1), m.padding = parseInt(m.padding, 10), m.margin = parseInt(m.margin, 10), t.css("padding", m.padding + m.margin), f(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change", function() {
_i_("269:51918704"), f(this).replaceWith(_.children()), _r_();
}), n) {
case "html":
t.html(m.content), A();
break;

case "inline":
if (f(l).parent().is("#fancybox-content") === !0) return S = !1, _r_();
f('<div class="fancybox-inline-tmp" />').hide().insertBefore(f(l)).bind("fancybox-cleanup", function() {
_i_("269:6d8a1d4e"), f(this).replaceWith(_.children()), _r_();
}).bind("fancybox-cancel", function() {
_i_("269:013e41a7"), f(this).replaceWith(t.children()), _r_();
}), f(l).appendTo(t), A();
break;

case "image":
S = !1, f.fancybox.showActivity(), k = new Image(), k.onerror = function() {
_i_("269:d321ab2b"), j(), _r_();
}, k.onload = function() {
_i_("269:4ed66e7d"), S = !0, k.onerror = k.onload = null, P(), _r_();
}, k.src = e;
break;

case "swf":
m.scrolling = "no", r = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="' + m.width + '" height="' + m.height + '"><param name="movie" value="' + e + '"></param>', a = "", f.each(m.swf, function(e, t) {
_i_("269:d97e7de9"), r += '<param name="' + e + '" value="' + t + '"></param>', a += " " + e + '="' + t + '"', _r_();
}), r += '<embed src="' + e + '" type="application/x-shockwave-flash" width="' + m.width + '" height="' + m.height + '"' + a + "></embed></object>", t.html(r), A();
break;

case "ajax":
S = !1, f.fancybox.showActivity(), m.ajax.win = m.ajax.success, M = f.ajax(f.extend({}, m.ajax, {
url:e,
data:m.ajax.data || {},
error:function(e, t, i) {
_i_("269:005e26b5"), e.status > 0 && j(), _r_();
},
success:function(n, o, r) {
_i_("269:6effd693");
var _ = "object" == typeof r ? r :M;
if (200 == _.status) {
if ("function" == typeof m.ajax.win) {
if (s = m.ajax.win(e, n, o, r), s === !1) return i.hide(), _r_();
("string" == typeof s || "object" == typeof s) && (n = s);
}
t.html(n), A();
}
_r_();
}
}));
break;

case "iframe":
L();
}
_r_();
}, A = function() {
_i_("269:04b32d43");
var e = m.width, i = m.height;
e = e.toString().indexOf("%") > -1 ? parseInt((f(window).width() - 2 * m.margin) * parseFloat(e) / 100, 10) + "px" :"auto" == e ? "auto" :e + "px", i = i.toString().indexOf("%") > -1 ? parseInt((f(window).height() - 2 * m.margin) * parseFloat(i) / 100, 10) + "px" :"auto" == i ? "auto" :i + "px", t.wrapInner('<div style="width:' + e + ";height:" + i + ";overflow: " + ("auto" == m.scrolling ? "auto" :"yes" == m.scrolling ? "scroll" :"hidden") + ';position:relative;"></div>'), m.width = t.width(), m.height = t.height(), L(), _r_();
}, P = function() {
_i_("269:a1608eb5"), m.width = k.width, m.height = k.height, f("<img />").attr({
id:"fancybox-img",
src:k.src,
alt:m.title
}).appendTo(t), L(), _r_();
}, L = function() {
_i_("269:460c650d");
var e, r;
if (i.hide(), o.is(":visible") && !1 === y.onCleanup(w, v, y)) return S = !1, _r_();
if (S = !0, f(_.add(n)).unbind(), f(window).unbind("resize.fb scroll.fb"), f(document).unbind("keydown.fb"), o.is(":visible") && "outside" !== y.titlePosition && o.css("height", o.height()), w = g, v = b, y = m, y.overlayShow ? (n.css({
"background-color":y.overlayColor,
opacity:y.overlayOpacity,
cursor:y.hideOnOverlayClick ? "pointer" :"auto",
height:f(document).height()
}), n.is(":visible") || n.show()) :n.hide(), u = V(), D(), o.is(":visible")) return f(a.add(l).add(c)).hide(), e = o.position(), h = {
top:e.top,
left:e.left,
width:o.width(),
height:o.height()
}, r = h.width == u.width && h.height == u.height, _.fadeTo(y.changeFade, .3, function() {
_i_("269:4c87b4ed");
var e = function() {
_i_("269:9f2ee100"), _.html(t.contents()).fadeTo(y.changeFade, 1, J), _r_();
};
_.empty().removeAttr("filter").css({
"border-width":y.padding,
width:u.width - 2 * y.padding,
height:m.autoDimensions ? "auto" :u.height - x - 2 * y.padding
}), r ? e() :(N.prop = 0, f(N).animate({
prop:1
}, {
duration:y.changeSpeed,
easing:y.easingChange,
step:H,
complete:e
})), _r_();
}), _r_();
if (o.removeAttr("style"), _.css("border-width", y.padding), "elastic" == y.transitionIn) return h = W(), _.html(t.contents()), o.show(), y.opacity && (u.opacity = 0), N.prop = 0, f(N).animate({
prop:1
}, {
duration:y.speedIn,
easing:y.easingIn,
step:H,
complete:J
}), _r_();
"inside" == y.titlePosition && x > 0 && s.show(), _.css({
width:u.width - 2 * y.padding,
height:m.autoDimensions ? "auto" :u.height - x - 2 * y.padding
}).html(t.contents()), o.css(u).fadeIn("none" == y.transitionIn ? 0 :y.speedIn, J), _r_();
}, $ = function(e) {
if (_i_("269:44f061bd"), e && e.length) {
if ("float" == y.titlePosition) return _r_('<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">' + e + '</td><td id="fancybox-title-float-right"></td></tr></table>');
return _r_('<div id="fancybox-title-' + y.titlePosition + '">' + e + "</div>");
}
return _r_(!1);
}, D = function() {
if (_i_("269:e881803b"), E = y.title || "", x = 0, s.empty().removeAttr("style").removeClass(), y.titleShow === !1) return s.hide(), _r_();
if (E = f.isFunction(y.titleFormat) ? y.titleFormat(E, w, v, y) :$(E), !E || "" === E) return s.hide(), _r_();
switch (s.addClass("fancybox-title-" + y.titlePosition).html(E).appendTo("body").show(), y.titlePosition) {
case "inside":
s.css({
width:u.width - 2 * y.padding,
marginLeft:y.padding,
marginRight:y.padding
}), x = s.outerHeight(!0), s.appendTo(r), u.height += x;
break;

case "over":
s.css({
marginLeft:y.padding,
width:u.width - 2 * y.padding,
bottom:y.padding
}).appendTo(r);
break;

case "float":
s.css("left", -1 * parseInt((s.width() - u.width - 40) / 2, 10)).appendTo(o);
break;

default:
s.css({
width:u.width - 2 * y.padding,
paddingLeft:y.padding,
paddingRight:y.padding
}).appendTo(o);
}
s.hide(), _r_();
}, R = function() {
if (_i_("269:ea2bc12a"), (y.enableEscapeButton || y.enableKeyboardNav) && f(document).bind("keydown.fb", function(e) {
_i_("269:4b2703b1"), 27 == e.keyCode && y.enableEscapeButton ? (e.preventDefault(), f.fancybox.close()) :37 != e.keyCode && 39 != e.keyCode || !y.enableKeyboardNav || "INPUT" === e.target.tagName || "TEXTAREA" === e.target.tagName || "SELECT" === e.target.tagName || (e.preventDefault(), f.fancybox[37 == e.keyCode ? "prev" :"next"]()), _r_();
}), !y.showNavArrows) return l.hide(), c.hide(), _r_();
(y.cyclic && w.length > 1 || 0 !== v) && l.show(), (y.cyclic && w.length > 1 || v != w.length - 1) && c.show(), _r_();
}, J = function() {
_i_("269:89dbb8ef"), f.support.opacity || (_.get(0).style.removeAttribute("filter"), o.get(0).style.removeAttribute("filter")), m.autoDimensions && _.css("height", "auto"), o.css("height", "auto"), E && E.length && s.show(), y.showCloseButton && a.show(), R(), y.hideOnContentClick && _.bind("click", f.fancybox.close), y.hideOnOverlayClick && n.bind("click", f.fancybox.close), f(window).bind("resize.fb", f.fancybox.resize), y.centerOnScroll && f(window).bind("scroll.fb", f.fancybox.center), "iframe" == y.type && f('<iframe id="fancybox-frame" name="fancybox-frame' + new Date().getTime() + '" frameborder="0" hspace="0" ' + (f.browser.msie ? 'allowtransparency="true""' :"") + ' scrolling="' + m.scrolling + '" src="' + y.href + '"></iframe>').appendTo(_), o.show(), S = !1, f.fancybox.center(), y.onComplete(w, v, y), p.trigger("REVIEWS:photo_gallery:photo_loaded", k), F(), _r_();
}, F = function() {
_i_("269:fed70d0a");
var e, t;
w.length - 1 > v && (e = w[v + 1].href, "undefined" != typeof e && e.match(B) && (t = new Image(), t.src = e)), v > 0 && (e = w[v - 1].href, "undefined" != typeof e && e.match(B) && (t = new Image(), t.src = e)), _r_();
}, H = function(e) {
_i_("269:d41f2f8c");
var t = {
width:parseInt(h.width + (u.width - h.width) * e, 10),
height:parseInt(h.height + (u.height - h.height) * e, 10),
top:parseInt(h.top + (u.top - h.top) * e, 10),
left:parseInt(h.left + (u.left - h.left) * e, 10)
};
"undefined" != typeof u.opacity && (t.opacity = .5 > e ? .5 :e), o.css(t), _.css({
width:t.width - 2 * y.padding,
height:t.height - x * e - 2 * y.padding
}), _r_();
}, q = function() {
return _i_("269:2f6a9043"), _r_([ f(window).width() - 2 * y.margin, f(window).height() - 2 * y.margin, f(document).scrollLeft() + y.margin, f(document).scrollTop() + y.margin ]);
}, V = function() {
_i_("269:736a0068");
var e, t = q(), i = {}, n = y.autoScale, o = 2 * y.padding;
return y.width.toString().indexOf("%") > -1 ? i.width = parseInt(t[0] * parseFloat(y.width) / 100, 10) :i.width = y.width + o, y.height.toString().indexOf("%") > -1 ? i.height = parseInt(t[1] * parseFloat(y.height) / 100, 10) :i.height = y.height + o, n && (i.width > t[0] || i.height > t[1]) && ("image" == m.type || "swf" == m.type ? (e = y.width / y.height, i.width > t[0] && (i.width = t[0], i.height = parseInt((i.width - o) / e + o, 10)), i.height > t[1] && (i.height = t[1], i.width = parseInt((i.height - o) * e + o, 10))) :(i.width = Math.min(i.width, t[0]), i.height = Math.min(i.height, t[1]))), i.top = parseInt(Math.max(t[3] - 20, t[3] + .5 * (t[1] - i.height - 40)), 10), i.left = parseInt(Math.max(t[2] - 20, t[2] + .5 * (t[0] - i.width - 40)), 10), _r_(i);
}, G = function(e) {
_i_("269:6f405c20");
var t = e.offset();
return t.top += parseInt(e.css("paddingTop"), 10) || 0, t.left += parseInt(e.css("paddingLeft"), 10) || 0, t.top += parseInt(e.css("border-top-width"), 10) || 0, t.left += parseInt(e.css("border-left-width"), 10) || 0, t.width = e.width(), t.height = e.height(), _r_(t);
}, W = function() {
_i_("269:a1eb4ed9");
var e, t, i = m.orig ? f(m.orig) :!1, n = {};
return i && i.length ? (e = G(i), n = {
width:e.width + 2 * y.padding,
height:e.height + 2 * y.padding,
top:e.top - y.padding - 20,
left:e.left - y.padding - 20
}) :(t = q(), n = {
width:2 * y.padding,
height:2 * y.padding,
top:parseInt(t[3] + .5 * t[1], 10),
left:parseInt(t[2] + .5 * t[0], 10)
}), _r_(n);
}, U = function() {
if (_i_("269:2099b30f"), !i.is(":visible")) return clearInterval(d), _r_();
f("div", i).css("top", -40 * T + "px"), T = (T + 1) % 12, _r_();
};
f.fn.fancybox = function(e) {
if (_i_("269:719aef11"), !f(this).length) return _r_(this);
return f(this).data("fancybox", f.extend({}, e, f.metadata ? f(this).metadata() :{})).unbind("click.fb").bind("click.fb", function(e) {
if (_i_("269:a66255f1"), e.preventDefault(), S) return _r_();
S = !0, f(this).blur(), g = [], b = 0;
var t = f(this).attr("rel") || "";
return t && "" != t && "nofollow" !== t ? (g = f("a[rel=" + t + "], area[rel=" + t + "]"), b = g.index(this)) :g.push(this), I(), _r_();
}), _r_(this);
}, f.fancybox = function(e) {
_i_("269:f695b147");
var t;
if (S) return _r_();
if (S = !0, t = "undefined" != typeof arguments[1] ? arguments[1] :{}, g = [], b = parseInt(t.index, 10) || 0, f.isArray(e)) {
for (var i = 0, n = e.length; n > i; i++) "object" == typeof e[i] ? f(e[i]).data("fancybox", f.extend({}, t, e[i])) :e[i] = f({}).data("fancybox", f.extend({
content:e[i]
}, t));
g = jQuery.merge(g, e);
} else "object" == typeof e ? f(e).data("fancybox", f.extend({}, t, e)) :e = f({}).data("fancybox", f.extend({
content:e
}, t)), g.push(e);
(b > g.length || 0 > b) && (b = 0), I(), _r_();
}, f.fancybox.showActivity = function() {
_i_("269:d06a46b0"), clearInterval(d), i.show(), d = setInterval(U, 66), _r_();
}, f.fancybox.hideActivity = function() {
_i_("269:b706285d"), i.hide(), _r_();
}, f.fancybox.next = function() {
return _i_("269:ee2c439f"), _r_(f.fancybox.pos(v + 1));
}, f.fancybox.prev = function() {
return _i_("269:b4faa4e7"), _r_(f.fancybox.pos(v - 1));
}, f.fancybox.pos = function(e) {
if (_i_("269:2bf52102"), S) return _r_();
return e = parseInt(e), g = w, e > -1 && e < w.length ? (b = e, I()) :y.cyclic && w.length > 1 && (b = e >= w.length ? 0 :w.length - 1, I()), _r_();
}, f.fancybox.cancel = function() {
if (_i_("269:fd2e0e79"), S) return _r_();
S = !0, O(), m.onCancel(g, b, m), S = !1, _r_();
}, f.fancybox.close = function() {
if (_i_("269:a4b273a1"), S || o.is(":hidden")) return _r_();
if (S = !0, y && !1 === y.onCleanup(w, v, y)) return S = !1, _r_();
O(), f(a.add(l).add(c)).hide(), f(_.add(n)).unbind(), f(window).unbind("resize.fb scroll.fb"), f(document).unbind("keydown.fb"), _.find("iframe").attr("src", "about:blank"), "inside" !== y.titlePosition && s.empty(), o.stop();
function e() {
_i_("269:f69b08bd"), n.fadeOut("fast"), s.empty().hide(), o.hide(), _.empty(), y.onClosed(w, v, y), w = m = [], v = b = 0, y = m = {}, S = !1, _r_();
}
if ("elastic" == y.transitionOut) {
h = W();
var t = o.position();
u = {
top:t.top,
left:t.left,
width:o.width(),
height:o.height()
}, y.opacity && (u.opacity = 1), s.empty().hide(), N.prop = 1, f(N).animate({
prop:0
}, {
duration:y.speedOut,
easing:y.easingOut,
step:H,
complete:e
});
} else o.fadeOut("none" == y.transitionOut ? 0 :y.speedOut, e);
_r_();
}, f.fancybox.resize = function() {
_i_("269:bbb7d2eb"), n.is(":visible") && n.css("height", f(document).height()), f.fancybox.center(!0), _r_();
}, f.fancybox.center = function() {
_i_("269:0905fa91");
var e, t;
if (S) return _r_();
if (t = arguments[0] === !0 ? 1 :0, e = q(), !t && (o.width() > e[0] || o.height() > e[1])) return _r_();
o.stop().animate({
top:parseInt(Math.max(e[3] - 20, e[3] + .5 * (e[1] - _.height() - 40) - y.padding)),
left:parseInt(Math.max(e[2] - 20, e[2] + .5 * (e[0] - _.width() - 40) - y.padding))
}, "number" == typeof arguments[0] ? arguments[0] :200), _r_();
}, f.fancybox.init = function() {
if (_i_("269:2b5482cf"), f("#fancybox-wrap").length) return _r_();
f("body").append(t = f('<div id="fancybox-tmp"></div>'), i = f('<div id="fancybox-loading"><div></div></div>'), n = f('<div id="fancybox-overlay"></div>'), o = f('<div id="fancybox-wrap"></div>')), r = f('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(o), r.append(_ = f('<div id="fancybox-content"></div>'), a = f('<a id="fancybox-close"></a>'), s = f('<div id="fancybox-title"></div>'), l = f('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'), c = f('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')), a.click(f.fancybox.close), i.click(f.fancybox.cancel), l.click(function(e) {
_i_("269:acd5a525"), e.preventDefault(), f.fancybox.prev(), _r_();
}), c.click(function(e) {
_i_("269:7bd1c6f0"), e.preventDefault(), f.fancybox.next(), _r_();
}), f.fn.mousewheel && o.bind("mousewheel.fb", function(e, t) {
_i_("269:b8a09d27"), S ? e.preventDefault() :(0 == f(e.target).get(0).clientHeight || f(e.target).get(0).scrollHeight === f(e.target).get(0).clientHeight) && (e.preventDefault(), f.fancybox[t > 0 ? "prev" :"next"]()), _r_();
}), f.support.opacity || o.addClass("fancybox-ie"), _r_();
}, f.fn.fancybox.defaults = {
padding:10,
margin:40,
opacity:!1,
modal:!1,
cyclic:!1,
scrolling:"auto",
width:560,
height:340,
autoScale:!0,
autoDimensions:!0,
centerOnScroll:!1,
ajax:{},
swf:{
wmode:"transparent"
},
hideOnOverlayClick:!0,
hideOnContentClick:!1,
overlayShow:!0,
overlayOpacity:.7,
overlayColor:"#777",
titleShow:!0,
titlePosition:"float",
titleFormat:null,
titleFromAlt:!1,
transitionIn:"fade",
transitionOut:"fade",
speedIn:300,
speedOut:300,
changeSpeed:300,
changeFade:"fast",
easingIn:"swing",
easingOut:"swing",
showCloseButton:!0,
showNavArrows:!0,
enableEscapeButton:!0,
enableKeyboardNav:!0,
onStart:function() {},
onCancel:function() {},
onComplete:function() {},
onCleanup:function() {},
onClosed:function() {},
onError:function() {}
}, f(document).ready(function() {
_i_("269:380cfb26"), f.fancybox.init(), _r_();
}), _r_();
}(window.booking);
var t, i = e("jquery"), n = e("et"), o = "adUAVGPZHQFWUWeTaWYSfMTdWe", r = e("events"), _ = {};
r.on("REVIEWS:fetched", a), r.on("REVIEWS:photo_gallery:photo_loaded", f);
function a() {
if (_i_("269:7b20f545"), _ = {}, t = i(n.track(o) ? ".review_item_photo > a" :".review_item_photos img"), n.stage(o, 1), !t.length) return _r_();
n.stage(o, 2), s(), t.on("click", function(e) {
_i_("269:d2ff26dc"), e.preventDefault(), c(e), n.customGoal(o, 1), _r_();
}), n.track(o) && p(), _r_();
}
function s() {
_i_("269:accb0b73");
var e = l();
i.each(e, function(e, n) {
_i_("269:f5314023"), _[n] ? "" :_[n] = {}, t.filter('[rel="' + n + '"]').each(function(e) {
_i_("269:f57d7614");
var t = i(this).attr("src") || i(this).attr("href");
_[n][t] ? "" :_[n][t] = {
seen:!1
}, _r_();
}), _r_();
}), _r_();
}
function l() {
_i_("269:a526725f");
var e = [];
return t.each(function(t) {
_i_("269:091d04be"), e.push(i(this).attr("rel")), _r_();
}), _r_(e.filter(function(e, t, i) {
return _i_("269:20352cfd"), _r_(i.indexOf(e) == t);
}));
}
function c(e) {
_i_("269:5eef6cd7");
var t = i(e.currentTarget), n = t.attr("src") || t.attr("href"), o = t.attr("rel");
_[o][n].seen = !0, h(o) && d(), _r_();
}
function d() {
_i_("269:37ea841f"), n.stage(o, 3), n.customGoal(o, 2), _r_();
}
function h(e) {
_i_("269:3a3a7152");
var t = Object.keys(_[e]).length, n = 0;
if (i.each(_[e], function(e, t) {
_i_("269:02e592cb"), t && t.seen && n++, _r_();
}), u(), n >= t) return _r_(!0);
return _r_(!1);
}
function u() {
_i_("269:8440dba3");
var e = 0;
i.each(_, function(t, n) {
_i_("269:33e3b647"), i.each(n, function(t, i) {
_i_("269:004e1f69"), i.seen && e++, _r_();
}), _r_();
}), e == t.length && n.customGoal(o, 3), _r_();
}
function f(e) {
_i_("269:46f972df");
var n = e.src, o = t.filter(function() {
return _i_("269:c9f1549f"), _r_(i(this).attr("href") == n || i(this).attr("src") == n);
}).attr("rel");
_[o][n].seen = !0, h(o) && d(), _r_();
}
function p() {
_i_("269:fd6ee87b"), i.fancybox && t.length && (i.fancybox.init(), t.fancybox({
centerOnScroll:"true",
cyclic:"true",
overlayColor:"#000",
overlayOpacity:"0.7",
titlePosition:"over",
margin:"20",
transitionIn:"fade",
transitionOut:"fade"
})), _r_();
}
_r_();
}), _r_();
}(), B.when({
action:"hotel",
experiment:"adUAVGPZHQFWWQIOLeTXbNeZFDUMAPHe",
condition:"en" == B.env.b_lang
}).run(function(e) {
_i_("269:d35727ba");
var t = e("jquery"), i = e("et"), n = e("events"), o = "adUAVGPZHQFWWQIOLeTXbNeZFDUMAPHe";
n.on("REVIEWS:fetched", r);
function r() {
if (_i_("269:c6050acc"), !t(".review-list-topic-filter_improved-available").length) return _r_();
i.stage(o, 3), t(".review-list-topic-filter_improved-available").hasClass("repl") && i.stage(o, 4), t(".review-list-topic-filter_improved-available").hasClass("add") && i.stage(o, 5), _r_();
}
t(".review_list_container").on("click", ".review-list-topic-filter__list-item", function() {
_i_("269:95fa230b"), i.stage(o, 6), i.customGoal(o, 1), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:fb08eb09");
var t = "adUAVGPZPUMVBFUPXMPZaefYSbC", i = e("jquery"), n = e("et"), o = e("events"), r = {
openClass:"open",
stagesAttr:"js-uhgsr-stages",
stagesElm:i("[data-js-uhgsr-stages]"),
wrapper:i(".gallery-side-reviews-wrapper"),
CTABtn:i("[data-js-gallery-side-review-reserve]"),
sideBody:i(".gallery-side-reviews-wrapper__body"),
sideHeader:i(".gallery-side-reviews-wrapper__header"),
reviewsBtn:i("[data-js-gallery-side-review-go-to-reviews]"),
reserveBtn:i(".bh-photo-modal-name-cta .bh-photo-modal-cta-reserve"),
closeBtn:i(".bh-photo-modal .bh-photo-modal-close"),
init:function() {
if (_i_("269:1f5a36e1"), 0 == this.stagesElm.length) return _r_(!0);
if (this.bindEvents(), 0 == n.track(t)) return _r_(!0);
_r_();
},
bindEvents:function() {
_i_("269:125f39ae"), this.CTABtn.on("click", i.proxy(this.onCTAClick, this)), this.reviewsBtn.on("click", i.proxy(this.onReviewsClick, this)), this.reserveBtn.on("click", i.proxy(this.onReserveClick, this)), o.on(B.hotel.Events.PhotoGrid.MODAL_OPENED, i.proxy(this.onGalleryOpen, this)), o.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED, i.proxy(this.onGalleryClose, this)), _r_();
},
onGalleryOpen:function() {
_i_("269:06062276"), this.wrapper.addClass(this.openClass), this.trackStages(), this.fixListUi(), _r_();
},
onGalleryClose:function() {
_i_("269:f29eda41"), this.wrapper.removeClass(this.openClass), n.stage(t, 7), _r_();
},
trackStages:function() {
if (_i_("269:f3f69296"), 0 == this.stagesElm.length) return _r_(!0);
var e = (this.stagesElm.data(this.stagesAttr) || "").split(",");
e.map(function(e) {
_i_("269:2ab89630"), (Number(e) || 0) > 0 && n.stage(t, e), _r_();
});
var o = i(window).width() || 0;
o && (o > 1300 ? n.stage(t, 5) :n.stage(t, 6)), _r_();
},
onReserveClick:function() {
_i_("269:881dac4e"), n.customGoal(t, 1), _r_();
},
onCTAClick:function() {
_i_("269:1ecaad83"), this.reserveBtn.click(), _r_();
},
onReviewsClick:function() {
_i_("269:3519d2de"), this.closeBtn.click(), n.customGoal(t, 2), window.setTimeout(function() {
_i_("269:b74bb3c7"), window.location.hash = "tab-reviews", _r_();
}, 150), _r_();
},
fixListUi:function() {
_i_("269:725a5af7");
var e = this.sideHeader.outerHeight();
e && this.sideBody.css("top", e), _r_();
}
};
r.init(), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:a5624faa");
var t = e("jquery"), i = e("et"), n = "ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe";
B.events.on("hotel:reviewlist:success:tab", function() {
_i_("269:0f2a2ddc"), i.customGoal(n, 2), _r_();
}), t(".review-list-topic-filter, .review_list_nav.language_filter_on_reviews").on("click", function() {
_i_("269:29283c9e"), i.customGoal(n, 3), _r_();
}), t("#hp-reviews-sliding").on("click", ".review_next_page", function() {
_i_("269:93cf262f"), i.customGoal(n, 4), _r_();
}), _r_();
}), B.when({
action:"searchresults",
events:"ready"
}).run(function(e) {
_i_("269:1ce185f5");
var t = e("jquery"), i = e("et"), n = "ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe";
t(".sr_cta_button").on("click", function() {
_i_("269:2ee74f1c"), i.customGoal(n, 1), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:B.hotel.Events.PhotoGrid.MODAL_OPENED,
condition:B.env.fe_hp_d_missing_photos_available
}).run(function(e) {
_i_("269:33ee2e1d");
var t = e("events"), i = e("jquery"), n = "adUAVYCOTIFTWWCQSFVIQHNCUUJSWe", o = i(".bh-photo-modal-thumbs-container > a").length, r = [], _ = !0, a = i(".bh-photo-modal--missing_photos_survey_cta"), s = e("et");
if (!o || 0 == o) return _r_();
s.stage(n, 1), t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED, l), t.on(B.hotel.Events.PhotoGrid.MODAL_OPENED, d), i(window).on("resize", d), a.length && a.on("click", function(e) {
_i_("269:73a9aff2"), e.stopPropagation(), _r_();
});
function l(e) {
_i_("269:d99509e0"), r.indexOf(e.modal.activePhotoId) < 0 && r.push(e.modal.activePhotoId), r.length > 0 && r.length / o * 100 >= 66 && (_ && (s.stage(n, 2), c()), d()), _r_();
}
function c() {
_i_("269:15c038a4"), _ = !1, s.track(n) && a.removeClass("g-hidden").css("display", "inline-block"), _r_();
}
function d() {
if (_i_("269:5ba69c04"), !s.track(n)) return _r_();
var e = i(window).innerHeight(), t = i(".bh-photo-modal.opened").innerWidth(), o = i(".bh-photo-modal-image-element:visible"), r = i(".bh-photo-modal-image-container");
if (_ || !o.length || !r.length) return _r_();
var l = t - (o.offset().left + o.innerWidth()), c = e - r.position().top - r.innerHeight(), d = 0;
B.env.rtl ? (d = 0 | o.css("margin-left"), a.css({
left:d,
bottom:c
})) :a.css({
right:l,
bottom:c
}), _r_();
}
_r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:ef5ad235");
var t, i, n = e("jquery"), o = e("et"), r = "adUAVYCOTIFTWWCQSFZGTGSVGPQLTRe", _ = 500, a = 500, s = "reviewFloater--hidden", l = !1, c = !1, d = !1, h = !1, u = !1, f = n("#photo_wrapper, #photo_wrapper .hp-gallery-controls .hp-gallery-control, .bh-photo-grid"), p = n("#photo_wrapper .hp-gallery-controls .hp-gallery-control"), b = n("#reviewFloater");
if (!f.length || !b.length) return _r_();
f.on("mouseenter", m), f.on("mouseleave", g), b.on("mouseenter", v), b.on("mouseleave", y), p.on("mouseenter", w), p.on("mouseleave", M), n(window).on("keyup", k);
function m(e) {
_i_("269:d98fa513"), l = !0, B(), _r_();
}
function g(e) {
_i_("269:cdddff52"), l = !1, d || C(_), _r_();
}
function v(e) {
_i_("269:a5e644fe"), c = !0, C(), _r_();
}
function y(e) {
_i_("269:87cf195d"), c = !1, B(), _r_();
}
function w() {
_i_("269:6ed544f1"), d = !0, _r_();
}
function M() {
_i_("269:facb5fe2"), d = !1, _r_();
}
function k(e) {
_i_("269:6a270f95"), e && e.which && (39 == e.which || 37 == e.which) && (h = !0, o.customGoal(r, 1), B(1), C(2 * _)), _r_();
}
function B(e) {
_i_("269:85c6f87b");
var e = e && !isNaN(e) ? e :a;
clearTimeout(i), t = setTimeout(function() {
if (_i_("269:d977474f"), c || u) return _r_();
o.customGoal(r, 2), o.track(r) && b.stop().addClass(s), u = !0, h = !1, _r_();
}, e), _r_();
}
function C(e) {
if (_i_("269:4180e53c"), h || clearTimeout(t), !u) return _r_();
if (l && !c) return _r_();
if (o.customGoal(r, 3), u = !1, !o.track(r)) return _r_();
e && !isNaN(e) ? i = setTimeout(function() {
_i_("269:7e29e52a"), b.stop().show(0).removeClass(s), _r_();
}, e) :b.stop().show(0).removeClass(s), _r_();
}
_r_();
}), B.define("component/reviews/review-helpful-unhelpful", function(e, t, i) {
_i_("269:6304f821");
var n = e("jquery"), o = e("component"), r = e("jstmpl");
i.exports = o.extend({
init:function() {
_i_("269:202098ab");
var e = this;
this.types = [], this.submitButton = this.$el.find("[type=submit]"), this.submitButton.each(function() {
_i_("269:770eb79d");
var t = n(this).data("type");
e.types.indexOf(t) < 0 && e.types.push(t), e[t] = {}, e[t].form = n(this).parents("form.review-helpful__form"), e[t].reviewURL = e[t].form.find("[name=review_url]").val(), e[t].currentCount = e[t].form.data("current-count"), _r_();
}), this.feedbackMessage = this.$el.find(".review-helpful__vote-feedback-message:not(.--unhelpful)"), this.feedbackUnhelpfulMessage = this.$el.find(".review-helpful__vote-feedback-message.--unhelpful"), this.helpfulSubmitted = !1, this.unhelpfulSubmitted = !1, this.isAlreadyVoted() ? (this.disableSubmit(), this.updateMessage()) :this.attachEvents(), _r_();
},
attachEvents:function() {
_i_("269:499ea42e");
for (var e = 0; e < this.types.length; e++) this[this.types[e]].form.on("submit", this.formSubmit.bind(this));
_r_();
},
disableSubmit:function() {
_i_("269:3822f7c2"), this.submitButton.prop("disabled", !0).removeClass("review-helpful__form-submit").addClass("review-helpful__form-submitted").val(r.translations("review_helpful_vote_button_confirmed") + " ✔").hide(), _r_();
},
enableSubmit:function() {
_i_("269:2eeedbe4"), this.submitButton.prop("disabled", !1).removeClass("review-helpful__form-submitted").addClass("review-helpful__form-submit").val(r.translations("review_helpful_vote_button_confirmed")).show(), _r_();
},
updateMessage:function() {
_i_("269:4d157d75");
var e = this;
if (this.unhelpfulSubmitted) this.feedbackMessage.hide(0), this.feedbackUnhelpfulMessage.queue(function() {
_i_("269:7a3f6c711"), n(this).hide().dequeue(), _r_();
}).queue(function() {
_i_("269:e6d4eef4"), e.submitButton.is(":visible") || n(this).removeClass("review-helpful__vote-others-helpful"), _r_();
}).dequeue().queue(function() {
_i_("269:81bc677f"), n(this).html('<svg class="bk-icon -iconset-thumbs_down" fill="#FF6C6C" height="14" width="14" viewBox="0 0 128 128"><path d="M11.4 43.6a12 12 0 0 1 6.7-17A12 12 0 0 1 30 16h50v56l-17 36a8 8 0 0 1-15-4 15.2 15.2 0 0 1 1-4l7.9-20H21a12 12 0 0 1-9.4-19.4 12 12 0 0 1-.2-17zM120 16H88v56h32z"/></svg>' + r.translations("ugcx_reviews_you_voted_helpful_not", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})).dequeue(), _r_();
}).queue(function() {
_i_("269:e205dda82"), n(this).fadeIn("fast").dequeue(), _r_();
}); else if (this.helpfulSubmitted) {
var t = this.helpful.currentCount;
this.feedbackUnhelpfulMessage.hide(0), t && 0 !== t ? this.feedbackMessage.queue(function() {
_i_("269:46a0be481"), n(this).fadeOut("fast").dequeue(), _r_();
}).queue(function() {
_i_("269:e6d4eef42"), e.submitButton.is(":visible") || n(this).removeClass("review-helpful__vote-others-helpful"), _r_();
}).dequeue().queue(function() {
_i_("269:28b79e2d"), n(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>' + r.translations("review_helpful_vote_you_and_others_bold", t, {
number_people:t,
start_bold:"<strong>",
end_bold:"</strong>"
})).dequeue(), _r_();
}).queue(function() {
_i_("269:e205dda84"), n(this).fadeIn("fast").dequeue(), _r_();
}) :this.feedbackMessage.queue(function() {
_i_("269:7a3f6c712"), n(this).hide().dequeue(), _r_();
}).queue(function() {
_i_("269:e6d4eef41"), e.submitButton.is(":visible") || n(this).removeClass("review-helpful__vote-others-helpful"), _r_();
}).dequeue().queue(function() {
_i_("269:4e5f8fa6"), n(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>' + r.translations("review_helpful_vote_you_bold", null, {
start_bold:"<strong>",
end_bold:"</strong>"
})).dequeue(), _r_();
}).queue(function() {
_i_("269:e205dda83"), n(this).fadeIn("fast").dequeue(), _r_();
});
}
_r_();
},
addVoteToCookie:function(e) {
_i_("269:a8255155");
var t, i = [];
if (e && "helpful" == e) t = "rF"; else {
if (!e || "unhelpful" != e) return _r_();
t = "uF";
}
window.b_cookie = window.b_cookie || {}, window.b_cookie[t] && (i = window.b_cookie[t].split(",")), i = n.grep(i, function(e) {
return _i_("269:71a8a1401"), _r_(e && "undefined" !== e);
}), i.length > 49 && (i = i.slice(i.length - 49)), i.push(this[e].reviewURL), window.b_cookie[t] = i.toString(), JSON && JSON.stringify && (n.cookie("b") || null == n.cookie("b")) && n.cookie("b", JSON.stringify(window.b_cookie), {
expires:30,
path:"/",
domain:".booking.com"
}), _r_();
},
isAlreadyVoted:function() {
_i_("269:9ba47a82");
for (var e = 0; e < this.types.length; e++) {
var t, i = [];
if (this.types[e] && "helpful" == this.types[e] ? t = "rF" :this.types[e] && "unhelpful" == this.types[e] && (t = "uF"), window.b_cookie && window.b_cookie[t]) i = window.b_cookie[t].split(","); else if (JSON && JSON.parse && n.cookie("b")) {
var o = JSON.parse(n.cookie("b"));
o[this.types[e]] && (i = o[this.types[e]].split(","));
}
if (i.length && -1 !== i.indexOf(this[this.types[e]].reviewURL)) {
if ("helpful" == this.types[e]) {
this.helpfulSubmitted = !0;
continue;
}
if ("unhelpful" == this.types[e]) {
this.unhelpfulSubmitted = !0;
continue;
}
}
}
return _r_(this.unhelpfulSubmitted || this.helpfulSubmitted ? !0 :!1);
},
formSubmit:function(e) {
_i_("269:cd18766e"), e && e.preventDefault(), this.disableSubmit(), n.ajax({
url:n(e.target).prop("action"),
data:n(e.target).serialize(),
method:"POST",
success:this.success.bind(this),
error:this.error.bind(this)
}), _r_();
},
success:function(e) {
_i_("269:0cb2ce4d");
var t;
if (e && e.success) switch (e.success) {
case 1:
t = "helpful", this.helpfulSubmitted = !0;
break;

case 3:
t = "unhelpful", this.unhelpfulSubmitted = !0;
}
this.updateMessage(), this.addVoteToCookie(t), _r_();
},
error:function() {
_i_("269:9de3cf611"), this.enableSubmit(), _r_();
}
}), _r_();
}), B.when({
action:"hotel",
condition:"www" == B.env.b_site_type,
events:"ready"
}).run(function(e) {
_i_("269:c898ff08");
var t, i = e("jquery"), n = e("et"), o = "adUAVYCOTIFGedCIXcYQC", r = "g-hidden", _ = e("events"), a = i(".hp_d_survey_review_panel_onview_tracker"), s = i(".hp_d_survey_review_panel"), l = i("#blockdisplay4 .sliding-panel-widget-scrollable"), c = !1, d = !1;
if (!a.length) return _r_();
_.on("REVIEWS:fetched", h);
function h() {
_i_("269:c735bef2"), l.on("scroll", u), d = i(".review_list_pagination").length ? !0 :!1, _r_();
}
function u() {
if (_i_("269:c8063b67"), !a.is(":visible") || c) return _r_();
var e = l.scrollTop() + i(window).innerHeight(), _ = a.position().top;
e > _ && (n.stage(o, 2), d ? n.stage(o, 3) :n.stage(o, 4), c = !0, s.length && n.track(o) && s.hasClass(r) && !t && (t = setTimeout(function() {
_i_("269:fcf71e64"), s.removeClass(r).hide(0).slideDown(500), _r_();
}, 400))), _r_();
}
_r_();
}), function(e, t, i, n) {
"use strict";
_i_("269:f995d5b5"), e.when({
action:"hotel",
events:"ready"
}).run(function() {
_i_("269:6704a963");
var t = e.require("et"), i = e.require("events");
e.env.b_pset_discount_shown && i.on(e.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED, function(e) {
_i_("269:608c44ad");
var i = "eWHJbQEENKHSUeOWOJcaT";
t.stage(i, 7), _r_();
}), _r_();
}), _r_();
}(window.booking, window, document), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:8185533b");
var t = "adUTWAHFHDQIDDFeSICZHe", i = e("et"), n = e("events");
B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type && n.on("sliding-panel/hp-reviews-sliding/on:show", function() {
_i_("269:3c3e463d"), i.stage(t, 1), i.stage(t, 4), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:4596e3f3");
var t = "adUTWVZeYDDFeSIMBO", i = e("et"), n = e("events");
B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type && n.on("sliding-panel/hp-reviews-sliding/on:show", function() {
_i_("269:3c3e463d1"), i.stage(t, 1), i.stage(t, 4), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:34ed412f");
var t = e("jquery"), i = e("et"), n = e("events"), o = "adUTWVYNLdSNHRUUO";
if (B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type) {
var r = Number(t("[data-js-session-unrc]").data("js-session-unrc") || 0);
n.on("sliding-panel/hp-reviews-sliding/on:show", function() {
_i_("269:f25132d4"), i.stage(o, 2), i.stage(o, 7), r > 0 ? i.stage(o, 8) :i.stage(o, 9), _r_();
});
}
_r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:6248f2fc");
var t = "adUTWALOLOLOOTMAPPZTZWKNYT", i = e("et"), n = e("jquery"), o = e("events");
B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type && o.on(B.hotel.Events.PhotoGrid.MODAL_OPENED, function() {
_i_("269:5c1706ef");
var e = n(".bh-photo-modal-reviews .c-score").length || 0;
e >= 1 && i.stage(t, 5), e > 1 && i.stage(t, 7), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:742e1ac7");
var t = "adUTWALTLdaWNOOdeBVOSWe", i = e("et"), n = e("jquery"), o = e("events");
B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type && (i.stage(t, 1), o.on("sliding-panel/hp-reviews-sliding/on:show", function() {
_i_("269:b40b6b80"), n("#reviewer_type_filter, #review_score_filter, #review_sort").length > 0 && (i.stage(t, 2), i.stage(t, 5)), _r_();
}), i.track(t) && (n("#reviews_filters_box .toggler-wrapper").on("click", ".toggler-btn-show-less", function(e) {
_i_("269:021770d4"), e.preventDefault(), n(this).parents(".toggler-wrapper").removeClass("toggler-wrapper--show"), i.customGoal(t, 3), _r_();
}), n("#reviews_filters_box .toggler-wrapper").on("click", ".toggler-btn-show-more", function(e) {
_i_("269:088f5ee6"), e.preventDefault(), n(this).parents(".toggler-wrapper").addClass("toggler-wrapper--show"), i.customGoal(t, 2), _r_();
}))), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:de5f6cae");
var t = e("jquery"), i = e("events"), n = e("et"), o = "adUTWALOLOLOOTOeBDKASNHRUUO";
if (B.env && "hotel" == B.env.b_action && "www" == B.env.b_site_type) {
var r = function() {
_i_("269:e23de13d"), t(".review_list_pagination, #reviews_panel_pagination").length > 0 && (n.stage(o, 1), n.track(o)), _r_();
};
i.on("REVIEWS:fetched", function() {
_i_("269:3ab0dd10"), window.setTimeout(function() {
_i_("269:d37fa7b3"), r(), _r_();
}, 100), _r_();
}), i.on("sliding-panel/hp-reviews-sliding/on:show", function() {
_i_("269:3ab0dd101"), window.setTimeout(function() {
_i_("269:d37fa7b31"), r(), _r_();
}, 100), _r_();
}), t("#blockdisplay4").on("click", ".review_list_pagination a", function() {
_i_("269:881dac4e1"), n.customGoal(o, 1), _r_();
}), t("#blockdisplay4").on("click", "#reviews_panel_pagination a", function() {
_i_("269:881dac4e2"), n.customGoal(o, 1), _r_();
});
}
_r_();
}), B.define("component/ugcs/dom-utils/toggle", [ "component", "jquery" ], function(e, t) {
return _i_("269:9c14af7a"), _r_(e.extend({
init:function() {
_i_("269:34b0483c"), this.toShow = this.$el.parent().find("[data-toggle-show]"), this.toHide = this.$el.parent().find("[data-toggle-hide]"), this.bindEvents(), _r_();
},
bindEvents:function() {
_i_("269:5570371b"), this.$el.on("click.ugcs.toggle", t.proxy(this.toggle, this)), _r_();
},
unBindEvents:function() {
_i_("269:3a43a94b"), this.$el.off("click.ugcs.toggle", t.proxy(this.toggle, this)), _r_();
},
toggle:function(e) {
_i_("269:1e160a02"), e.preventDefault();
var t = this;
window.setTimeout(function() {
_i_("269:d6de6891"), t.$el.hide(), _r_();
}, 0), this.toShow.show(), this.toHide.remove(), this.unBindEvents(), _r_();
}
}));
}), B.define("component/ugcs/review-block/photos", function(e, t, i) {
_i_("269:d09315cd");
var n = e("component"), o = e("jquery"), r = e("jstmpl");
i.exports = n.extend({
init:function() {
if (_i_("269:e161d14c"), B.env.ugcs = B.env.ugcs || {}, B.env.ugcs.review_block = B.env.ugcs.review_block || {}, B.env.ugcs.review_block.photos = B.env.ugcs.review_block.photos || {}, this.id = this.$el.data("photos-group"), this.id || this.$el.remove(), !this.id) return _r_(!0);
this.$all = this.$el.find("[data-photos-src]"), this.bindEvents(), _r_();
},
bindEvents:function() {
_i_("269:69444eeb"), this.$all.bind("click.review-block.photos", o.proxy(this.onBtnClick, this)), _r_();
},
onBtnClick:function(e) {
_i_("269:0824c5db"), e.preventDefault();
var t = this.$all.index(o(e.currentTarget));
B.env.ugcs.review_block.photos[this.id] || this.initGallery(), B.env.ugcs.review_block.photos[this.id].show(t), _r_();
},
initGallery:function() {
_i_("269:473d3767");
var e = [];
this.$all.each(function(t, i) {
_i_("269:1e2b4a4f"), e.push(o(i).data("photos-src")), _r_();
});
var t = r("component_review_block_gallery").render({
photos:e
}), i = o(t);
o("body").append(i), B.env.ugcs.review_block.photos[this.id] = i.component("ugcs/review-block/gallery"), _r_();
}
}), _r_();
}), booking.jstmpl("component_review_block_gallery", function() {
_i_("269:6c7a2fb6");
var e, t = [ '\n    <div class="c-review-block__gallery">\n        <div class="c-review-block__gallery__inner bui-f-depth-2">\n            <ul class="c-review-block__gallery__list">\n                ', '\n                    <li index="', '"\n                        class="c-review-block__gallery__item">\n                        ', "c-review-block__gallery__error-icon", "iconset/warning", '\n                        <img alt=""\n                             index="', '"\n                             class="c-review-block__gallery__photo"\n                             data-src="', '" />\n                    </li>\n                ', '\n            </ul>\n            <button class="c-review-block__gallery__previous">\n                <span>\n                    ', "24", "iconset/navarrow_left", '\n                </span>\n            </button>\n            <button class="c-review-block__gallery__next">\n                <span>\n                    ', "iconset/navarrow_right", '\n                </span>\n            </button>\n            <div class="c-review-block__gallery__header">\n                <button class="c-review-block__gallery__close">\n                    ', "/private/close/name", "iconset/close", '\n                </button>\n            </div>\n            <div class="c-review-block__gallery__footer">\n                <span class="c-review-block__gallery__count"></span>\n            </div>\n        </div>\n    </div>\n' ], i = [ "photos" ];
return _r_(function(n) {
_i_("269:c5b4acce");
var o = "", r = this.fn;
o += t[0];
var _ = r.MC(i[0]) || [];
n.unshift({
photo:null
});
for (var a, s = 1, l = _.length; l >= s; s++) n[0].photo = a = _[s - 1], o += [ t[1], r.MI(s) - r.MI(1), t[2], (n.unshift({
"class":t[3],
name:t[4]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[5], r.MI(s) - r.MI(1), t[6], a, t[7] ].join("");
return n.shift(), o += [ t[8], (n.unshift({
color:"#000000",
height:t[9],
name:t[10],
width:t[9]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[11], (n.unshift({
color:"#000000",
height:t[9],
name:t[12],
width:t[9]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[13], r.ME(t[14], r.MB, r.MN, null), (n.unshift({
name:t[15]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[16] ].join(""), _r_(o);
});
}()), B.define("component/ugcs/review-block/gallery", function(e, t, i) {
_i_("269:56000f12");
var n = e("component"), o = e("jquery");
i.exports = n.extend({
init:function() {
_i_("269:b9bd8fa7"), this.isRtl = o("body").hasClass("lang_is_rtl"), this.loadClass = "c-review-block__gallery__photo--loaded", this.errorClass = "c-review-block__gallery__item--error", this.$window = o(window), this.$close = this.$el.find(".c-review-block__gallery__close"), this.$next = this.$el.find(".c-review-block__gallery__next"), this.$previous = this.$el.find(".c-review-block__gallery__previous"), this.$photos = this.$el.find("img"), this.$count = this.$el.find(".c-review-block__gallery__count"), this.$inner = this.$el.find(".c-review-block__gallery__inner"), this.$listItem = this.$el.find(".c-review-block__gallery__item"), this.total = this.$photos.length, this.current = 0, this.uiFixes(), _r_();
},
bindEvents:function() {
_i_("269:dc48296a"), o(document).on("keydown.ugcs.review-block.gallery", o.proxy(this.onKeyboardPress, this)), this.$close.on("click.ugcs.review-block.gallery.close", o.proxy(this.onCloseClick, this)), this.$el.on("click.ugcs.review-block.gallery.wrapper", o.proxy(this.onBgClick, this)), this.$inner.on("click.ugcs.review-block.gallery.inner", o.proxy(this.onGalleryClick, this)), this.$next.on("click.ugcs.review-block.gallery.next", o.proxy(this.onNextClick, this)), this.$photos.one("load.ugcs.review-block.gallery.photo", o.proxy(this.onPhotoLoad, this)), this.$photos.one("error.ugcs.review-block.gallery.photo", o.proxy(this.onPhotoError, this)), this.$previous.on("click.ugcs.review-block.gallery.prev", o.proxy(this.onPreviousClick, this)), this.$window.on("resize.ugcs.review-block.window", o.proxy(this.onWindowResize, this)), _r_();
},
unbindEvents:function() {
_i_("269:96c5d896"), o(document).off("keydown.ugcs.review-block.gallery", o.proxy(this.onKeyboardPress, this)), this.$close.off("click.ugcs.review-block.gallery.close", o.proxy(this.onCloseClick, this)), this.$el.off("click.ugcs.review-block.gallery.wrapper", o.proxy(this.onBgClick, this)), this.$inner.off("click.ugcs.review-block.gallery.inner", o.proxy(this.onGalleryClick, this)), this.$next.off("click.ugcs.review-block.gallery.next", o.proxy(this.onNextClick, this)), this.$photos.off("load.ugcs.review-block.gallery.photo", o.proxy(this.onPhotoLoad, this)), this.$photos.off("error.ugcs.review-block.gallery.photo", o.proxy(this.onPhotoError, this)), this.$previous.off("click.ugcs.review-block.gallery.prev", o.proxy(this.onPreviousClick, this)), this.$window.off("resize.ugcs.review-block.window", o.proxy(this.onWindowResize, this)), _r_();
},
uiFixes:function() {
if (_i_("269:db884746"), this.total > 1) return _r_(!0);
this.$previous.remove(), this.$next.remove(), _r_();
},
onGalleryClick:function(e) {
_i_("269:ee711839"), e.stopPropagation(), _r_();
},
onKeyboardPress:function(e) {
_i_("269:84f9772f"), 27 == e.which && this.hide(), 37 == e.which && this.previous(), 39 == e.which && this.next(), _r_();
},
onPhotoLoad:function(e) {
_i_("269:774d2936"), o(e.currentTarget).addClass(this.loadClass), this.fixPhotoToGallery(), _r_();
},
onPhotoError:function(e) {
_i_("269:57f5a554"), o(e.currentTarget).parent().addClass(this.errorClass), _r_();
},
onBgClick:function(e) {
_i_("269:5c539764"), e.preventDefault(), this.hide(), _r_();
},
onCloseClick:function(e) {
_i_("269:5c5397641"), e.preventDefault(), this.hide(), _r_();
},
onWindowResize:function() {
_i_("269:4b399efd"), this.fixGalleryToViewport(), _r_();
},
onNextClick:function(e) {
_i_("269:2483bbd8"), e.preventDefault(), this.isRtl ? this.previous() :this.next(), _r_();
},
onPreviousClick:function(e) {
_i_("269:d77f7406"), e.preventDefault(), this.isRtl ? this.next() :this.previous(), _r_();
},
next:function() {
_i_("269:1c6b1acb");
var e = this.current + 1 == this.total ? 0 :this.current + 1;
this.go(e), _r_();
},
previous:function() {
_i_("269:92d1dccd");
var e = 0 == this.current ? this.total - 1 :this.current - 1;
this.go(e), _r_();
},
hide:function() {
_i_("269:eddebbd9"), this.$el.hide(), this.unbindEvents(), _r_();
},
show:function(e) {
_i_("269:e90fc4ea"), this.bindEvents(), this.$el.show(), this.go(e), this.fixGalleryToViewport(), _r_();
},
go:function(e) {
_i_("269:4c2ed321"), this.current = e >= 0 ? e :this.current;
var t = this.$listItem.find('img[index="' + this.current + '"]'), i = this.$listItem.filter('[index="' + this.current + '"]'), n = t.data("src");
n && t.attr("src", n), t.removeAttr("data-src"), this.$listItem.hide(), i.show(), this.$count.html(this.current + 1 + "/" + this.total), this.fixPhotoToGallery(), _r_();
},
fixGalleryToViewport:function() {
_i_("269:cf8f888b");
var e = this.$window.height(), t = this.$window.width(), i = this.$inner.width(), n = this.$inner.height(), o = t / e, r = i / n, _ = o > r ? {
width:90 * (r / o) + "%"
} :{};
this.$inner.css(_), this.fixPhotoToGallery(), _r_();
},
fixPhotoToGallery:function() {
_i_("269:9d00e488");
var e = this.$photos.eq(this.current), t = (e[0] || {}).naturalWidth, i = (e[0] || {}).naturalHeight, n = this.$inner.width(), o = this.$inner.height(), r = t / i, _ = n / o, a = _ > r ? {
height:"100%",
width:"auto"
} :{
width:"100%",
height:"auto"
};
e.css(a), _r_();
}
}), _r_();
}), booking.jstmpl("component_review_block_review_read_more_button", function() {
_i_("269:6a0e20ce");
var e = [ '\n    <span class="c-review__read-more">\n        ', "\n    </span>\n" ];
return _r_(function(t) {
_i_("269:2d52ea3b");
var i = "";
this.fn;
return i += e[0], i += e[1], _r_(i);
});
}()), B.define("component/ugcs/review-block/review", [ "component", "jquery" ], function(e, t) {
return _i_("269:19b79c4a"), _r_(e.extend({
init:function() {
if (_i_("269:8aa96a89"), this.fullContent = this.$el.data("full-content"), !this.fullContent) return _r_(!0);
this.$button = t(B.jstmpl("component_review_block_review_read_more_button").render({})), this.$el.after(this.$button), this.bindEvents(), _r_();
},
bindEvents:function() {
_i_("269:3c854b72"), this.$button.on("click.ugcs.review.show-more", t.proxy(this.showFullContent, this)), _r_();
},
unBindEvents:function() {
_i_("269:40839cf5"), this.$button.off("click.ugcs.review.show-more", t.proxy(this.showFullContent, this)), _r_();
},
showFullContent:function() {
_i_("269:ded6826c"), this.$el.html(this.fullContent), this.unBindEvents(), this.$button.remove(), _r_();
}
}));
}), B.when({
events:"ready"
}).run(function(e) {
_i_("269:e225815a");
var t = e("jquery"), i = {
init:function() {
_i_("269:b540e7af");
var e = this;
t("[data-js-breakdown-show-more]").each(function(i, n) {
_i_("269:9b03b5c8");
var o = t(n), r = o.parents(".c-subscores").find(".c-subscores__hide");
0 == r.length ? o.hide() :e.bindEvents(o, r), _r_();
}), _r_();
},
bindEvents:function(e, i) {
_i_("269:b275c1bc"), e.on("click.ugcs.score-breakdown", t.proxy(this.showSubscores, this, e, i)), _r_();
},
unBindEvents:function(e, i) {
_i_("269:d6dddb25"), e.off("click.ugcs.score-breakdown", t.proxy(this.showSubscores, this, e, i)), _r_();
},
showSubscores:function(e, t) {
_i_("269:9b3ae593"), t.show(), this.unBindEvents(e, t), e.hide(), _r_();
}
};
i.init(), _r_();
}), booking.jstmpl("component_shared_review_read_more_button", function() {
_i_("269:556b18ff");
var e = [ '\n    <span class="c-review__read-more">\n        ', "/private/comp_ugc_read_more_cta/name", "\n    </span></span>\n" ];
return _r_(function(t) {
_i_("269:bde66dc9");
var i = "", n = this.fn;
return i += [ e[0], n.ME(e[1], n.MB, n.MN, null), e[2] ].join(""), _r_(i);
});
}()), B.define("component/ugcs/shared/review", function(e, t, i) {
_i_("269:faa6aa44");
var n = e("jquery"), o = B.jstmpl, r = e("component");
i.exports = r.extend({
init:function() {
_i_("269:018804e3"), this.fullContent = this.$el.data("full-content"), this.fullContent && (this.$button = n(o("component_shared_review_read_more_button").render({})), this.$el.after(this.$button), this.bindEvents()), _r_();
},
bindEvents:function() {
_i_("269:3c854b721"), this.$button.on("click.ugcs.review.show-more", n.proxy(this.showFullContent, this)), _r_();
},
unBindEvents:function() {
_i_("269:40839cf51"), this.$button.off("click.ugcs.review.show-more", n.proxy(this.showFullContent, this)), _r_();
},
showFullContent:function() {
_i_("269:13074539"), this.$el.html(this.fullContent), this.unBindEvents(), this.$button.hide(), _r_();
}
}), _r_();
}), B.when({
action:"hotel",
experiment:"TAeALOLOLOdfdPIFdCALPeVNXKbMOKe"
}).run(function() {
_i_("269:d6c6224a"), $("#clear-preferred-rt").on("click", function() {
_i_("269:6468e0ac");
for (var e, t = 1, i = ".room_loop_counter" + t, n = $(i + ".maintr .roomType"), o = 0; 0 != $(i).length; ) o = parseInt(n.attr("rowspan"), 10), e = $(i + ".hideNonPreferredRow").length, n.attr("rowspan", o + e), t += 1, i = ".room_loop_counter" + t, n = $(i + ".maintr .roomType"), o = 0;
$("#clear-preferred-rt-section").hide(), $(".rt_with_hidden_rates").removeClass("rt_with_hidden_rates"), B.et.customGoal("TAeALOLOLOdfdPIFdCALPeVNXKbMOKe", 1), _r_();
}), _r_();
}), B.define("referral/raf-goal", function(e, t, i) {
_i_("269:3c8136dd");
var n = e("et"), o = {}, r = [];
i.exports = {
shareGoal:function(e) {
_i_("269:dc8ab684"), n.goal(e), n.goal("gm_share"), this._trackShareBehavior(e), _r_();
},
_trackShareBehavior:function(e) {
if (_i_("269:9e90e945"), "www" === B.env.b_site_type && "myreferrals" === B.env.b_action) try {
this._storeShareGoal(e);
var t = this._setDifferentBtnStages(e, r);
n.track("PGVfCNETFFbDfTDPdDcTYFPMbPYHXT"), Object.keys(o).filter(function(e) {
if (_i_("269:2d399850"), 1 === o[e]) return _r_(e);
_r_();
}).length > 0 && n.stage("PGVfCNETFFbDfTDPdDcTYFPMbPYHXT", 1), Object.keys(o).filter(function(e) {
if (_i_("269:80399ead"), 2 === o[e]) return _r_(e);
_r_();
}).length > 0 && n.stage("PGVfCNETFFbDfTDPdDcTYFPMbPYHXT", 2), Object.keys(o).filter(function(e) {
if (_i_("269:3a33cba5"), 3 === o[e]) return _r_(e);
_r_();
}).length > 0 && n.stage("PGVfCNETFFbDfTDPdDcTYFPMbPYHXT", 3), Object.keys(o).filter(function(e) {
if (_i_("269:5ad29dbb"), o[e] >= 4) return _r_(e);
_r_();
}).length > 0 && n.stage("PGVfCNETFFbDfTDPdDcTYFPMbPYHXT", 4), null != t && (n.track("PGVfCNETRSRWCQWBTAUTAFTfeJZVPTODXKe"), n.stage("PGVfCNETRSRWCQWBTAUTAFTfeJZVPTODXKe", t));
} catch (i) {}
_r_();
},
_storeShareGoal:function(e) {
if (_i_("269:e5d687c2"), Object.keys(o).indexOf(e) > -1) o[e] = o[e] + 1; else {
var t = {};
t[e] = 1, o = $.extend({}, t, o);
}
return _r_();
},
_setDifferentBtnStages:function(e, t) {
return _i_("269:a91aefb8"), t.indexOf(e) >= 0 ? _r_(null) :(t.push(e), _r_(t.length > 4 ? 4 :t.length));
}
}, _r_();
}), B.define("component/incentives/js_stage_tracker", function(e, t, i) {
_i_("269:da810890");
var n = e("component"), o = e("et");
i.exports = n.extend({
init:function() {
_i_("269:43301894"), o.stage(this.$el.data("hash"), this.$el.data("stage")), _r_();
}
}), _r_();
}), B.define("referral/clipboard", function(e, t, i) {
_i_("269:2b68585d");
function n(e) {
_i_("269:3ab68b84");
var t;
if ("SELECT" === e.nodeName) e.focus(), t = e.value; else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
var i = e.hasAttribute("readonly");
i || e.setAttribute("readonly", ""), e.select(), e.setSelectionRange(0, e.value.length), i || e.removeAttribute("readonly"), t = e.value;
} else {
e.hasAttribute("contenteditable") && e.focus();
var n = window.getSelection(), o = document.createRange();
o.selectNodeContents(e), n.removeAllRanges(), n.addRange(o), t = n.toString();
}
return _r_(t);
}
var o = function() {};
o.prototype.copy = function(e, t) {
_i_("269:7fe4e409"), this.text = e, this.isRTL = B.env.b_lang_rtl, "function" == typeof t && (this.copyCallback = t), this.selectFake(), _r_();
}, o.prototype.selectFake = function() {
_i_("269:156826d2"), this.removeFake();
var e = document.createElement("textarea");
this.fakeElement = e, e.style.fontSize = "12pt", e.style.border = "0", e.style.padding = "0", e.style.margin = "0", e.style.position = "absolute", e.style[this.isRTL ? "right" :"left"] = "-9999px";
var t = window.pageYOffset || document.documentElement.scrollTop;
e.style.top = t + "px", e.setAttribute("readonly", ""), e.value = this.text, document.body.appendChild(e), n(e), this.copyText(), _r_();
}, o.prototype.removeFake = function() {
_i_("269:89943584"), this.fakeElement && (document.body.removeChild(this.fakeElement), this.fakeElement = null), _r_();
}, o.prototype.copyText = function() {
_i_("269:3b706215");
var e;
try {
e = document.execCommand("copy");
} catch (t) {
e = !1;
}
this.handleResult(e), _r_();
}, o.prototype.handleResult = function(e) {
_i_("269:7e3bde23"), this.copyCallback && (e ? this.copyCallback(null) :this.copyCallback(!0)), this.removeFake(), _r_();
}, i.exports = new o(), _r_();
}), B.define("component/hotel/new-rooms-table/fit-status", function(e, t, i) {
"use strict";
_i_("269:86be62c6");
var n = e("hotel/redux/actionTypes"), o = e("hotel/store"), r = e("search-config");
function _(e, t) {
_i_("269:c13bc660"), o.dispatch({
type:n.CHANGE_FIT_STATUS,
fit_status:e,
no_fit_guests:t
}), _r_();
}
function a() {
_i_("269:d6d939f1");
var e = o.getState().roomsTable.js_selection, t = [];
for (var i in e.blocks) t.push({
block_id:i,
qty:e.blocks[i].js_nr_selected
});
if (t.length) {
var n = B.require("fragment").call("hotel.fit_validation", {
hotel_id:B.env.b_hotel_id,
hotel_cc1:B.env.b_countrycode,
is_user_genius:B.env.b_reg_user_is_genius ? 1 :0,
search_config:r.getRawValue(),
checkin:B.env.b_checkin_date,
checkout:B.env.b_checkout_date,
selected_blocks:JSON.stringify(t)
});
n.then(function(e) {
if (_i_("269:e4fc308c"), "undefined" != typeof e.fit_status) {
var t = "undefined" !== e.no_fit_guests ? e.no_fit_guests :{};
_(e.fit_status, t);
}
_r_();
}), n["catch"](function(e) {});
}
_r_();
}
i.exports = {
update:a
}, _r_();
}), B.define("component/hotel/new-rooms-table/fit-status-tooltip", function(e, t, i) {
"use strict";
_i_("269:253c498f");
var n = e("component"), o = e("hotel/redux/actionTypes"), r = e("hotel/store"), _ = e("search-config").getRawValue(), a = e("et"), s = 1e4, l = 600, c = "bHVNNRNRdFOGdCNMfefVZHRSEAcAGO", d = "bHVNNRNRdFOGdCNMfefVZHSKBZYO", h = _.b_children_total > 0, u = 0 === _.b_children_total, f = !1;
i.exports = n.extend({
tltpTimeout:null,
init:function() {
_i_("269:3d78a90e");
var e = _.b_nr_rooms_needed;
window.innerWidth < 1440 && this.$el.addClass("fit_status_tooltip_container--to-top"), r.subscribe(function() {
_i_("269:a1716386");
var t = r.getState(), i = t.roomsTable.js_selection;
if ((0 == i.roomCount || t.roomsTable.lastAction == o.SELECT_ROOM) && this.resetTooltip(), t.roomsTable.lastAction == o.CHANGE_FIT_STATUS && i.roomCount && i.roomCount >= e) {
var n = this.prepareForRender(i.fitStatus, i.noFitGuests);
n && (this.trackStages(i.fitStatus), (h && 2 === a.track(c) || u && 2 === a.track(d)) && this.renderTooltip(i.fitStatus));
}
_r_();
}.bind(this)), _r_();
},
prepareForRender:function(e, t) {
_i_("269:30fbcda0");
var i = this.$el.find(".js-fit-status-msg-main"), n = this.$el.find(".js-fit-status-msg-sec"), o = "", r = "", _ = 1;
if ("undefined" != typeof e) {
if (2 === e && (0 !== t.num_children || 0 !== t.num_adults)) return h ? a.stage(c, 5) :u && a.stage(d, 5), _r_(!1);
if (2 === e) o = B.jstmpl.translations("gaf_hp_rt_group_fits"); else {
var s = t.num_children, l = t.num_adults;
0 === e ? (o = l > 0 && s > 0 ? B.jstmpl.translations("gaf_hp_rt_group_wont_fit_4_adult_and", l, {
num_adults:l
}) + B.jstmpl.translations("gaf_hp_rt_group_wont_fit_4_adult_and_kids", s, {
num_children:s
}) :l > 0 ? B.jstmpl.translations("gaf_hp_rt_group_wont_fit_4", l, {
num_adults:l
}) :B.jstmpl.translations("gaf_hp_rt_group_wont_fit_4_children", s, {
num_children:s
}), r = B.jstmpl.translations("gaf_hp_rt_group_wont_fit_2"), _ = -1) :1 === e && (o = l > 0 && s > 0 ? B.jstmpl.translations("gaf_hp_rt_maybe_fit_adult_plus", l, {
num_adult:l
}) + B.jstmpl.translations("gaf_hp_rt_maybe_fit_adult_plus_child", s, {
num_child:s
}) :l > 0 ? B.jstmpl.translations("gaf_hp_rt_maybe_fit_adult", l, {
num_adult:l
}) :B.jstmpl.translations("gaf_hp_rt_maybe_fit_child", s, {
num_child:s
}), r = B.jstmpl.translations("gaf_hp_rt_maybe_fit_request"), _ = 0);
}
return o.length ? i.html(o).show() :i.hide(), r.length ? n.html(r).show() :n.hide(), -1 === _ ? (this.$el.addClass("fit_status_tooltip_container--neg"), this.$el.removeClass("fit_status_tooltip_container--pos")) :1 === _ ? (this.$el.addClass("fit_status_tooltip_container--pos"), this.$el.removeClass("fit_status_tooltip_container--neg")) :this.$el.removeClass("fit_status_tooltip_container--neg fit_status_tooltip_container--pos"), _r_(!0);
}
return _r_(!1);
},
resetTooltip:function() {
_i_("269:81f859d9"), clearTimeout(this.tltpTimeout), this.$el.hide(), _r_();
},
renderTooltip:function(e) {
_i_("269:849edbec");
var t = this.$el;
t.show().animate({
opacity:1
}, l), 2 === e && (this.tltpTimeout = setTimeout(function() {
_i_("269:64bbb9ce"), t.animate({
opacity:0
}, l, function() {
_i_("269:12893e52"), t.hide(), _r_();
}), _r_();
}, s)), _r_();
},
trackStages:function(e) {
_i_("269:51814b18"), h ? (a.stage(c, 1), a.stage(c, 2)) :u && (a.stage(d, 1), a.stage(d, 2)), 2 === e ? f && (h ? a.customGoal(c, 1) :u && a.customGoal(d, 1)) :0 === e && (f = !0), _r_();
}
}), _r_();
}), B.when({
action:"hotel",
condition:B.env && 1 == B.env.is_d_group_rec_booked_tracking_fix
}).run(function(e) {
_i_("269:e9e7aa18");
var t = e("jquery"), i = e("hotel/store"), n = e("utils/deepequal"), o = e("events"), r = t("#hprt-form"), _ = !1;
o.on(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED, function() {
_i_("269:668e826a"), _ = !0, _r_();
}), r.on("submit", function() {
_i_("269:422cecfe"), _ && a() && r.append('<input type="hidden" name="is_group_recommendation" value="1">'), _r_();
});
function a() {
_i_("269:a0717238");
for (var e = i.getState().roomsTable.js_selection.blocks, t = {}, o = 0; o < B.env.b_room_group.length; o++) {
var r = B.env.b_room_group[o];
t[r.block_id] = r;
}
if (e) {
var _ = {};
for (var a in e) {
var s = {};
s.count = e[a].js_nr_selected, s.block_id = a, _[a] = s;
}
return _r_(n(_, t));
}
return _r_(!1);
}
_r_();
}), B.when({
action:"hotel",
events:"ready",
experiment:"OOOTAIFZGJKbIFRHUDdWe"
}).run(function(e) {
_i_("269:91a468ad");
var t = "OOOTAIFZGJKbIFRHUDdWe", i = e("jquery"), n = "mtv_events_near_hotel__list--hidden", o = i(".mtv_events_near_hotel__list--more-events"), r = i(".mtv_events_near_hotel__toggle"), _ = i(".mtv_events_near_hotel__toggle-text"), a = i(".mtv_events_near_hotel__toggle-icon");
r.on("click", function(e) {
if (_i_("269:276bee6b"), e.preventDefault(), o.hasClass(n)) {
o.removeClass(n);
var i = B.jstmpl.translations("mtv_events_show_fewer_cta", null, {});
_.text(i), a.removeClass("bicon-downchevron-thin").addClass("bicon-upchevron-thin"), B.et.customGoal(t, 4);
} else {
o.addClass(n);
var i = B.jstmpl.translations("mtv_events_show_all_cta", null, {});
_.text(i), a.removeClass("bicon-upchevron-thin").addClass("bicon-downchevron-thin"), B.et.customGoal(t, 5);
}
_r_();
}), _r_();
}), function(e, t, i, n) {
"use strict";
_i_("269:bd7a0317");
var o, r = "OOOTACXJNccAWbCDCcIESSaZYHNbINGUZC", _ = "210068525731476", a = "303492549842824";
e.when({
action:[ "hotel" ],
events:"load",
experiment:r,
condition:"en" === e.env.b_lang
}).run(function(n) {
_i_("269:8436f2c1"), t.fbAsyncInit = function() {
_i_("269:bdb6236a"), FB.init({
appId:_,
xfbml:!1,
version:"v2.12"
}), o = FB, s();
var t = $(".wl-dropdown:not(.fly-dropdown_hidden)"), i = t.find(".wl-dropdown-item-send-to-messenger.js-hidden");
t.length > 0 && i.length > 0 && e.eventEmitter.trigger("wl-dropdown:forceRenderMessenger", {
state:!0
}), _r_();
}, function(e, t, i) {
_i_("269:cc051166");
var n, o = e.getElementsByTagName(t)[0];
if (e.getElementById(i)) return _r_();
n = e.createElement(t), n.id = i, n.src = "https://connect.facebook.net/en_US/sdk.js", o.parentNode.insertBefore(n, o), _r_();
}(i, "script", "facebook-jssdk"), _r_();
}), e.when({
action:[ "hotel" ],
events:"ready",
condition:"en" === e.env.b_lang
}).run(function(t) {
_i_("269:8141c67a");
var i = t("jquery"), n = t("et"), s = t("browser-storage-handler"), d = e.env.b_hp_wl_send_to_messenger_user_ref, h = e.env.b_hotel_id, u = 0, f = c(s);
p();
function p() {
_i_("269:3d62bc6c"), e.eventEmitter.on("wl-dropdown-toggle wl-dropdown:forceRenderMessenger", function(e, t) {
if (_i_("269:fdaaa17a"), t.state === !1) return _r_();
var _ = i(".wl-dropdown:not(.fly-dropdown_hidden)"), a = _.find(".wl-dropdown-item-send-to-messenger");
if (m(), u++, !n.track(r)) return _r_();
if (!o) return n.customGoal(r, 3), a.addClass("js-hidden"), _r_();
l(f[h]), a.find(".fb-messenger-checkbox").attr("user_ref", d + "+" + u);
var c = a.find(".wl-send-to-messenger-form");
o.XFBML.parse(c.get(0)), a.on("submit", ".wl-send-to-messenger-form", function(e) {
_i_("269:0a50c05b"), b(s), l(!0), e.preventDefault(), _r_();
}), _r_();
}), _r_();
}
function b(e) {
_i_("269:8bd1d99b"), o.AppEvents.logEvent("MessengerCheckboxUserConfirmation", null, {
app_id:_,
page_id:a,
user_ref:d + "+" + u
}), n.customGoal(r, 2), f = c(e), f[h] = !0, e.addPermanentValue("opted_in_hotels", JSON.stringify(f)), _r_();
}
function m() {
_i_("269:57eae2a8"), 0 === u && (n.stage(r, 3), n.stage(r, 4), e.env.auth_level >= 1 && n.stage(r, 6)), _r_();
}
_r_();
});
function s() {
_i_("269:afb768c7"), o.Event.subscribe("messenger_checkbox", function(t) {
if (_i_("269:e7a1bc06"), "checkbox" == t.event) {
var i = $(".wl-send-to-messenger-button");
"checked" === t.state ? i.removeAttr("disabled") :i.attr("disabled", "disabled");
} else "login" === t.event || "not_you" === t.event ? setTimeout(function() {
_i_("269:15e8f2cf"), e.eventEmitter.trigger("wl:cancel-hiding"), _r_();
}, 1500) :"rendered" === t.event && ($(".wl-send-to-messenger-plugin_loaded").removeClass("g-hidden"), $(".wl-send-to-messenger-plugin_loading").addClass("g-hidden"));
_r_();
}), _r_();
}
function l(e) {
_i_("269:8213b996");
var t = $(".wl-dropdown:not(.fly-dropdown_hidden) .wl-dropdown-item-send-to-messenger");
e === !0 ? t.addClass("user_opted_in") :t.removeClass("user_opted_in"), _r_();
}
function c(e) {
_i_("269:2accb9bb");
var t, i = e.getPermanentValue("opted_in_hotels");
try {
t = JSON.parse(i) || {};
} catch (n) {
t = {};
}
return _r_(t);
}
_r_();
}(window.booking, window, document), B.when({
events:"ready",
action:"hotel",
condition:B.env && B.env.b_missing_info_entrypoint
}).run(function(e) {
_i_("269:5092fae5"), window.fbAsyncInit = function() {
_i_("269:c339e8e1"), FB.init({
appId:"210068525731476",
xfbml:!0,
version:"v2.12"
}), _r_();
}, function(e, t, i) {
_i_("269:0cbda873");
var n, o = e.getElementsByTagName(t)[0];
if (e.getElementById(i)) return _r_();
n = e.createElement(t), n.id = i, n.src = "//connect.facebook.net/en_US/sdk/xfbml.customerchat.js", o.parentNode.insertBefore(n, o), _r_();
}(document, "script", "facebook-jssdk"), _r_();
}), function(e) {
"use strict";
_i_("269:9ada4382");
var t = "OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe", i = "OOOTAIFZUHHNEDJXHRIdLQIO";
e.when({
action:"hotel",
condition:e.env.b_mtv_compare_recruit,
experiment:t
}).run(function(n) {
_i_("269:6bf125b4");
var o = n("jquery");
2 === e.et.track(t) && e.et.track(i) && e.env.b_mtv_compare_recruit && o("#myBanner--comparison-table-cta").on("click", "#lists-comparison-trigger", function(e) {
_i_("269:817fc7fd"), o.getScript("//ethn.io/81334.js"), _r_();
}), _r_();
}), _r_();
}(window.booking), booking.browserStorageHandler = function(e, t, i, n) {
_i_("269:3fc107dc");
var o = !1;
try {
o = e.localStorage && e.sessionStorage ? !0 :!1, o && e.localStorage.setItem("btest", "1");
} catch (r) {
o = !1;
}
var _ = {
_readCookie:function(e) {
_i_("269:a38560a0");
var t = {};
try {
"undefined" != typeof JSON && (t = JSON.parse(n.cookie(e)) || {});
} catch (i) {}
return _r_(t);
},
_modifySingleValue:function(t, r, _, a, s) {
if (_i_("269:2a3f9040"), !r || !_) return _r_(!1);
if (o && !s) {
var l = "session" === t ? e.sessionStorage :e.localStorage;
if ("delete" === r) l.removeItem(_); else try {
l.setItem(_, a);
} catch (c) {}
} else {
var d, h, u, f;
"session" === t ? d = "bs" :(d = "b", f = 30), h = this._readCookie(d), "delete" === r ? delete h[_] :h[_] = a, u = n.isEmptyObject(h) ? null :JSON.stringify(h), n.cookie(d, u, {
expires:f,
path:"/",
domain:i.b_domain_end
});
}
_r_();
},
_getValue:function(t, i, n) {
if (_i_("269:baa97cdc"), !i) return _r_(void 0);
if (o && !n) {
var r = "session" === t ? e.sessionStorage :e.localStorage;
return _r_(r.getItem(i));
}
var _, a;
return _ = "session" === t ? "bs" :"b", a = this._readCookie(_), _r_(a[i]);
}
};
return _r_({
addSessionValue:function(e, t, i) {
return _i_("269:8dba9d97"), _r_(_._modifySingleValue("session", "add", e, t, i));
},
deleteSessionValue:function(e, t) {
return _i_("269:9fe487a4"), _r_(_._modifySingleValue("session", "delete", e, void 0, t));
},
getSessionValue:function(e, t) {
return _i_("269:8dab55f2"), _r_(_._getValue("session", e, t));
},
addPermanentValue:function(e, t, i) {
return _i_("269:bea78684"), _r_(_._modifySingleValue("permanent", "add", e, t, i));
},
deletePermanentValue:function(e, t) {
return _i_("269:7a210658"), _r_(_._modifySingleValue("permanent", "delete", e, void 0, t));
},
getPermanentValue:function(e, t) {
return _i_("269:d0d2ce28"), _r_(_._getValue("permanent", e, t));
},
isLocalStorageSupported:function() {
return _i_("269:50cc1570"), _r_(o);
}
});
}(window, document, booking.env, window.jQuery), booking.define && booking.define("browser-storage-handler", booking.browserStorageHandler), B.define("comparison/data-collector", function(e, t, i) {
_i_("269:048e2d0d");
var n = e("et"), o = e("jquery"), r = e("browser-storage-handler"), _ = {
searches:[],
trackedSearch:null
}, a = {
b_ufi:null,
b_checkin_date:null,
b_checkin_checkout_interval:null
}, s = o.extend({}, a, {
different_hp_opened:!1,
different_hp_galleries_opened:!1,
different_hp_review_tabs_opened:!1,
different_hp_rt_reached:!1,
different_hp_room_pages_opened:!1
});
function l(e, t) {
return _i_("269:7e21c5c3"), _r_(e.b_ufi === t.b_ufi && e.b_checkin_date === t.b_checkin_date && e.b_checkin_checkout_interval === t.b_checkin_checkout_interval);
}
function c(e, t, i) {
_i_("269:352452eb");
var n, o;
if (e.searches.forEach(function(e, i) {
_i_("269:c49a1d36"), l(e, t) && (n = i, o = e), _r_();
}), i) return _r_(void 0 !== n ? n :-1);
return _r_(o ? [ o ] :[]);
}
function d(e, t, i) {
return _i_("269:9594861f"), _r_(function() {
_i_("269:59d1fe59");
var a, s, d, h = {}, u = {}, f = r.getPermanentValue(this.storageKey);
if (f ? s = JSON.parse(f) :(s = o.extend({}, _), r.addPermanentValue(this.storageKey, JSON.stringify(s))), s.trackedSearch && (!l(s.trackedSearch, this.params) || s.trackedSearch[e])) return _r_();
if (a = c(s, this.params).pop(), !a) return h[t] = [ this.propertyId ], s.searches.push(o.extend({}, this.getDefaultSearchData(), h)), r.addPermanentValue(this.storageKey, JSON.stringify(s)), _r_();
if (a[t] && -1 !== a[t].indexOf(this.propertyId)) return _r_();
d = o.extend({}, s), h[t] = a[t] ? a[t].slice(0) :[], h[t].push(this.propertyId), d.searches[c(d, this.params, !0)] = o.extend({}, a, h), h[t].length >= 2 && (s.trackedSearch ? s.trackedSearch[e] || (d.trackedSearch[e] = !0) :(n.stage(this.hash, 1), u[e] = !0, d.trackedSearch = o.extend({}, this.getDefaultTrackedSearch(), u)), n.stage(this.hash, i)), r.addPermanentValue(this.storageKey, JSON.stringify(d)), _r_();
}.bind(this));
}
i.exports = {
init:function(e, t, i) {
_i_("269:301bdc9f"), this.hash = e, this.propertyId = t, this.storageKey = e + "__data", this.params = {
b_ufi:i.b_ufi,
b_checkin_date:i.b_checkin_date,
b_checkin_checkout_interval:i.b_checkin_checkout_interval
}, _r_();
},
getDefaultSearchData:function() {
return _i_("269:53cc47a8"), _r_(o.extend({}, a, this.params));
},
getDefaultTrackedSearch:function() {
return _i_("269:ff2b41ea"), _r_(o.extend({}, s, this.params));
},
genericHandler:d
}, _r_();
}), B.when({
condition:!B.env.b_is_soldout,
experiment:"BOeaQDSFeFMObVYAVNDWdQdOET"
}).run(function(e) {
_i_("269:6c97860a");
var t = e("jquery"), i = e("events"), n = e("server-data"), o = t("#hprt-form"), r = B.tools.dom.watchIfBlockVisibleInViewport, _ = e("comparison/data-collector"), a = B.hotel.Events.RT.LIGHTBOX_OPEN_NEW, s = B.hotel.Events.Reviews.REVIEWS_FETCHED, l = B.hotel.Events.PhotoGrid.MODAL_OPENED;
_.init(this.hash, n.b_hotel_id, n), _.genericHandler("different_hp_opened", "hp_opened_count", 2).call(), r(o, _.genericHandler("different_hp_rt_reached", "hp_rt_reached_count", 3)), i.once(a, _.genericHandler("different_hp_room_pages_opened", "hp_room_pages_opened_count", 4)), i.once(l, _.genericHandler("different_hp_galleries_opened", "hp_galleries_opened_count", 5)), i.once(s, _.genericHandler("different_hp_review_tabs_opened", "hp_review_tabs_opened_count", 6)), _r_();
}), function(e) {
_i_("269:df4f746d"), e.when({
events:"ready",
action:"hotel"
}).run(function(t) {
_i_("269:596967ac");
var i = t("jquery"), n = i('[data-elem="js-room-summary-final"]'), o = n.attr("data-hlight-cls");
e.events.on("HP:RT:RoomSelectChanged", function(e) {
_i_("269:4c608a41");
var t = parseInt(e.totalSelectedRooms, 10);
n.length && (t > 0 ? n.addClass(o) :n.removeClass(o)), _r_();
}), _r_();
}), _r_();
}(booking), B.when({
events:"ready"
}).run(function(e) {
_i_("269:cf104b0e");
var t = e("events"), i = 0, n = 0;
t.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(e, t) {
_i_("269:8687bea1"), n = t.find(".hp-rt-lightbox-single-policy-bookable").length, n && (i = t.find("[data-lightbox-ticker-below-cta]"), i.component("core/ticker").startTicker()), _r_();
}), t.on(B.hotel.Events.RT.LIGHTBOX_CLOSE, function(e, t, o) {
_i_("269:4abefc32"), n && i.component("core/ticker").pauseTicker(), _r_();
}), _r_();
}), B.when({
action:"hotel",
events:"load"
}).run(function(e) {
_i_("269:995c5d56");
var t = B.require("jquery"), i = t("#hp_small_print .description .is-license strong"), n = i.html() || "";
i.length > 0 && n.length > 230 && (i.attr("fulltext", n).html(i.text().substr(0, 180) + '&hellp; <a href="#" class="license-more">' + B.jstmpl.translations("/private/bh_fun_fine_print_expand/name") + "</a>"), i.on("click", ".license-more", function(e) {
_i_("269:53db7838"), e.preventDefault(), i.html(n), _r_();
})), _r_();
}), B.when({
events:"ready",
action:"hotel"
}).run(function(e) {
_i_("269:5295262d");
var t, i, n, o, r = e("jquery"), _ = r(".book_now_rt_summary"), a = e("rewrite_tt"), s = !+B.env.b_is_group_search && B.et.track("BKPBZOIFBUcdDbJNKNMDeMVaLLT");
s && (t = r(".top-book-form .b-button_primary"), i = t.attr("data-tooltip-with-rooms"), n = t.attr("data-title"), o = function() {
_i_("269:24e3a56e"), B.et.stage("BKPBZOIFBUcdDbJNKNMDeMVaLLT", 2), _r_();
});
function l(e, l) {
if (_i_("269:62c3bbd5"), l && l.nr_rooms) {
var c = B.jstmpl("hp_book_now_summary").render({
fe_num:l.nr_rooms,
fe_price:l.price,
fe_accommodation_type:B.env.b_acc_type
});
_.html(c).removeClass("g-hidden"), s && (B.et.stage("BKPBZOIFBUcdDbJNKNMDeMVaLLT", 1), _.on("mouseenter", o), 2 === s && a.updateTooltip(t, i, !0)), B.env.b_guest_country && ("nl" === B.env.b_guest_country || "be" === B.env.b_guest_country) && B.et.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO") && B.et.track("eDUIFBUNAAUTCKWFQTcYRJELWe") && r(".taxes_and_charges_near_price_btn_text").html(l.chargesText || "");
} else _.html("").addClass("g-hidden"), s && (_.off("mouseenter", o), s && a.updateTooltip(t, n, !0)), B.env.b_guest_country && ("nl" === B.env.b_guest_country || "be" === B.env.b_guest_country) && B.et.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO") && B.et.track("eDUIFBUNAAUTCKWFQTcYRJELWe") && r(".taxes_and_charges_near_price_btn_text").html("");
_r_();
}
if (B.env.is_rooms_table_rewrite) {
var c = e("hotel/store");
c.subscribe(function() {
_i_("269:6f87912b");
var e = c.getState().roomsTable.js_selection, t = {
nr_rooms:e.roomCount,
price:e.totalPriceFormatted
};
B.env.b_guest_country && ("nl" === B.env.b_guest_country || "be" === B.env.b_guest_country) && B.et.track("eDdJFBUaKAbCLJVXQUJBcJZJIfJJO") && B.et.track("eDUIFBUNAAUTCKWFQTcYRJELWe") && (t.chargesText = e.chargesText || ""), l(null, t), _r_();
});
} else B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE, l), B.events.on(B.hotel.Events.RT.SUMMARY_HIDE, l);
_r_();
}), B.define("component/destination-os/uber-optin", function(e, t, i) {
"use strict";
_i_("269:531accb6");
var n = "transport_uber_banner--opted-in", o = "t_uber_opted";
return _r_(e("component").extend({
init:function() {
if (_i_("269:ac74a3c4"), !$ || !$.cookie) return _r_();
var e = this.$el, t = e.data("hash");
if (e.data("clear")) return $.cookie(o, "1", {
expires:-1,
path:"/",
domain:B.env.b_domain_end
}), _r_();
e.on("change", "[data-optin]", function(i) {
_i_("269:c20e67f3"), e.toggleClass(n), i.target.checked ? $.cookie(o, "1", {
path:"/",
domain:B.env.b_domain_end
}) :($.cookie(o, "1", {
expires:-1,
path:"/",
domain:B.env.b_domain_end
}), t && B.et.customGoal(t, 5)), _r_();
}), "1" == $.cookie(o) && (e.addClass(n), e.find("[data-optin]").prop("checked", !0)), _r_();
}
}));
}), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:8d6441b7");
var t = e("jquery"), i = e("booking-sticker");
if (0 === t(".e-BUcJPIHPcCSEdGCTPcWaYO").length) return _r_();
function n() {
_i_("269:50b6de69"), this.stickyElem = null, this.transitionAware = null, this.needResetToOriginalBoundaries = !1, this.timeoutScroll = null, this.initialize(), _r_();
}
t.extend(n.prototype, {
CSS_CLASS:{
BOOK_NOW_BLOCK:"bookNowWrap",
STICKED:"sticked",
MODIFIER_SHIFTED_FROM_BUTTON:"mod__shifted-to-room-selector"
},
CSS_SELECTOR:{
STICK_PLACEHOLDER:".bookNowWrap.sticked-placeholder",
BOOK_BUTTON:".js-rt__summary__reserve-button",
ROOM_SELECTION:".roomMultiRoomPrice",
ROOM_SELECT:".b_room_selectbox"
},
initialize:function() {
_i_("269:ed4e9a17"), this.transitionAware = new o();
var e = i.stickers;
if (this.stickyElem = (e || []).filter(function(e) {
return _i_("269:36862ac6"), _r_(e.getElement().hasClass(this.CSS_CLASS.BOOK_NOW_BLOCK));
}, this).pop(), !this.stickyElem) return _r_();
if (B.events.on(B.hotel.Events.RT.ROOM_SELECTED, t.proxy(this._slideButtonToRoomSelect, this)), 1 !== B.et.track("BUcJPIHPcCSEdGCTPcWaYO")) return _r_();
B.events.on(B.hotel.Events.RT.STICKY_STUCK, t.proxy(this._resumeNormalBoundaries, this)), B.events.on(B.hotel.Events.RT.STICKY_RELEASE, t.proxy(this._resumeOriginalPositioning, this)), t(window).on("scroll", t.proxy(this._stickToBottom, this)), _r_();
},
_slideButtonToRoomSelect:function(e) {
if (_i_("269:283a13e1"), this._ensureBookButtonVisible() === !1) return _r_();
if (this._atLeastOneRoomSelected() === !1) return this.stickyElem.getElement().css("position", "static"), this.stickyElem.restartPosition(), _r_();
if (0 === e.no_rooms) return _r_();
if (B.et.stage("BUcJPIHPcCSEdGCTPcWaYO", 1), 1 !== B.et.track("BUcJPIHPcCSEdGCTPcWaYO")) return _r_();
this.stickyElem.getElement().hasClass(this.CSS_CLASS.STICKED) && (this.stickyElem.getElement().removeClass(this.CSS_CLASS.STICKED).css({
position:"static",
top:""
}), t(this.CSS_SELECTOR.STICK_PLACEHOLDER).css("display", "none"), this.stickyElem.getElement().get(0).getBoundingClientRect()), this._adjustBookButton(e.$el.closest(this.CSS_SELECTOR.ROOM_SELECTION).get(0)), _r_();
},
_resumeNormalBoundaries:function(e) {
if (_i_("269:84253059"), e.hasClass(this.CSS_CLASS.BOOK_NOW_BLOCK) === !1) return _r_();
if (this.needResetToOriginalBoundaries === !1) return _r_();
this.needResetToOriginalBoundaries = !1, t(this.CSS_SELECTOR.STICK_PLACEHOLDER).css("display", ""), this.stickyElem.getElement().removeClass(this.CSS_CLASS.MODIFIER_SHIFTED_FROM_BUTTON), this.stickyElem.restartPosition(), _r_();
},
_resumeOriginalPositioning:function(e) {
if (_i_("269:97a55e05"), e.hasClass(this.CSS_CLASS.BOOK_NOW_BLOCK) === !1) return _r_();
(parseInt(e.css("top"), 10) || 0) <= 42 && e.css("position", "static"), _r_();
},
_stickToBottom:function() {
if (_i_("269:3c5f45dc"), this.stickyElem.isSticked()) return _r_();
if (this.stickyElem.getElement().hasClass(this.CSS_CLASS.MODIFIER_SHIFTED_FROM_BUTTON) === !1) return _r_();
clearTimeout(this.timeoutScroll), this.timeoutScroll = setTimeout(t.proxy(this._performStickToBottom, this), 80), _r_();
},
_performStickToBottom:function() {
_i_("269:35e507af");
var e, i, n;
if (this.stickyElem.isSticked()) return _r_();
if (this.stickyElem.getElement().hasClass(this.CSS_CLASS.MODIFIER_SHIFTED_FROM_BUTTON) === !1) return _r_();
e = this.stickyElem.getElement().get(0).getBoundingClientRect(), i = t(window).height(), e.bottom > i && (n = parseInt(this.stickyElem.getElement().css("top"), 10), n -= e.bottom - i, 0 >= n && (n = 0, this.transitionAware.performOnceAtTheEnd(this.stickyElem.getElement(), t.proxy(function() {
_i_("269:b074bb77"), this.stickyElem.getElement().removeClass(this.CSS_CLASS.MODIFIER_SHIFTED_FROM_BUTTON), _r_();
}, this))), this.transitionAware.performOnceAtTheEnd(this.stickyElem.getElement(), t.proxy(this.stickyElem.restartPosition, this.stickyElem)), this.stickyElem.getElement().css("top", n)), _r_();
},
_ensureBookButtonVisible:function() {
return _i_("269:36b855c1"), _r_(this.stickyElem.getElement().length > 0 && this.stickyElem.getElement().find(this.CSS_SELECTOR.BOOK_BUTTON).length > 0);
},
_atLeastOneRoomSelected:function() {
return _i_("269:51357981"), _r_(t(this.CSS_SELECTOR.ROOM_SELECT).filter(function(e, t) {
return _i_("269:cca24c12"), _r_((parseInt(t.value) || 0) > 0);
}).length > 0);
},
_adjustBookButton:function(e) {
_i_("269:0ef1ee20");
var i, n, o, r = 0, _ = e.getBoundingClientRect(), a = this.stickyElem.getElement().find(this.CSS_SELECTOR.BOOK_BUTTON).get(0).getBoundingClientRect();
n = parseInt(this.stickyElem.getElement().offset().top, 10), o = _.top - a.top, o >= 0 && (n + o < this.stickyElem.getOffsetTopBoundaries().lowerBound ? o += this.stickyElem.getOffsetTopBoundaries().lowerBound - (n + o) :n + o > this.stickyElem.getOffsetTopBoundaries().upperBound && (o -= n + o - this.stickyElem.getOffsetTopBoundaries().upperBound + 1)), "relative" === this.stickyElem.getElement().css("position") && (r = parseInt(this.stickyElem.getElement().css("top") || 0)), i = Math.max(r + o, 0), this.needResetToOriginalBoundaries = !0, this.stickyElem.getElement().css({
position:"relative",
top:i + "px"
}), this.stickyElem.isSticked() && this.stickyElem.getElement().get(0).getBoundingClientRect().top <= 42 && (this.stickyElem.getElement().addClass(this.CSS_CLASS.STICKED), t(this.CSS_SELECTOR.STICK_PLACEHOLDER).css("display", "")), this.stickyElem.restartPosition(), this.stickyElem.isSticked() || this.stickyElem.getElement().addClass(this.CSS_CLASS.MODIFIER_SHIFTED_FROM_BUTTON), _r_();
}
});
function o() {
_i_("269:f54524ba"), this.isTransitionSupported = null, this.initialize(), _r_();
}
t.extend(o.prototype, {
EVENT_NAME:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",
initialize:function() {
_i_("269:21c514ea"), this.isTransitionSupported = this._detectTransitionSupport(), _r_();
},
performOnceAtTheEnd:function(e, t) {
_i_("269:e697fc43"), this.isTransitionSupported ? e.one(this.EVENT_NAME, t) :t.call(), _r_();
},
_detectTransitionSupport:function() {
_i_("269:5a22c632");
var e = document.body || document.documentElement, t = e.style, i = "transition";
if ("string" == typeof t[i]) return _r_(!0);
var n = [ "Moz", "webkit", "Webkit", "Khtml", "O", "ms" ];
i = i.charAt(0).toUpperCase() + i.substr(1);
for (var o = 0; o < n.length; o++) if ("string" == typeof t[n[o] + i]) return _r_(!0);
return _r_(!1);
}
}), new n(), _r_();
}), B.when({
action:"hotel",
condition:B.env.fe_cdm_hp_copy_paste_tracking
}).run(function(e) {
_i_("269:e4c643c8");
var t = e("et"), i = "GaQOMBUZOOeRZWDbDDUWe", n = "cppt";
function o() {
_i_("269:8d87fcfa");
var e = "test";
try {
return localStorage.setItem(e, e), localStorage.removeItem(e), _r_(!0);
} catch (t) {
return _r_(!1);
}
_r_();
}
function r() {
_i_("269:0d55c57b");
var e = a();
if (e) return _r_(e);
return _r_(_());
}
function _() {
_i_("269:9dfb838b");
var e = String(Math.random()).slice(2);
return _r_(n + "_" + e);
}
function a() {
_i_("269:e7b77e35");
try {
return _r_(window.localStorage.getItem(n));
} catch (e) {
return _r_(null);
}
_r_();
}
function s(e) {
return _i_("269:a8fee0aa"), _r_(0 === e.indexOf(n));
}
function l() {
_i_("269:fcca6048");
for (var e = f(), t = 0; t < e.length; t++) {
var i = e[t];
if (s(i)) return _r_(i);
}
return _r_(null);
}
function c(e) {
_i_("269:bdf45aaa");
try {
window.localStorage.setItem(n, e);
} catch (t) {}
_r_();
}
function d(e) {
_i_("269:62c0c3de"), window.location.hash = e, _r_();
}
var h = !1;
function u(e) {
_i_("269:b54f0c53"), d(e), c(e), h = !0, _r_();
}
function f() {
_i_("269:fe123548");
var e = window.location.hash.replace(/^#/, "");
return _r_(e.split("&").filter(function(e) {
return _i_("269:5c50f525"), _r_(!!e);
}));
}
function p() {
_i_("269:96fb815f");
var e = f();
return _r_(0 === e.length || 1 === e.length && s(e[0]));
}
function b() {
_i_("269:3de5a90c"), window.location.hash = "", _r_();
}
function m() {
return _i_("269:3d7cb861"), _r_("mdot" === B.env.b_site_type);
}
function g() {
_i_("269:df3cf0d1");
var e = l(), n = r();
e && e !== n && (b(), t.customGoal(i, 1)), m() && (u(n), t.customGoal(i, 2)), _r_();
}
window.addEventListener("hashchange", function() {
_i_("269:c4b32dd3"), !p() && h && t.customGoal(i, 4), _r_();
}, !1), o() && p() ? g() :m() && t.customGoal(i, 3), _r_();
}), B.define("component/sharing/utils/copy", function(e, t, i) {
"use strict";
_i_("269:f0d37348");
var n = e("jquery");
i.exports = {
copyText:function(e, t, i) {
_i_("269:3347825c");
var o = this.createFakeCopyElement(e);
document.body.appendChild(o), o.select(), o.setSelectionRange && o.setSelectionRange(0, o.value.length), this.execCopyText(t, i), n(o).remove(), _r_();
},
createFakeCopyElement:function(e) {
_i_("269:d54033b2");
var t = document.createElement("textarea");
return t.style.fontSize = "12pt", t.style.border = "0", t.style.padding = "0", t.style.margin = "0", t.style.position = "absolute", t.style[B.env.b_lang_rtl ? "right" :"left"] = "-9999px", t.style.top = (window.pageYOffset || document.documentElement.scrollTop) + "px", t.setAttribute("readonly", ""), t.value = e, _r_(t);
},
execCopyText:function(e, t) {
_i_("269:53b5ecb7");
var i;
try {
document.execCommand("copy");
} catch (n) {
i = n;
}
i ? t(i) :e(), _r_();
}
}, _r_();
}), B.define("component/sharing/utils/short-url", function(e, t, i) {
"use strict";
_i_("269:30edd1ef");
var n = e("jquery");
i.exports = {
MDOT_AID:1258470,
DESKTOP_AID:1258472,
TDOT_AID:1258471,
RAF_AID:939121,
generate:function(e) {
return _i_("269:4bff9fbb"), _r_(n.ajax({
method:"POST",
url:"/sharing_experience/get_short_url",
dataType:"json",
data:{
url:e.longUrl,
channel:e.channelName,
aid:e.aid,
raf_advocate_data:e.rafAdvocateData
}
}));
}
}, _r_();
}), B.define("component/sharing/share-link/share-link", function(e, t, i) {
"use strict";
_i_("269:0b209ef2");
var n = e("component"), o = e("component/sharing/utils/short-url"), r = e("component/sharing/utils/copy"), _ = e("et");
i.exports = n.extend({
placeholder:/DATA/g,
channels:{
sms:{
name:"sms",
action:"openSMS",
uri:B.env.b_is_iphone ? "sms:&body=DATA" :"sms:?body=DATA"
},
whatsapp:{
name:"whatsapp",
action:"openWhatsapp",
uri:"whatsapp://send?text=DATA"
},
copy:{
name:"copy",
action:"copyText",
fetchOnOpen:!0
},
google:{
name:"google",
action:"openWindow",
uri:"https://plus.google.com/share?url=DATA"
},
facebook:{
name:"facebook",
action:"openWindow",
uri:"http://www.facebook.com/share.php?u=DATA"
},
twitter:{
name:"twitter",
action:"openWindow",
uri:"http://twitter.com/home/?status=DATA"
},
fbmessenger:{
name:"fbmessenger",
action:"openURI",
uri:"fb-messenger://share?link=DATA"
},
email:{
name:"email",
action:"openURI",
uri:"mailto:?body=DATA"
}
},
channel:null,
loading:!1,
init:function() {
if (_i_("269:a7470faf"), this.initChannel(), !this.channel) return _r_();
this.loadDataParams(), this.addEventListeners(), _r_();
},
initChannel:function() {
_i_("269:0df65ad8");
var e = this.$el.data("channel");
this.channel = this.channels[e], _r_();
},
trackShareSuccess:function() {
_i_("269:6b071313"), _.goal("web_share_dialog_succeed"), _r_();
},
trackShareError:function() {
_i_("269:4b28efb6"), _.goal("web_share_dialog_failed"), _r_();
},
loadDataParams:function() {
_i_("269:75d6630f"), this.loadingClass = this.$el.data("loading-class"), this.successClass = this.$el.data("success-class"), _r_();
},
addEventListeners:function() {
_i_("269:a4867ef8"), this.$el.on("click", this.onClickEvent.bind(this)), _r_();
},
onClickEvent:function(e) {
_i_("269:2cdd8923"), e.preventDefault(), this.isReady() ? this.startAction() :this.loading || this.startGenerationProcess().done(this.startAction.bind(this)), _r_();
},
isReady:function() {
return _i_("269:09a91dbf"), _r_(!!this.channel.ready);
},
setLoadingState:function() {
_i_("269:5ce34a38"), this.loading = !0, this.loadingClass && this.$el.toggleClass(this.loadingClass, !0), _r_();
},
removeLoadingState:function() {
_i_("269:fdb9d618"), this.loading = !1, this.loadingClass && this.$el.toggleClass(this.loadingClass, !1), _r_();
},
setSuccessState:function() {
_i_("269:bc0e40be"), this.successClass && this.$el.toggleClass(this.successClass, !0), _r_();
},
removeSuccessState:function() {
_i_("269:a9af7879"), this.successClass && this.$el.toggleClass(this.successClass, !1), _r_();
},
startGenerationProcess:function() {
return _i_("269:421a3383"), this.onGenerationStart(), _r_(this.generateShortLink().done(this.onGenerationFinish.bind(this)).fail(this.onGenerationError.bind(this)));
},
onGenerationStart:function() {
_i_("269:86e259b9"), this.setLoadingState(), _r_();
},
getLongUrl:function() {
return _i_("269:c4f48a48"), _r_(B.env.b_original_url);
},
generateShortLink:function() {
return _i_("269:a23f66d6"), _r_(o.generate({
longUrl:this.getLongUrl(),
channelName:this.channel.name,
aid:o.MDOT_AID
}));
},
onGenerationError:function() {
_i_("269:56dd69bb"), this.removeLoadingState(), this.trackShareError(), _r_();
},
onGenerationFinish:function(e) {
_i_("269:a8cc0d77"), this.removeLoadingState(), this.updateChannel(e), _r_();
},
updateChannel:function(e) {
_i_("269:b612c6bb");
var t = encodeURIComponent(e.shorturl);
this.channel.uri && (this.channel.uri = this.channel.uri.replace(this.placeholder, t)), this.channel.shorturl = e.shorturl, this.$el.attr("href") && this.$el.attr("href", this.channel.shorturl), this.channel.ready = !0, _r_();
},
startAction:function() {
_i_("269:9b2a88bc");
var e = this[this.channel.action];
e.call(this), this.trackShareSuccess(), _r_();
},
openURI:function() {
_i_("269:cbb3cc57"), this.channel.uri && (this.onBeforeURIOpen(), window.location.href = this.channel.uri), _r_();
},
openWindow:function() {
_i_("269:bb3789e6"), this.channel.uri && window.open(this.channel.uri), _r_();
},
openSMS:function() {
_i_("269:13024e30"), this.openURI(), _r_();
},
openWhatsapp:function() {
_i_("269:13024e301"), this.openURI(), _r_();
},
copyText:function() {
_i_("269:b75a7421"), r.copyText(this.channel.shorturl, this.onCopySuccess.bind(this), this.onCopyError.bind(this)), _r_();
},
copyTimeoutId:null,
onCopySuccess:function() {
_i_("269:d654d722"), this.setSuccessState(), clearTimeout(this.copyTimeoutId), this.copyTimeoutId = setTimeout(function() {
_i_("269:237515b2"), this.removeSuccessState(), _r_();
}.bind(this), 4e3), _r_();
},
onCopyError:function() {},
onBeforeURIOpen:function() {}
}), _r_();
}), B.define("component/sharing/share-center/share-center", function(e, t, i) {
"use strict";
_i_("269:9e440595");
var n = e("jquery"), o = e("et"), r = e("referral/raf-goal"), _ = e("component/sharing/utils/short-url"), a = e("component/sharing/utils/copy"), s = e("component"), l = e("querystring"), c = 112;
i.exports = s.extend({
_popup:null,
shortCopyUrl:null,
rafAdvocateData:null,
init:function() {
_i_("269:aeed3e2c"), this.$el.on("click", ".share_center_button_icon, .close", this.onPopupBtnClick.bind(this)), this.$el.on("click", ".share_center_url", this.onCopyInputClick.bind(this)), this.$el.on("blur", ".share_center_url", this.onCopyInputBlur.bind(this)), this.$el.on("click", ".out_link a", this.onSocialLinkClick.bind(this)), this.$el.on("click", ".share_center_copy_cta", this.onCopyCTAClick.bind(this)), this.copyConfirmationTimeoutId = null, _r_();
},
trackShareSuccess:function() {
_i_("269:6b0713131"), o.goal("web_share_dialog_succeed"), _r_();
},
trackShareError:function() {
_i_("269:4b28efb61"), o.goal("web_share_dialog_failed"), _r_();
},
onCopyCTAClick:function() {
if (_i_("269:1efb7147"), !this.shortCopyUrl) return _r_();
a.copyText(this.shortCopyUrl, this.onCopySuccess.bind(this), this.onCopyError.bind(this)), this.trackShareSuccess(), _r_();
},
onCopySuccess:function() {
_i_("269:08fc3f67");
var e = this.$el.find(".share_center_copy_cta");
e.addClass("share_center_copy_cta--copied"), this.$el.find(".share_center_url_input").focus().select(), clearTimeout(this.copyConfirmationTimeoutId), this.copyConfirmationTimeoutId = setTimeout(function() {
_i_("269:4ded00cc"), e.removeClass("share_center_copy_cta--copied"), _r_();
}.bind(this), 4e3), _r_();
},
onCopyError:function() {
_i_("269:97097b4a"), this.$el.find(".share_center_url_input").focus().select(), _r_();
},
onCopyInputClick:function(e) {
_i_("269:9a6e37a9"), e.currentTarget.select(), n(".copy_hint", n(e.currentTarget).closest(".share_center")).fadeIn("fast"), this.trackShareSuccess(), _r_();
},
onCopyInputBlur:function(e) {
_i_("269:4db9332b"), n(".share_center .copy_hint", e.currentTarget).fadeOut("fast"), _r_();
},
onSocialLinkClick:function(e) {
_i_("269:47c36a3e"), e.preventDefault();
var t = e.currentTarget.getAttribute("href");
window.open(t, "sc_share", "menubar=0,resizable=1,width=600,height=400"), this.trackSocialLinkClick(e.currentTarget.getAttribute("data-channel")), _r_();
},
trackSocialLinkClick:function(e) {
_i_("269:aec5fdbb"), this.trackShareSuccess(), _r_();
},
onPopupBtnClick:function(e) {
_i_("269:004285b9"), this.isPopupOpen() ? this.hidePopup() :this.showPopup(), _r_();
},
isPopupOpen:function() {
return _i_("269:7af9b122"), _r_(this._popup && this._popup.hasClass("open"));
},
showPopup:function() {
_i_("269:62d6fbd1"), n(".share_center_popup").removeClass("open"), this._popup || (this._popup = this.createPopup(), this.$el.append(this._popup).loadComponents()), this.getRAFAdvocateDetails(), this.isPopupOpen() || this._popup.addClass("open"), _r_();
},
hidePopup:function() {
_i_("269:37b3eabc"), this._popup.removeClass("open"), _r_();
},
createSocialLink:function(e, t) {
_i_("269:068d3307");
var i = this.$el.data(e), n = window.location.href, o = l.parseUrl(window.location.href);
return o && o.query && (o.query.aid = _.DESKTOP_AID, n = o.base + "?" + l.stringify(o.query)), _r_(i.replace(/DATA/, encodeURIComponent(n)));
},
createPopup:function() {
return _i_("269:1f4664ce"), _r_(n(B.jstmpl("shareCenterPopup").render({
b_hotel_image_url:this.$el.data("hotel-image-url"),
b_facebook_url:this.createSocialLink("facebook-url", "facebook"),
b_twitter_url:this.createSocialLink("twitter-url", "twitter"),
b_google_url:this.createSocialLink("google-url", "google"),
b_hotel_name:this.$el.data("hotel-name"),
b_reg_user_id:this.$el.data("user-id"),
b_raf_url:B.env.b_secure_domain + "/myreferrals" + B.env.b_query_params_with_lang,
b_companyname:B.env.b_companyname
})));
},
generateCopyLink:function() {
if (_i_("269:ec461dbe"), this.shortCopyUrl) return _r_();
var e = this;
_.generate({
longUrl:window.location.href,
channelName:"copy",
aid:e.rafAdvocateData ? _.RAF_AID :_.DESKTOP_AID,
rafAdvocateData:JSON.stringify(e.rafAdvocateData)
}).done(function(e) {
_i_("269:7ada19f0"), this.shortCopyUrl = e.shorturl, this.setCopyReadyState(this.shortCopyUrl), _r_();
}.bind(this)).fail(function() {
_i_("269:0b8e9bc9"), this.trackShareError(), _r_();
}.bind(this)), _r_();
},
setCopyReadyState:function(e) {
_i_("269:8f0f5c68"), this.$el.find(".share_center_url_top").text(e), this.$el.find(".share_center_url").removeAttr("disabled").val(e);
var t = this.$el.find(".share_center_copy_cta");
t.removeClass("share_center_copy_cta--disabled"), t.css("min-width", Math.max(c, t.outerWidth())), _r_();
},
getRAFAdvocateDetails:function() {
_i_("269:4aab804e");
var e = this, t = e.$el.data("user-id");
if (!t) return e.generateCopyLink(), _r_();
this.$el.data("raf-marketing-validation") ? B.require("fragment").call("raf.marketing_validation", {
user_id:this.$el.data("user-id")
}).then(function(t) {
_i_("269:b4313e61"), t ? n.ajax({
url:B.env.b_secure_domain + "/rafadvocatedetails",
type:"post",
data:{
source_id:17
},
xhrFields:{
withCredentials:!0
},
success:function(t) {
if (_i_("269:21504096"), t && t.b_advocate_code) {
var i = t.b_raf_v2_share_link;
if (t.b_raf_v2_share_link.b_raf_share_link_plain_text && (i = t.b_raf_v2_share_link.b_raf_share_link_plain_text), n(".sc-raf-share-widget__form-input input").val(i).on("click", function() {
_i_("269:cf47d881"), n(e).select(), r.shareGoal("gm_share_copy"), _r_();
}), n(".sc-raf-share-widget__form-button button").on("click", function() {
_i_("269:497a02f8");
var o = n(e), _ = B.require("referral/clipboard"), a = i;
t.b_raf_v2_share_link.b_raf_share_link_copy && (a = t.b_raf_v2_share_link.b_raf_share_link_copy), _.copy(a, function(e) {
_i_("269:9f8c767a"), e || (o.text(B.jstmpl.translations("raf_share_pop_up_hotel_page_user_copied")), r.shareGoal("gm_share_copy")), _r_();
}), _r_();
}), t.b_raf_reward_advocate_with_currency && t.b_raf_reward_friend_with_currency && t.b_raf_reward_advocate_with_currency === t.b_raf_reward_friend_with_currency) {
if (t.b_raf_employee_campaign) var o = B.jstmpl.translations("raf_standalone_email_employee_campaign_line_one"); else var o = B.jstmpl.translations("raf_share_pop_up_hotel_page_user_with_raf_link_value_reward", null, {
value:t.b_raf_reward_advocate_with_currency,
b_companyname:B.env.b_companyname
});
n(".sc-raf-share-widget__label").html(o);
}
n(".sc-raf-share-widget__cta a").attr("href", t.b_scoreboard_url), n(".sc-raf-share-widget").removeClass("g-hidden");
} else n(".sc_raf_promo").removeClass("g-hidden");
_r_();
},
complete:function() {
_i_("269:abb3d5d4"), e.generateCopyLink(), _r_();
}
}) :e.generateCopyLink(), _r_();
}) :e.generateCopyLink(), _r_();
}
}), _r_();
}), booking.jstmpl("shareCenterPopup", function() {
_i_("269:9b6f85fb");
var e, t = [ '\n\n    <div class="share_center_popup top_pointer">\n        <div class="inner">\n        <ul class="share_links share_links_with_top_margin">\n                <li class="sc_facebook out_link">\n                    <a href="', '" data-channel="facebook" target="_blank">\n                        ', "bui__share_center_icon", "32", "sprite/share_center_facebook", "\n                      ", "/private/share_social_facebook/name", '\n                    </a>\n                </li>\n                <li class="sc_twitter out_link">\n                    <a href="', '" data-channel="twitter" target="_blank">\n                        ', "sprite/share_center_twitter", "\n                        ", "/private/share_social_twitter/name", '\n                    </a>\n                </li>\n                <li class="sc_google out_link">\n                    <a href="', '" data-channel="google" target="_blank">\n                        ', "sprite/share_center_gplus", "/private/share_social_google/name", '\n                    </a>\n                </li>\n            </ul>\n\n            <hr />\n            <div class="form_substitute share_center_copy_form">\n                <label class="share_center_copy_label">', "/private/share_social_link/name", '</label>\n                <input type="text" class="share_center_url share_center_url_input" value="" disabled/>\n                <button class="b-button b-button_primary share_center_copy_cta share_center_copy_cta--disabled"\n                        type="button">\n                    <span class="share_center_copy_message">\n                        ', "/private/desktop_cdm_share_copy_link/name", '\n                    </span>\n                    <span class="share_center_copied_message">\n                        ', "/private/desktop_cdm_share_copied/name", "\n                    </span>\n                </button>\n            </div>\n            <hr />\n\n            ", '\n                <div class="sc-raf-share-widget clearfix g-hidden">\n                    <div class="sc-raf-share-widget__label">', "/private/raf_share_pop_up_hotel_page_user_with_raf_link/name", '</div>\n                    <div class="sc-raf-share-widget__form">\n                        <div class="sc-raf-share-widget__form-input">\n                            <input name="raf-sharelink" type="text" readonly="true" value=""/>\n                        </div>\n                        <div class="sc-raf-share-widget__form-button">\n                            <button type="button">', "/private/raf_share_pop_up_hotel_page_user_button_copy_link/name", '</button>\n                        </div>\n                    </div>\n                    <div class="sc-raf-share-widget__cta"><a href="#">', "/private/raf_share_pop_up_hotel_page_cta/name", '</a></div>\n                </div>\n                <div class="sc_raf_promo g-hidden">\n                    <a href="', '">', "/private/raf_share_pop_up_hotel_page_user_without_raf_link/name", "</a>\n                </div>\n            ", '\n        </div>\n        <a href="#" class="close">&times;</a>\n    </div>\n' ], i = [ "b_facebook_url", "b_twitter_url", "b_google_url", "b_raf_url", "b_reg_user_id" ];
return _r_(function(n) {
_i_("269:f49d4197");
var o = "", r = this.fn;
return o += [ t[0], r.MC(i[0]), t[1], (n.unshift({
"class":t[2],
height:t[3],
name:t[4],
width:t[3]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[5], r.ME(t[6], r.MB, r.MN, null), t[7], r.MC(i[1]), t[8], (n.unshift({
"class":t[2],
height:t[3],
name:t[9],
width:t[3]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[10], r.ME(t[11], r.MB, r.MN, null), t[12], r.MC(i[2]), t[13], (n.unshift({
"class":t[2],
height:t[3],
name:t[14],
width:t[3]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[10], r.ME(t[15], r.MB, r.MN, null), t[16], r.ME(t[17], r.MB, r.MN, null), t[18], r.ME(t[19], r.MB, r.MN, null), t[20], r.ME(t[21], r.MB, r.MN, null), t[22] ].join(""), r.MD(i[4]) && (o += [ t[23], r.ME(t[24], r.MB, r.MN, null), t[25], r.ME(t[26], r.MB, r.MN, null), t[27], r.ME(t[28], r.MB, r.MN, null), t[29], r.MC(i[3]), t[30], r.ME(t[31], r.MB, r.MN, null), t[32] ].join("")), o += t[33], _r_(o);
});
}()), booking.jstmpl("shareCenterCopyOnlyPopup", function() {
_i_("269:10ce9303");
var e = [ '\n    <div class="share_center_popup top_pointer">\n        <div class="inner">\n            <div class="form_substitute share_center_copy_form clearfix">\n                <input type="text" class="share_center_url share_center_url_input" value="" disabled/>\n                <button class="b-button b-button_primary share_center_copy_cta share_center_copy_cta--disabled"\n                        type="button">\n                    <span class="share_center_copy_message">\n                        ', "/private/desktop_cdm_share_copy_link/name", '\n                    </span>\n                    <span class="share_center_copied_message">\n                        ', "/private/desktop_cdm_share_copied/name", '\n                    </span>\n                </button>\n            </div>\n        </div>\n        <a href="#" class="close">&times;</a>\n    </div>\n' ];
return _r_(function(t) {
_i_("269:76e489db");
var i = "", n = this.fn;
return i += [ e[0], n.ME(e[1], n.MB, n.MN, null), e[2], n.ME(e[3], n.MB, n.MN, null), e[4] ].join(""), _r_(i);
});
}()), B.when({
events:"ready",
action:"hotel",
experiment:"OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe",
condition:B.env && B.env.b_recently_viewed_in_ufi_count
}).run(function(e) {
_i_("269:c834eb84");
var t = e("jquery"), i = B.tools.dom.watchIfBlockVisibleInViewport, n = t(".lists-comparison-container-view-tracking"), o = e("browser-storage-handler"), r = "mtv_user_viewed_comparison_component";
i(n, function() {
_i_("269:878cfe1c"), o.addSessionValue(r, !0, !0), _r_();
}), _r_();
}), B.define("component/lists/lists-comparison", function(e, t, i) {
"use strict";
_i_("269:a3242c38");
var n, o = "hotel" === B.env.b_action, r = e("component"), _ = e("et"), a = e("lists/lists-store/lists-store"), s = e("lists/lists-api/lists-api").API, l = e("lists/listview-template/listview-template"), c = e("jquery"), d = e("lightbox"), h = e("fragment");
o && (n = e("hotel/rooms_table/gently_select_rooms"));
var u = "OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe", f = 200, p = 400;
i.exports = r.extend({
init:function() {
_i_("269:760b9772"), this.$trigger = c("#lists-comparison-trigger"), this.$CTAWidget = c("#myBanner--comparison-table-cta"), this.$hideCTAWidgetTrigger = c("#myBanner--comparison-table-cta .bui-banner__close"), this.addEvents(), _r_();
},
addEvents:function() {
_i_("269:6f3b91d6"), this.$trigger.length && this.$trigger.on("click", this.handleTriggerClick.bind(this)), this.$CTAWidget.length && this.$hideCTAWidgetTrigger.on("click", this.handleHideCTAWidgetclick.bind(this)), this.$el.on("click", ".js-lists-book-current", this.handleBookCurrentClick.bind(this)), this.$el.on("click", ".js-lists-view-current", this.handleViewCurrentClick.bind(this)), this.$el.on("click", ".js-lists-book-viewed", this.handleBookViewedClick.bind(this)), this.$el.on("click", ".js-lists-remove-hotel", this.handleRemoveClick.bind(this)), this.$el.on("click", ".lists-scroll-btn", this.handleScrollClickEvent.bind(this));
var e = c("html, body").hasClass("lang_is_rtl");
this.$el.on("click", ".lists-hotel-image__photo-prev", this.handleGalleryClick.bind(this, e)), this.$el.on("click", ".lists-hotel-image__photo-next", this.handleGalleryClick.bind(this, !e)), _r_();
},
handleHideCTAWidgetclick:function() {
_i_("269:d5b1c714"), this.trackHPGoal(5), this.$CTAWidget.addClass("disabled"), h.call("comparison.set_comparison_widget_visibility", {
hotel_id:B.env.b_hotel_id,
visibility_preference:"is_hidden"
}).then(function() {
_i_("269:b8bc891e"), this.$CTAWidget.hide(), _r_();
}.bind(this)), _r_();
},
handleTriggerClick:function(e) {
_i_("269:c916d026"), "A" == e.target.nodeName && e.preventDefault();
var t = c(e.currentTarget).attr("data-src");
d.show(c(t), {
autoWidth:!0
}), this.trackHPGoal(4), this.updateComponent(), _r_();
},
updateComponent:function() {
_i_("269:f3fce775"), this.fetchRecentlyViewed().then(this.handleFetchResponse.bind(this), this.handleError.bind(this)), _r_();
},
fetchRecentlyViewed:function() {
return _i_("269:29e0dfad"), _r_(a.fetch({
with_hotels:1,
only_recently_viewed:1,
comparison_mode:1,
rank_hotels:1,
ufi:B.env.b_ufi ? B.env.b_ufi :null,
available_only:1
}));
},
handleError:function(e) {
_i_("269:bf0a6b15"), this.renderError(), _r_();
},
handleFetchResponse:function(e) {
_i_("269:bf13dc9a"), e && e.lists && 1 === e.lists.length ? this.renderSuccess(e.lists[0]) :this.renderError(), _r_();
},
renderSuccess:function(e) {
_i_("269:fe47bbf4"), this.renderHotels(e), this.updateDimensions(), this.updateScrollButtons(), _r_();
},
renderError:function() {
_i_("269:c8ce1771");
var e = B.jstmpl("lists_hotels_error").render();
this.$el.html(e), _r_();
},
prepareHotelsData:function(e) {
_i_("269:a6e78684");
for (var t = {
current_hotel:null,
viewed_hotels:[],
list_id:e.id,
b_back_to_sr_url:B.env.b_back_to_sr_url
}, i = 0; i < e.hotels.length; i++) {
var n = l.prepare(e.hotels[i], {
from_history:!0
});
n.id == B.env.b_hotel_id ? (n.is_current = !0, t.current_hotel = n) :t.viewed_hotels.push(n);
}
return _r_(t);
},
renderHotels:function(e) {
_i_("269:0b907350");
var t = this.prepareHotelsData(e), i = B.jstmpl("lists_hotels_view").render(t);
this.$el.html(i).addClass("lists-comparison-animated"), _r_();
},
handleBookViewedClick:function(e) {
_i_("269:9c1914b7"), this.trackHPGoal(2), _r_();
},
handleBookCurrentClick:function(e) {
_i_("269:1430da79"), e.preventDefault(), d.hide(), n.areRoomsSelected() ? n.scrollToRoomsTable() :n.scrollToRoomsTableAndAutoSelect(), this.trackHPGoal(1), _r_();
},
handleViewCurrentClick:function(e) {
_i_("269:5f2eee23"), this.trackHPGoal(1), _r_();
},
trackHPGoal:function(e) {
_i_("269:e816fc86"), o && _.customGoal(u, e), _r_();
},
handleRemoveClick:function(e) {
_i_("269:d3dec9e6"), e.preventDefault();
var t = this.getHotelFromEvent(e);
if (!t) return _r_();
s.updateHotels({
list_id:t.list_id,
hotel_ids:[ t.hotel_id ],
states:[ 0 ],
is_recently_viewed:1
});
var i = this.getHotelNodeFromEvent(e);
i.remove(), this.updateDimensions(), this.updateScrollButtons(), _r_();
},
handleScrollClickEvent:function(e) {
_i_("269:f4991bb6");
var t = c(e.target), i = c(".lists-viewed-hotels"), n = i.scrollLeft() || 0;
t.hasClass("lists-scroll-btn--left") ? i.animate({
scrollLeft:n - p
}, f) :i.animate({
scrollLeft:n + p
}, f), _r_();
},
updateDimensions:function() {
_i_("269:9faf1f5d");
var e = this.$el.find(".lists-current-hotel"), t = this.$el.find(".lists-viewed-hotels .lists-hotel"), i = t.css("height");
e.css("height", i), e.width() || this.$el.find(".lists-viewed-hotels-outer").css("max-width", "100%"), _r_();
},
updateScrollButtons:function() {
_i_("269:57bf0ddd");
var e = c(".lists-viewed-hotels"), t = e.get(0);
if (!t) return _r_();
t.scrollWidth > t.clientWidth ? c(".lists-scroll-btn").show() :c(".lists-scroll-btn").hide(), _r_();
},
getHotelNodeFromEvent:function(e) {
return _i_("269:90a41eb2"), _r_(c(e.currentTarget).closest(".lists-hotel"));
},
getHotelFromEvent:function(e) {
_i_("269:97b9acbc");
var t = this.getHotelNodeFromEvent(e), i = t.attr("data-id"), n = t.attr("data-list-id");
return _r_(i && a.getHotelById({
list_id:n,
hotel_id:i
}));
},
handleGalleryClick:function(e, t) {
_i_("269:1f5caafa"), t.preventDefault();
var i = this.getHotelNodeFromEvent(t), n = this.getHotelFromEvent(t);
if (!n) return _r_();
var o = this.updateGalleryCounter(n, i, e), r = n.b_main_photos[o - 1], _ = i.find(".js-lists-hotel-image");
this.updateGalleryImage(_, r), _r_();
},
updateGalleryCounter:function(e, t, i) {
_i_("269:37e7876c");
var n = t.find(".lists-hotel-image__photo-counter-current"), o = Number(n.html()), r = e.b_main_photos.length;
return o = i ? o === r ? 1 :o + 1 :1 === o ? r :o - 1, n.html(o), _r_(o);
},
updateGalleryImage:function(e, t) {
_i_("269:0f36ea23");
var i = e.css("background-image").split(",")[0], n = B.tools.jsStaticUrl(t.b_photo_url);
e.css("background-image", "url(" + n + ")" + (i ? ", " + i :"")), _r_();
}
}), _r_();
}), booking.jstmpl("lists_hotels_view", function() {
_i_("269:8ed2e2c2");
var e, t, i = [ '\n\n    <div class="lists-current-hotel">\n        ', "\n            ", '\n    <div class="lists-hotel', " lists-hotel--best", '"\n        data-list-id="', '"\n        data-id="', '">\n\n        ', '\n            <div class="lists-hotel-badge lists-hotel-badge__current">\n                ', "/private/cdm_hp_compare_currently_viewing/name", "\n            </div>\n        ", "\n\n        ", '\n            <div class="lists-hotel-badge lists-hotel-badge__best">\n                ', "/private/compare_page_best_choice/name", '\n                <i class="bicon bicon-infobold lists-hotel-badge-icon jq_tooltip"\n                    title="', "/private/compare_page_best_choice_tooltip/name", '"></i>\n            </div>\n        ', '\n\n        <div class="js-lists-hotel-image lists-hotel-image"\n            href="', '" target="_blank"\n            style="background-image: url(', ');">\n            ', '\n                <div class="lists-hotel-image__photo-prev">\n                    <i class="bicon-leftchevron"></i>\n                </div>\n                <div class="lists-hotel-image__photo-next">\n                    <i class="bicon-rightchevron"></i>\n                </div>\n                <div class="lists-hotel-image__photo-counter">\n                    <span class="lists-hotel-image__photo-counter-current">1</span>/<span class="lists-hotel-image__photo-counter-total">', "</span>\n                </div>\n            ", '\n        </div>\n\n        <div class="lists-hotel-info">\n            \n            \n            ', "\n                ", "lists-hotel-top-container--small", '\n            \n\n            <div class="lists-hotel-info-block lists-hotel-top-container ', '">\n                <div class="lists-hotel-block-row lists-hotel-block-row--title">\n                    <a class="lists-hotel-title lists-hotel-text-row\n                              ', "\n                                  js-lists-view-current\n                              ", "\n                                  js-lists-book-viewed\n                              ", '"\n                        title="', '"\n                        href="', '">\n                        ', "\n                    </a>\n                    \n                    \n                    ", "\n                        ", "\n\n\n", "\n\n\n\n\n\n\n\n\n    \n    ", "\n\n    \n    ", "\n    \n    \n    ", "\n\n    ", ".5", "\n    ", "\n        ", "5", "   \n        ", "\n\n    \n    \n    \n    ", "\n         ", '\n         <div class="china_stars_categories">\n            ', '\n                \n                <span class="china_stars_categories_title">', "</span>\n            ", "\n\n            \n            ", "sprite/ratings_circles_", "_half", '\n            \n            <i class="\n                bk-icon-wrapper\n                zhcn-ratings\n                ', "jq_tooltip ratings_stars_tooltip", '\n                "\n                title="', '"\n            >', "</i>\n\n        </div>\n\n    \n    \n    \n    ", "/5", "\n\n        \n        ", '\n        \n        <i class="\n            bk-icon-wrapper\n            ', '\n            "\n            title="', '"\n            ', '\n                data-toponly="true"\n            ', "\n        >", '\n            <span class="invisible_spoken">', "</span>", "\n        </i>\n\n        \n        \n        \n\n\n        ", "\n\n            ", '\n            \n            <i class="\n                bk-icon-wrapper\n                ', '\n                "\n                ', '\n                    title="', '"\n                ', '\n                    rel="300"\n                    data-toponly="true"\n                ', "\n                >", '\n                <span class="invisible_spoken">', "\n            </i>\n\n    \n    \n    \n    \n    ", "\n            \n            ", "sprite/ratings_stars_", '\n        \n        <i\n            class="\n                bk-icon-wrapper\n                bk-icon-stars\n                ', "\n                star_track", '\n                "\n            ', '\n                title="', '\n                rel="300"\n                data-toponly="true"\n            ', "</i>\n    ", "\n", "\n\n", "\n                    ", "\n                    \n                </div>\n\n                \n                \n                ", '\n                    <div class="lists-hotel-block-row">\n                        <div class="listview-hotel-address lists-hotel-text-row">', '<img class="listview-hotel-address__flag" src="', '" alt="', '"> ', ", ", " ", "</div>\n                    </div>\n                ", "\n                \n                ", '\n                    <div class="lists-hotel-distance">\n                        <i class="bicon-map-pin lists-hotel-distance__icon"></i>\n                        <span class="lists-hotel-distance__copy">', "/private/cdm_hp_compare_distance_from_centre/name", "</span>\n                    </div>\n                ", '\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-reviews-container">\n                \n                \n                ', "\n\n\n\n", "\n\n\n\n\n\n\n", '\n	<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n', "\n	", "", "none", "auto", "num_reviews_sr_page", "\n  ", "   ", "        ", "             ", "    ", "     ", "         ", "      ", "  ", "/private/review_adj_superb/name", "\n\n	", "\n	\n	", "\n		", "review-score-widget__", "review-score-widget__score-only ", "review-score-widget__12 ", "review-score-widget__14 ", "review-score-widget__20 ", "review-score-widget__24 ", " review-score-widget ", " review-score-widget__no-subtext", " review-score-widget__flipped", 'id="', '"', "\n\n\n\n\n\n\n\n\n", "\n		<", 'a href="', ' target="', "span", ' class="review-score-widget__text" role="link" aria-label="', "/private/a11y_adjective_rating/name", '">\n			', "\n		</", "a", ">\n	", "span\n        ", ' class="review-score-widget__subtext" role="link" aria-label="', "/private/acc_sr_review_score_rated_with_score_end/name", '"\n        ', '\n            data-et-view="', ':2"\n        ', "\n        >\n        \n        ", "/private/ugcc_sr_num_plus_reviews/name", "50", "\n\n\n\n\n", "\n\n	\n	\n	\n\n	\n\n	<span\n		", '\n		class="', " review-score-widget__debug", '"\n			', "\n				", "\n			", '\n				data-et-view="', "\n	>\n		", "\n			\n		", "\n\n		", "\n\n		\n		", "\n\n			", "\n				\n				", "\n	<", ' class="review-score-badge" role="link" aria-label="', "/private/a11y_rating_score_for_screenreader/name", '">\n		', "\n	</", ">\n", "\n					\n					", "\n					", '\n						<span class="review-score-widget__body">\n							', "\n							", "\n						</span>\n					", '\n					<span class="review-score-widget__body">\n						', "\n						", "\n					</span>\n				", "\n	</span>\n\n	\n	\n\n", "\n\n\n\n\n\n\n\n\n\n", "\n	\n	\n", "lists-hotel-main-review", '\n        <div class="lists-hotel-location-review">\n            ', "/private/cdm_hp_info_just_location/name", "\n            \n            \n            \n            \n            \n            \n            \n        </div>\n    ", "	\n	", '\n	\n\n	<div class="lists-hotel-reviews-container__empty">\n		<span class="review-score-badge review-score-badge__text-new">', "/private/hp_comp_component_just_added/name", "</span>\n		\n		", '\n			<p class="reviews-container__empty--msg">\n				', "/private/hp_comp_component_recently_joined/name", '\n					<span class="jq_tooltip" rel="300" data-title="', '">\n						<i class="icon bicon-infocircleoutline"></i>\n					</span>\n				', "\n			</p>\n		", "\n	</div>\n", "\n\n                    ", '\n                        <div class="lists-hotel-location-review">\n                            ', "\n                            \n                            \n                            \n                            \n                            \n                            \n                            \n                        </div>\n                    ", '\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-facilities-container">\n                <div class="lists-hotel-facilities-header lists-hotel-block-row">\n                    ', "/private/cdm_hp_compare_facilities/name", "\n                </div>\n                <div>\n                    \n                    \n                    ", "0", "\n                    \n                    ", "\n                            ", '\n    <span class="lists-hotel-facility-badge__wrapper">\n        <span class="lists-hotel-facility-badge__title jq_tooltip ', '"\n            title="', '">\n            <span class="lists-hotel-facility-badge__vicon-wrapper">\n                <i class="', '"></i>\n            </span>\n        </span>\n    </span>\n', '\n                        <span class="lists-hotel-facilities__empty">', "/private/hp_comp_component_facilities_not_avail/name", "</span>\n                    ", '\n                </div>\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-price-block">\n                ', '\n                        <div class="lists-hotel-block-row">\n                            <div class="lists-hotel-price-block__dates lists-hotel-text-row">\n                                <span>', "</span>&nbsp;&mdash;&nbsp;<span>", '</span>\n                            </div>\n                        </div>\n                        <div class="lists-hotel-block-row">\n                            <div class="lists-hotel-price-block__nights lists-hotel-text-row">\n                                ', "/private/cdm_hp_compare_price_for_x_nights/name", '\n                            </div>\n                        </div>\n                        <div class="lists-hotel-price-block__price">\n                            ', "\n                        </div>\n                    ", '\n                        <div class="lists-hotel-price-block__not_available_msg">\n                            ', "/private/sr_last_room_reserved/name", "\n                \n", "only_x_rooms_left", "only_x_rooms_left_for_price_generalised", "hp_rooms_table_only_x_left_without_price", "only_x_left_bdot_singleroom_tooltip_2", "scarcity_sell_out_property_hours", "scarcity_sell_out_property_days", "scarcity_sell_out_property_weeks", "scarcity_sell_out_soon_hours", "scarcity_sell_out_soon_days", "carcity_sell_out_soon_week", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_hour", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_day", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_week", "sr_sold_out_message", "\n          ", "\n            <span\n                ", "\n                    data-component=\"tooltip\"\n                    data-tooltip-width='240' \n                    data-tooltip-text='", "' \n                    class='last_room_bp_policy_warning'\n                ", "\n                    rel='240' \n                    title='", "' \n                    class='jq_tooltip last_room_bp_policy_warning'\n                ", "\n            >\n                ", "\n            </span>\n        ", "\n            <div \n                ", '\n                    data-component="tooltip"\n                    data-tooltip-width=\'400\' \n                    data-tooltip-text="', "/private/hp_rt_sold_for_x_tooltip/name", '" \n                ', '\n                    class="jq_tooltip" \n                    data-title="', '" \n                    rel="400"\n                ', "\n            >", "/private/hp_rt_sold_for_x/name", "</div>\n        ", "/private/rooms_table_missed_time_price_few_days/name", "/private/rooms_table_missed_time_price_2_3_days/name", "/private/rooms_table_missed_time_price_yesterday/name", "/private/rooms_table_missed_time_price_today/name", "\n                    <div \n                        ", '\n                            data-component="tooltip"\n                            data-tooltip-width=\'400\' \n                            data-tooltip-text="', '" \n                        ', '\n                            class="jq_tooltip" \n                            data-title="', '" \n                            rel="400"\n                        ', "\n                    >", "/private/rooms_table_missed_time_price_few_days_beds/name", "/private/rooms_table_missed_time_price_2_3_days_beds/name", "/private/rooms_table_missed_time_price_yesterday_beds/name", "/private/rooms_table_missed_time_price_today_beds/name", "\n                <div \n                    ", '\n                        data-component="tooltip"\n                        data-tooltip-width=\'400\' \n                        data-tooltip-text="', '" \n                    ', '\n                        class="jq_tooltip" \n                        data-title="', '" \n                        rel="400"\n                    ', "/private/m_hp_rt_sold_for_x/name", "/private/rooms_table_missed_time_price_few_days_studio/name", "/private/rooms_table_missed_time_price_2_3_days_studio/name", "/private/rooms_table_missed_time_price_yesterday_studio/name", "/private/rooms_table_missed_time_price_today_studio/name", "/private/hp_rt_missed_it_sold_out/name", "</div>", "clear_urgency_only_x_rooms_left", "clear_urgency_sold_out_only_x_num_left_higher_prices_available", "clear_urgency_hp_rooms_table_only_x_left_without_price", "clear_urgency_only_x_left_singleroom_tooltip", "clear_urgency_scarcity_sell_out_property_hours", "clear_urgency_scarcity_sell_out_property_days", "clear_urgency_scarcity_sell_out_property_weeks", "clear_urgency_scarcity_sell_out_soon_hours", "clear_urgency_scarcity_sell_out_soon_days", "clear_urgency_scarcity_sell_out_soon_week", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_hour", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_day", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_week", "clear_urgency_sr_sold_out_message", "/private/validate_cc1_unavailable/name", "/private/hp_rt_sold_for_x_legal/name", "\n                </div>\n            ", "</div>\n                ", "/private/hp_rt_missed_it_sold_out_legal/name", "</div>\n            ", "/private/m_hp_rt_sold_for_x_legal/name", "sold_out", '\n                    <div class="lists-hotel-price-block__no-dates">\n                        ', "/private/cdm_hp_compare_continue_search_no_dates/name", "\n                    </div>\n                ", '\n\n                <div class="lists-hotel-price-block__button-container">\n                    ', '\n                        <a href="', '"\n                            class="b-button b-button_primary js-lists-book-current lists-hotel-price-block__button">\n                            <span class="b-button__text">\n                                ', "/private/cdm_hp_compare_reserve_cta/name", "\n                            </span>\n                        </a>\n                    ", '"\n                            class="b-button b-button_secondary lists-hotel-price-block__button js-lists-book-viewed lists-hotel-price-block__button--viewed">\n                            ', "/private/cdm_hp_compare_view_property/name", "\n                        </a>\n                    ", '\n                </div>\n            </div>\n        </div>\n\n        <span class="js-lists-remove-hotel lists-remove-hotel">\n            <i class="bicon bicon-btnclose"></i>\n        </span>\n    </div>\n', '\n    </div>\n\n    <div class="lists-viewed-hotels-outer">\n        <div class="lists-scroll-btn lists-scroll-btn--left"></div>\n        <div class="lists-scroll-plank lists-scroll-plank--left"></div>\n        <div class="lists-viewed-hotels">\n            ', '\n    <div class="lists-hotel lists-hotel--explanation-card">\n        <div class="lists-hotel-explanation-message">\n            ', "/private/cdm_hp_compare_keep_browsing/name", "\n        </div>\n\n        \n    </div>\n", '\n            <div class="lists-viewed-hotels__empty-block">&nbsp;</div>\n        </div>\n        <div class="lists-scroll-plank lists-scroll-plank--right"></div>\n        <div class="lists-scroll-btn lists-scroll-btn--right"></div>\n    </div>\n \n' ], n = [ "current_hotel", "b_ranked_as_best", "list_id", "id", "is_current", "absolute_url", "b_first_photo", "main_photo_270x200", "b_main_photos", "fe_mtv_class_adjust", "name", "cc1", "b_cc1", "b_countrycode", "b_common_cc1", "b_common_class_is_estimated", "ip_country", "b_locale", "fe_show_estimated_rating", "b_action", "fe_show_rating_tooltip", "decimal_halfstar", "rating_score", "b_common_class", "b_common_class_half", "b_common_rating_score_localized", "fe_small_stars", "fe_nostar_rating_stars", "b_lang", "rating_icon__path", "fe_custom_classes", "star_rating_dots_tooltip_zhcn", "fe_rating_symbols_height", "fe_china_estimated_rating", "fe_estimated_rating_tooltip_text", "fe_estimated_tooltip", "sr_unofficial_star_or_dot_rating_tooltip", "fe_style_rating_tooltip", "star_rating_text", "fe_exp_bh_quality_visual_test_vr_croatia", "sr_star_property", "b_accommodationtype_id", "star_rating_1_half", "star_rating_1", "star_rating_2_half", "star_rating_2", "star_rating_3_half", "star_rating_3", "star_rating_4_half", "star_rating_4", "star_rating_5", "sr_official_star_rating_tooltip", "b_common_stars_type", "loc_star_rating_color", "loc_star_rating_tracking", "hotel_class", "hotel_class_half", "hotel_class_is_estimated", "country", "city", "b_distance_formatted", "fe_mtv_property_name", "b_dev_server", "score", "dont_format_score", "fe_text", "text", "fe_subtext", "subtext", "fe_widget_subtext", "sample_size", "fe_formatted_sample_size", "align", "b_action_name_is_searchresults", "b_action_name_is_hotel", "b_is_desktop_site", "wrapper_tag_name", "fe_review_score_word_class_list", "fe_review_score", "custom_class", "review_adj_very_poor", "review_adj_poor", "review_adj_disappointing", "review_adj_average_passable", "review_adj_average_okay", "review_adj_pleasant", "low_score_adjectives", "fd_lp_header_rs", "review_adj_good", "review_adj_very_good", "review_adj_fabulous", "fe_review_score_word_copy", "review_adj_exceptional", "fe_widget_text", "prepend_text", "append_text", "fe_score", "prefix", "fe_score_word_name", "suffix", "fe_classname", "fe_widget_style", "style", "score_only", "fe_widget_layout", "layout", "fe_widget_align", "fe_widget_size", "size", "fe_badge_style", "fe_widget_class", "flip", "extra_classes", "fe_widget_id", "widget_id", "fe_rating", "fe_widget_text_element", "text_link_url", "text_link_target", "fe_rating_adj", "fe_widget_subtext_element", "subtext_link_url", "subtext_link_target", "review_score_widget", "b_site_type", "extra_attributes", "track_view", "prepend_html", "badge_link_url", "badge_link_target", "fe_formatted_score", "fe_is_alt_version", "append_html", "render", "hotel_review_nr", "hotel_review_score_non_localized", "location_review_score", "not_enough_text", "no_review_score_tab_02", "hotel_min_reviews", "mtv_property_name", "b_companyname", "fe_hotel_have_facilities", "b_hotel_facilities", "facility_class", "facility_title", "facility_icon", "availability", "num_nights", "b_av_type", "b_av_num_left", "b_av_accommodationtype_id", "b_av_sold_out_price", "sr_last_room_reserved", "b_type", "b_num_left", "b_sold_out_price", "b_av_message", "b_chain_requires_legal_copy", "b_guest_country", "b_bookings_owned", "b_partner_channel_id", "b_is_legal_exception_applied", "ap_completely_booked_property", "ap_completely_booked_fr", "b_ip_country", "ap_completely_booked", "b_hoteltype_id", "ap_completely_booked_apt", "hp_sold_out_new_3d", "sorry_last_available_room_booked_only_ellapsed_time_ago_apt", "sorry_last_available_room_booked_ellapsed_time_ago_apt", "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay", "villas_no_availability_message", "sorry_last_available_booked_ellapsed_time_ago", "sold_out", "available_on_dates_selected", "sr_low_avail_message_reserved", "sr_urgency_low_avail_message_availability_2", "fd_sold_out", "map_occupancy_disclaimer_1", "sr_gs_pinned_hotel_no_availability_num_rooms", "sbox_live_av_reserved_destination", "list_not_available", "book_from_list_no_dates", "likely_to_sell_out_soon", "/error/this_hotel_is_not_bookable/name", "/error/this_hotel_is_not_bookable_property/name", "validate_cc1_unavailable", "loc_row_legal_message_cant_book_from_your_country", "fe_cp_tooltip_unification_hotel_page", "last_room_generalised", "maps_sold_out_properties", "sr_sold_out_you_missed_it", "b_soldout_price_date", "b_sold_out_days_ago", "b_soldout_reservation_is_yesterday", "b_sold_out_today", "clear_urgency_sold_out_dates", "hp_rt_not_in_stock", "ext_preview_prop_message", "so_error_message_non_bookable_now", "b_is_temporary_closed", "clear_urgency_hp_no_availability_for_selected_dates", "clear_urgency_hp_sold_out_new_3d", "clear_urgency_sorry_last_available_room_booked_only_ellapsed_time_ago_apt", "clear_urgency_sorry_last_available_room_booked_ellapsed_time_ago_apt", "clear_urgency_sorry_hotel_has_no_rooms_available_your_stay", "clear_urgency_villas_no_availability_message", "clear_urgency_hp_last_available_elapsed_time", "clear_urgency_sold_out", "clear_urgency_available_on_dates_selected", "clear_urgency_sr_low_avail_message_reserved", "sr_urgency_low_avail_message_availability", "clear_urgency_fd_sold_out", "clear_urgency_map_occupancy_disclaimer_1", "clear_urgency_sbox_live_av_reserved_destination", "clear_urgency_list_not_available", "clear_urgency_book_from_list_no_dates", "clear_urgency_likely_to_sell_out_soon", "clear_urgncy_error_this_hotel_is_not_bookable", "clear_urgency_error_this_hotel_is_not_bookable_property", "maps_sold_out_properties_legal", "clear_urgency_sold_out_oos_dates", "hp_rt_not_in_stock_legal", "b_legal_override_for_av_messages", "book_now_url", "viewed_hotels" ];
return _r_(function(o) {
_i_("269:8535d85c");
var r = "", _ = this.fn;
function a(e) {
return _i_("269:a1a589d8"), _.MJ(_.MC(n[19]) + "" == "searchresults") ? (e += i[10], _.MN("b_is_legal_exception_applied", (_.MC(n[158]) || _.MJ(/nl|gb|fr|de|es|no/.test(_.MC(n[159]))) || _.MJ(/ie|nl|pl|gr|gb|dk|fr|it|se|de|ch/.test(_.MC(n[13])))) && (_.MC(n[160]) || _.MJ(2 == _.MC(n[161])))), e += i[221]) :_.MK(_.MC(n[162])) && (e += i[40], _.MN("b_is_legal_exception_applied", (_.MJ(/nl|gb|fr|de|es|no/.test(_.MC(n[159]))) || _.MJ(/ie|nl|pl|gr|gb|dk|fr|it|se|de|ch/.test(_.MC(n[13])))) && (_.MC(n[160]) || _.MJ(2 == _.MC(n[161])))), e += i[83]), e += i[83], _r_(e);
}
function s(e) {
return _i_("269:741d264d"), _.MN("fe_rating", _.MI(_.MB(n[63])) + _.MI(0)), e += i[33], _.MN("fe_rating_adj", ""), e += i[83], _.MJ(_.MB(n[115]) >= 0) && _.MJ(_.MB(n[115]) < 3) && (e += i[102], _.MN("fe_rating_adj", "1"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 3) && _.MJ(_.MB(n[115]) < 4) && (e += i[102], _.MN("fe_rating_adj", "2"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 4) && _.MJ(_.MB(n[115]) < 5) && (e += i[102], _.MN("fe_rating_adj", "3"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 5) && _.MJ(_.MB(n[115]) < 5.6) && (e += i[102], _.MN("fe_rating_adj", "4"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 5.6) && _.MJ(_.MB(n[115]) < 6) && (e += i[102], _.MN("fe_rating_adj", "5"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 6) && _.MJ(_.MB(n[115]) < 7) && (e += i[102], _.MN("fe_rating_adj", "6"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 7) && _.MJ(_.MB(n[115]) < 8) && (e += i[102], _.MN("fe_rating_adj", "7"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 8) && _.MJ(_.MB(n[115]) < 8.6) && (e += i[102], _.MN("fe_rating_adj", "8"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 8.6) && _.MJ(_.MB(n[115]) < 9) && (e += i[102], _.MN("fe_rating_adj", "9"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 9) && _.MJ(_.MB(n[115]) < 9.5) && (e += i[102], _.MN("fe_rating_adj", "10"), e += i[83]), e += i[84], _.MJ(_.MB(n[115]) >= 9.5) && (e += i[102], _.MN("fe_rating_adj", "11"), e += i[83]), _r_(e);
}
function l(e) {
_i_("269:44e4fab8"), e += i[100], _.MJ(_.MC(n[62])) && _.MJ(/,/.test(_.MB(n[63]))) && (e += i[101]), e += i[33], _.MJ(_.MB(n[64])) || _.MJ(/,/.test(_.MB(n[63]))) ? (e += i[102], _.MN("fe_formatted_score", _.MB(n[63])), e += i[83]) :(e += i[102], _.MN("fe_formatted_score", _.format_review_score_plain(_.MI(0) + _.MI(_.MB(n[63])))), e += i[83]), e += i[84];
var r = "";
r += i[103], r += _.MJ(_.MB(n[66])) ? _.MB(n[66]) :i[104], r += i[103], _.MN(n[65], r), e += i[84];
var r = "";
r += i[103], _.MJ(_.MB(n[68])) ? (r += i[103], r += _.MJ(_.MB(n[68]) + "" != "none") && _.MJ(_.MB(n[65]) + "" == "none") ? i[105] :[ i[103], _.MB(n[68]), i[103] ].join(""), r += i[103]) :r += i[104], r += i[103], _.MN(n[67], r), e += i[33];
var r = "";
r += i[103], (_.MJ(_.MB(n[68])) && _.MJ(_.MB(n[68]) + "" == "auto") || _.MK(_.MB(n[68]))) && _.MJ(_.MB(n[70])) ? (r += i[103], _.MN("fe_formatted_sample_size", _.format_number(_.MB(n[70]))), r += [ i[103], (o.unshift({
num_reviews:_.MB(n[71])
}), t = _.VP(i[106], _.MO(_.MI(_.MC(n[70])) + _.MI(0), null, i[106])), o.shift(), t), i[103] ].join("")) :_.MJ(_.MB(n[68]) + "" != "none") && _.MJ(_.MB(n[68]) + "" != "auto") && (r += [ i[103], _.MB(n[68]), i[103] ].join("")), r += i[103], _.MN(n[69], r), e += i[33], _.MN("fe_is_alt_version", _.MJ(_.MB(n[72]) + "" == "right")), e += i[99], _.MJ(_.MC(n[75])) && (e += i[39], _.MJ(_.track_experiment("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe")), e += i[37], (_.MJ(_.MC(n[73])) || _.MJ(_.MC(n[74]))) && _.MJ(_.MB(n[70]) > 50) && _.MJ(_.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 1)), e += i[37], _.MJ(_.MC(n[73])) && _.MJ(_.MB(n[70]) > 50) && _.MJ(_.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 2)), e += i[37], _.MJ(_.MC(n[74])) && _.MJ(_.MB(n[70]) > 50) && _.MJ(_.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 3)), e += i[83]), e += i[33], o.unshift({
low_score_adjectives:_.MB(n[86]),
score:_.MI(0) + _.MI(_.MB(n[63]))
}), e = p(e), o.shift(), e += i[84];
var r = "";
r += i[103], _.MJ(_.MB(n[66])) && _.MJ(_.MB(n[66]) + "" == "auto") || (_.MK(_.MB(n[66])) || _.MJ(_.MB(n[66]) + "" == "none")) && _.MJ(_.MB(n[69]) + "" != "") ? r += [ i[103], _.MB(n[91]), i[103] ].join("") :_.MJ(_.MB(n[66])) && _.MJ(_.MB(n[66]) + "" != "none") && (r += [ i[103], _.MB(n[66]), i[103] ].join("")), r += i[103], _.MN(n[93], r), e += i[84], _.MD(n[93]) && (e += i[102], _.MN("fe_widget_text", _.MB(n[94]) + "" + _.MB(n[93]) + _.MB(n[95])), e += i[83]), e += i[33], _.MN("score_only", _.MJ(_.MB(n[93]) + "" == "") && _.MJ(_.MB(n[69]) + "" == "")), e += i[100], o.unshift({
prefix:i[120],
score:_.MI(0) + _.MI(_.MB(n[63]))
}), e = b(e), o.shift(), e += i[83], _.MN("fe_widget_class", _.MB(n[100])), e += i[84], _.MJ(_.MB(n[63]) < 2.5) && (e += i[102], _.MN("fe_widget_class", "review-score-widget__empty"), e += i[83]), e += i[99];
var r = "";
_.MD(n[102]) && (r += [ i[120], _.MB(n[102]), i[92] ].join("")), _.MD(n[103]) && (r += i[121]), _.MN(n[101], r), e += i[99];
var r = "";
_.MJ(_.MB(n[105])) && _.MK(_.MB(n[103])) && (r += [ i[120], _.MB(n[105]), i[92] ].join("")), _.MN(n[104], r), e += i[99];
var r = "";
_.MJ(_.MB(n[72]) + "" == "right") && _.MK(_.MB(n[103])) && (r += [ i[120], _.MB(n[72]), i[92] ].join("")), _.MN(n[106], r), e += i[99];
var r = "";
_.MJ(_.MB(n[108]) + "" == "smaller") ? r += i[122] :_.MJ(_.MB(n[108]) + "" == "small") ? r += i[123] :_.MJ(_.MB(n[108]) + "" == "large") ? r += i[124] :_.MJ(_.MB(n[108]) + "" == "larger") && (r += i[125]), _.MN(n[107], r), e += i[33];
var r = "";
(_.MJ(_.MB(n[102]) + "" == "outlined") || _.MJ(_.MB(n[102]) + "" == "text-only")) && (r += [ _.MB(n[102]), i[92] ].join("")), _.MN(n[109], r), e += i[33];
var r = "";
r += [ i[126], _.MB(n[110]), i[92], _.MB(n[101]), i[92], _.MB(n[104]), i[92], _.MB(n[106]), i[92], _.MB(n[107]), i[92] ].join(""), _.MK(_.MB(n[69])) && (r += i[127]), r += i[92], _.MD(n[111]) && (r += i[128]), r += i[92], _.MD(n[112]) && (r += [ i[92], _.MB(n[112]) ].join("")), r += i[92], _.MN(n[110], r), e += i[33];
var r = "";
_.MD(n[114]) && (r += [ i[129], _.MB(n[114]), i[130] ].join("")), _.MN(n[113], r), e += i[131], e = s(e), e += i[84], e += i[84];
var r = "";
r += i[102], _.MD(n[93]) && (r += i[132], _.MD(n[117]) ? (r += [ i[133], _.MB(n[117]), i[130] ].join(""), _.MD(n[118]) && (r += [ i[134], _.MB(n[118]), i[130] ].join(""))) :r += i[135], r += [ i[136], (o.unshift({
rating_adjective:_.MB(n[119])
}), t = _.ME(i[137], _.MB, _.MN, null), o.shift(), t), i[138], _.MB(n[93]), i[139] ].join(""), r += _.MD(n[117]) ? i[140] :i[135], r += i[141]), r += i[83], _.MN(n[116], r), e += i[84];
var r = "";
r += i[102], _.MD(n[69]) && (r += i[132], _.MD(n[121]) ? (r += [ i[133], _.MB(n[121]), i[130] ].join(""), _.MD(n[122]) && (r += [ i[134], _.MB(n[122]), i[130] ].join(""))) :r += i[142], r += [ i[143], (o.unshift({
num_reviews:_.MB(n[71])
}), t = _.ME(i[144], _.MB, _.MN, null), o.shift(), t), i[145] ].join(""), _.MJ(_.MC(n[75])) && _.MJ(_.MC(n[73])) && (r += [ i[146], _.F.entities("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe"), i[147] ].join("")), r += i[148], r += _.MJ(_.MC(n[75])) && _.MJ(_.track_experiment("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe")) && _.MJ(_.MB(n[70]) > 50) ? [ i[1], (o.unshift({
num_reviews:i[150]
}), t = _.ME(i[149], _.MB, _.MN, null), o.shift(), t), i[40] ].join("") :[ i[1], _.F.entities(_.MB(n[69])), i[40] ].join(""), r += i[139], r += _.MD(n[121]) ? i[140] :i[135], r += i[141]), r += i[83], _.MN(n[120], r), e += i[151];
var r = "";
return r += [ i[152], _.MB(n[113]), i[153] ].join(""), r += _.MB(n[110]), _.MJ(_.MC(n[62])) && _.MJ(_.MC(n[124]) + "" == "www") && _.MJ(!1) && (r += i[154]), r += i[155], _.MD(n[125]) && (r += [ i[156], _.MB(n[125]), i[157] ].join("")), r += i[157], _.MD(n[126]) && (r += [ i[158], _.MC(n[126]), i[155] ].join("")), r += i[159], _.MJ(_.MB(n[63]) < 2.5) ? r += i[160] :(r += i[161], _.MD(n[127]) && (r += [ i[157], _.MB(n[127]), i[119] ].join("")), r += i[162], _.MD(n[131]) ? (r += i[163], _.MJ(_.MB(n[105]) + "" == "inline") ? (r += [ i[164], _.MB(n[120]), i[156], _.MB(n[116]), i[156] ].join(""), r = d(r), r += i[157]) :(r += i[156], _.MJ(_.MB(n[102]) + "" == "text-only") ? (r += [ i[171], _.MB(n[116]), i[172] ].join(""), r = c(r), r += [ i[172], _.MB(n[120]), i[156] ].join("")) :(r += i[171], (_.MJ(_.MB(n[93])) || _.MJ(_.MB(n[69]))) && (r += [ i[173], _.MB(n[116]), i[174], _.MB(n[120]), i[175] ].join("")), r += i[172], r = c(r), r += i[156]), r += i[157]), r += i[161]) :(r += i[163], _.MJ(_.MB(n[102]) + "" == "text-only") || _.MJ(_.MB(n[105]) + "" == "inline") ? (r += i[164], r = d(r), r += [ i[156], _.MB(n[116]), i[156], _.MB(n[120]), i[157] ].join("")) :(r += i[164], r = d(r), r += i[156], (_.MJ(_.MB(n[93])) || _.MJ(_.MB(n[69]))) && (r += [ i[176], _.MB(n[116]), i[177], _.MB(n[120]), i[178] ].join("")), r += i[157]), r += i[161]), r += i[161], _.MD(n[132]) && (r += [ i[157], _.MB(n[132]), i[119] ].join("")), r += i[161]), r += i[179], _.MN(n[123], r), e += i[180], _.MN(n[66], void 0), e += i[83], _.MN(n[68], void 0), e += i[83], _.MN(n[63], void 0), e += i[83], _.MN(n[70], void 0), e += i[83], _.MN(n[133], void 0), e += i[83], _.MN(n[112], void 0), e += i[83], _.MN(n[125], void 0), e += i[83], _.MN(n[108], void 0), e += i[83], _.MN(n[102], void 0), e += i[83], _.MN(n[105], void 0), e += i[83], _.MN(n[72], void 0), e += i[83], _.MN(n[86], void 0), e += i[83], _.MN(n[114], void 0), e += i[151], e += _.MJ(_.MB(n[133]) + "" == "no") ? i[181] :[ i[118], _.MB(n[123]), i[83] ].join(""), e += i[83], _r_(e);
}
function c(e) {
return _i_("269:647d0093"), e += i[165], _.MD(n[128]) ? (e += [ i[133], _.MB(n[128]), i[130] ].join(""), _.MD(n[129]) && (e += [ i[134], _.MB(n[129]), i[130] ].join(""))) :e += i[135], e += [ i[166], (o.unshift({
review_score_number:_.MB(n[130])
}), t = _.ME(i[167], _.MB, _.MN, null), o.shift(), t), i[168], _.MB(n[130]), i[169] ].join(""), e += _.MD(n[128]) ? i[140] :i[135], e += i[170], _r_(e);
}
function d(e) {
return _i_("269:a679040b"), e += i[165], _.MD(n[128]) ? (e += [ i[133], _.MB(n[128]), i[130] ].join(""), _.MD(n[129]) && (e += [ i[134], _.MB(n[129]), i[130] ].join(""))) :e += i[135], e += [ i[166], (o.unshift({
review_score_number:_.MB(n[130])
}), t = _.ME(i[167], _.MB, _.MN, null), o.shift(), t), i[168], _.MB(n[130]), i[169] ].join(""), e += _.MD(n[128]) ? i[140] :i[135], e += i[170], _r_(e);
}
function h(e) {
_i_("269:462ff5d6"), e += i[2], _.MD(n[1]) && (e += i[3]), e += [ i[4], _.MC(n[2]), i[5], _.MC(n[3]), i[6] ].join(""), _.MJ(_.MB(n[4])) && _.MK(_.MC(n[1])) && (e += [ i[7], _.ME(i[8], _.MB, _.MN, null), i[9] ].join("")), e += i[10], _.MD(n[1]) && (e += [ i[11], _.ME(i[12], _.MB, _.MN, null), i[13], _.ME(i[14], _.MB, _.MN, null), i[15] ].join("")), e += [ i[16], _.MC(n[5]), i[17], _.STATIC_HOSTNAME(_.MC(n[6]) ? _.MC(n[6]).b_photo_url :_.MB(n[7]), 0, 0, 0), i[18] ].join(""), _.MD(n[8]) && (e += [ i[19], _.MC(n[8]).length, i[20] ].join("")), e += i[21], _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[22], _.MN(n[9], i[23]), e += i[1]), e += [ i[24], _.MC(n[9]), i[25] ].join(""), e += _.MD(n[4]) ? i[26] :i[27], e += [ i[28], _.F.text2entities(_.MB(n[10])), i[29], _.MC(n[5]), i[30], _.F.text2entities(_.MB(n[10])), i[31] ].join(""), _.MJ(_.MC(n[13])) && _.MJ(_.MB(n[55])) && _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[32], o.unshift({
b_common_cc1:_.MC(n[13]),
b_common_class:_.MB(n[55]),
b_common_class_half:_.MB(n[56]),
b_common_class_is_estimated:_.MB(n[57])
}), e = g(e), o.shift(), e += i[85]), e += i[86], _.MK(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[87], e += [ i[88], _.STATIC_HOSTNAME("/static/img/flags/16/" + _.MB(n[11]) + ".png", 0, 0, 0), i[89], _.MC(n[58]), i[90], _.MC(n[59]), i[91], _.MC(n[58]), i[92] ].join(""), e += i[93]), e += i[94], _.MD(n[60]) && (e += [ i[95], (o.unshift({
distanceInKm:_.MC(n[60])
}), t = _.ME(i[96], _.MB, _.MN, null), o.shift(), t), i[97] ].join("")), e += i[98], _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) ? (e += i[85], _.MN(n[61], _.F.text2entities(_.MB(n[10]))), e += i[85], o.unshift({
mtv_property_name:_.MB(n[61])
}), e = v(e), o.shift(), e += i[22]) :(e += i[85], _.MJ(_.MB(n[135]) > 0) && (e += i[32], o.unshift({
extra_classes:i[182],
sample_size:_.MB(n[134]),
score:_.MB(n[135])
}), e = l(e), o.shift(), e += i[85]), e += i[196], _.MJ(_.MB(n[136]) > 0) && (e += [ i[197], _.ME(i[184], _.MB, _.MN, null), i[92], _.MC(n[136]), i[198] ].join("")), e += i[22]), e += [ i[199], _.ME(i[200], _.MB, _.MN, null), i[201] ].join(""), _.MN(n[142], i[202]), e += i[203];
var r = _.MC(n[143]) || [];
o.unshift({
item:null
});
for (var a, s = 1, c = r.length; c >= s; s++) o[0].item = a = r[s - 1], e += i[32], _.MJ(_.MG((a || {}).available)) && (e += i[204], o.unshift({
facility_icon:_.MG((a || {}).icon),
facility_title:_.MG((a || {}).name_translated)
}), e = y(e), o.shift(), e += i[32], _.MN("fe_hotel_have_facilities", 1), e += i[32]), e += i[85];
return o.shift(), e += i[85], _.MK(_.MB(n[142])) && _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += [ i[209], _.ME(i[210], _.MB, _.MN, null), i[211] ].join("")), e += i[212], _.MJ(_.defined(_.MB(n[147]))) ? (e += i[85], _.MJ(_.MG((_.MC(n[147]) || {}).is_available)) ? e += [ i[213], _.MG((_.MC(n[147]) || {}).checkin_localized_date_short), i[214], _.MG((_.MC(n[147]) || {}).checkout_localized_date_short), i[215], (o.unshift({
num_nights:_.MG((_.MC(n[147]) || {}).nights)
}), t = _.ME(i[216], _.MB, _.MN, _.MO(_.MC(n[148]), null, i[216])), o.shift(), t), i[217], (_.MC(n[147]) || {}).price_pretty, i[218] ].join("") :(e += i[219], o.unshift({
b_type:i[300]
}), e = M(e), o.shift(), e += i[218]), e += i[22]) :e += [ i[301], _.ME(i[302], _.MB, _.MN, null), i[303] ].join(""), e += i[304], e += _.MD(n[4]) ? [ i[305], _.MC(n[226]), i[306], _.ME(i[307], _.MB, _.MN, null), i[308] ].join("") :[ i[305], _.MC(n[226]), i[309], _.ME(i[310], _.MB, _.MN, null), i[311] ].join(""), e += i[312], _r_(e);
}
function u(e) {
_i_("269:2bcc2c2d"), e += i[2], _.MD(n[1]) && (e += i[3]), e += [ i[4], _.MC(n[2]), i[5], _.MC(n[3]), i[6] ].join(""), _.MJ(_.MB(n[4])) && _.MK(_.MC(n[1])) && (e += [ i[7], _.ME(i[8], _.MB, _.MN, null), i[9] ].join("")), e += i[10], _.MD(n[1]) && (e += [ i[11], _.ME(i[12], _.MB, _.MN, null), i[13], _.ME(i[14], _.MB, _.MN, null), i[15] ].join("")), e += [ i[16], _.MC(n[5]), i[17], _.STATIC_HOSTNAME(_.MC(n[6]) ? _.MC(n[6]).b_photo_url :_.MB(n[7]), 0, 0, 0), i[18] ].join(""), _.MD(n[8]) && (e += [ i[19], _.MC(n[8]).length, i[20] ].join("")), e += i[21], _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[22], _.MN(n[9], i[23]), e += i[1]), e += [ i[24], _.MC(n[9]), i[25] ].join(""), e += _.MD(n[4]) ? i[26] :i[27], e += [ i[28], _.F.text2entities(_.MB(n[10])), i[29], _.MC(n[5]), i[30], _.F.text2entities(_.MB(n[10])), i[31] ].join(""), _.MJ(_.MC(n[13])) && _.MJ(_.MB(n[55])) && _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[32], o.unshift({
b_common_cc1:_.MC(n[13]),
b_common_class:_.MB(n[55]),
b_common_class_half:_.MB(n[56]),
b_common_class_is_estimated:_.MB(n[57])
}), e = g(e), o.shift(), e += i[85]), e += i[86], _.MK(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += i[87], e += [ i[88], _.STATIC_HOSTNAME("/static/img/flags/16/" + _.MB(n[11]) + ".png", 0, 0, 0), i[89], _.MC(n[58]), i[90], _.MC(n[59]), i[91], _.MC(n[58]), i[92] ].join(""), e += i[93]), e += i[94], _.MD(n[60]) && (e += [ i[95], (o.unshift({
distanceInKm:_.MC(n[60])
}), t = _.ME(i[96], _.MB, _.MN, null), o.shift(), t), i[97] ].join("")), e += i[98], _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) ? (e += i[85], _.MN(n[61], _.F.text2entities(_.MB(n[10]))), e += i[85], o.unshift({
mtv_property_name:_.MB(n[61])
}), e = v(e), o.shift(), e += i[22]) :(e += i[85], _.MJ(_.MB(n[135]) > 0) && (e += i[32], o.unshift({
extra_classes:i[182],
sample_size:_.MB(n[134]),
score:_.MB(n[135])
}), e = l(e), o.shift(), e += i[85]), e += i[196], _.MJ(_.MB(n[136]) > 0) && (e += [ i[197], _.ME(i[184], _.MB, _.MN, null), i[92], _.MC(n[136]), i[198] ].join("")), e += i[22]), e += [ i[199], _.ME(i[200], _.MB, _.MN, null), i[201] ].join(""), _.MN(n[142], i[202]), e += i[203];
var r = u, a = d, s = f, c = h, d = _.MC(n[143]) || [];
o.unshift({
item:null
});
for (var h, u = 1, f = d.length; f >= u; u++) o[0].item = h = d[u - 1], e += i[32], _.MJ(_.MG((h || {}).available)) && (e += i[204], o.unshift({
facility_icon:_.MG((h || {}).icon),
facility_title:_.MG((h || {}).name_translated)
}), e = y(e), o.shift(), e += i[32], _.MN("fe_hotel_have_facilities", 1), e += i[32]), e += i[85];
return o.shift(), u = r, d = a, f = s, h = c, e += i[85], _.MK(_.MB(n[142])) && _.MJ(_.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (e += [ i[209], _.ME(i[210], _.MB, _.MN, null), i[211] ].join("")), e += i[212], _.MJ(_.defined(_.MB(n[147]))) ? (e += i[85], _.MJ(_.MG((_.MC(n[147]) || {}).is_available)) ? e += [ i[213], _.MG((_.MC(n[147]) || {}).checkin_localized_date_short), i[214], _.MG((_.MC(n[147]) || {}).checkout_localized_date_short), i[215], (o.unshift({
num_nights:_.MG((_.MC(n[147]) || {}).nights)
}), t = _.ME(i[216], _.MB, _.MN, _.MO(_.MC(n[148]), null, i[216])), o.shift(), t), i[217], (_.MC(n[147]) || {}).price_pretty, i[218] ].join("") :(e += i[219], o.unshift({
b_type:i[300]
}), e = M(e), o.shift(), e += i[218]), e += i[22]) :e += [ i[301], _.ME(i[302], _.MB, _.MN, null), i[303] ].join(""), e += i[304], e += _.MD(n[4]) ? [ i[305], _.MC(n[226]), i[306], _.ME(i[307], _.MB, _.MN, null), i[308] ].join("") :[ i[305], _.MC(n[226]), i[309], _.ME(i[310], _.MB, _.MN, null), i[311] ].join(""), e += i[312], _r_(e);
}
function f(e) {
_i_("269:6a9baf53"), e += i[39];
var r = _.MC(n[149]);
if (_.MJ(r + "" == "completely_booked_property")) e += i[1], _.MN("b_av_message", _.MB(n[203])), e += i[40]; else if (_.MJ(r + "" == "completely_booked_header")) e += i[1], _.MN("b_av_message", _.MB(n[203])), e += i[40]; else if (_.MJ(r + "" == "hp_sold_out_new_3d")) e += i[1], _.MN("b_av_message", _.MB(n[204])), e += i[40]; else if (_.MJ(r + "" == "sorry_last_available_room_booked_only_ellapsed_time_ago_apt")) e += i[1], _.MN("b_av_message", _.MB(n[205])), e += i[40]; else if (_.MJ(r + "" == "sorry_last_available_room_booked_ellapsed_time_ago_apt")) e += i[1], _.MN("b_av_message", _.MB(n[206])), e += i[40]; else if (_.MJ(r + "" == "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay")) e += i[1], _.MN("b_av_message", _.MB(n[207])), e += i[40]; else if (_.MJ(r + "" == "villas_no_availability_message")) e += i[1], _.MN("b_av_message", _.MB(n[208])), e += i[40]; else if (_.MJ(r + "" == "sorry_last_available_booked_ellapsed_time_ago")) e += i[1], _.MN("b_av_message", _.MB(n[209])), e += i[40]; else if (_.MJ(r + "" == "sold_out")) e += i[1], _.MN("b_av_message", _.MB(n[210])), e += i[40]; else if (_.MJ(r + "" == "sold_out_uc")) e += i[1], _.MN("b_av_message", _.ucfirst(_.MB(n[210]))), e += i[40]; else if (_.MJ(r + "" == "sold_out_ucfirst")) e += i[1], _.MN("b_av_message", _.ucfirst(_.MB(n[210]))), e += i[40]; else if (_.MJ(r + "" == "only_x_rooms_left")) e += i[1], _.MN(n[157], (o.unshift({
amountRooms:_.MC(n[150])
}), t = _.VP(i[279], _.MO(_.MC(n[150]), null, i[279])), o.shift(), t)), e += i[40]; else if (_.MJ(r + "" == "only_x_rooms_left_for_price_generalised")) e += i[1], _.MN(n[157], (o.unshift({
amountRooms:_.MC(n[150])
}), t = _.VP(i[280], _.MO(_.MC(n[150]), null, i[280])), o.shift(), t)), e += i[40]; else if (_.MJ(r + "" == "hp_rooms_table_only_x_left_without_price")) e += i[1], _.MN(n[157], _.VP(i[281], _.MO(_.MC(n[150]), null, i[281]))), e += i[40]; else if (_.MJ(r + "" == "only_x_left_bdot_singleroom_tooltip")) e += i[1], _.MN(n[157], (o.unshift({
num_rooms:_.MC(n[150])
}), t = _.VP(i[282], _.MO(_.MC(n[150]), null, i[282])), o.shift(), t)), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_property_hours")) e += i[1], _.MN(n[157], _.VP(i[283], _.MO(_.MC(n[150]), null, i[283]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_property_days")) e += i[1], _.MN(n[157], _.VP(i[284], _.MO(_.MC(n[150]), null, i[284]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_property_weeks")) e += i[1], _.MN(n[157], _.VP(i[285], _.MO(_.MC(n[150]), null, i[285]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_hours")) e += i[1], _.MN(n[157], _.VP(i[286], _.MO(_.MC(n[150]), null, i[286]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_days")) e += i[1], _.MN(n[157], _.VP(i[287], _.MO(_.MC(n[150]), null, i[287]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_week")) e += i[1], _.MN(n[157], _.VP(i[288], _.MO(_.MC(n[150]), null, i[288]))), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_by_hour")) e += i[1], _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[22], _.MN(n[157], (o.unshift({
num_vp_sellout_hours:_.MC(n[150])
}), t = _.ME(i[289], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[289])), o.shift(), t)), e += i[1]), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_by_day")) e += i[1], _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[22], _.MN(n[157], (o.unshift({
num_vp_sellout_days:_.MC(n[150])
}), t = _.ME(i[290], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[290])), o.shift(), t)), e += i[1]), e += i[40]; else if (_.MJ(r + "" == "scarcity_sell_out_by_week")) e += i[1], _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[22], _.MN(n[157], (o.unshift({
num_vp_sellout_weeks:_.MC(n[150])
}), t = _.ME(i[291], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[291])), o.shift(), t)), e += i[1]), e += i[40]; else if (_.MJ(r + "" == "available_on_dates_selected")) e += i[1], _.MN("b_av_message", _.MB(n[211])), e += i[40]; else if (_.MJ(r + "" == "sr_low_avail_message_reserved")) e += i[1], _.MN("b_av_message", _.MB(n[212])), e += i[40]; else if (_.MJ(r + "" == "sr_low_avail_message_available")) e += i[1], _.MN("b_av_message", _.MB(n[213])), e += i[40]; else if (_.MJ(r + "" == "fd_sold_out")) e += i[1], _.MN("b_av_message", _.MB(n[214])), e += i[40]; else if (_.MJ(r + "" == "fd_sold_out_js")) e += i[1], _.MN(n[157], _.F.js(_.MB(n[214]))), e += i[40]; else if (_.MJ(r + "" == "map_occupancy_disclaimer_1")) e += i[1], _.MN("b_av_message", _.MB(n[215])), e += i[40]; else if (_.MJ(r + "" == "sr_sold_out_message")) e += i[1], _.MN(n[157], _.VP(i[292], _.MO(_.MC(n[150]), null, i[292]))), e += i[40]; else if (_.MJ(r + "" == "sr_pinned_hotel_no_room_occupancy")) e += i[1], _.MN(n[157], _.MB(n[181])), e += i[40]; else if (_.MJ(r + "" == "sbox_live_av_reserved_destination")) e += i[1], _.MN(n[157], _.MB(n[216])), e += i[40]; else if (_.MJ(r + "" == "list_not_available")) e += i[1], _.MN("b_av_message", _.MB(n[217])), e += i[40]; else if (_.MJ(r + "" == "df_sold_out_hotels_explain")) e += i[1], _.MN("b_av_message", _.MB(n[153])), e += i[40]; else if (_.MJ(r + "" == "book_from_list_no_dates")) e += i[1], _.MN("b_av_message", _.MB(n[218])), e += i[40]; else if (_.MJ(r + "" == "likely_to_sell_out_soon")) e += i[1], _.MN("b_av_message", _.MB(n[219])), e += i[40]; else if (_.MJ(r + "" == "this_hotel_is_not_bookable")) e += i[1], _.MJ(_.MB(n[16]) + "" != "us") && _.MJ(_.MC(n[13]) + "" == "cu") ? (e += i[22], _.MN(n[157], _.ME(i[293], _.MB, _.MN, null)), e += i[1]) :(e += i[22], _.MN(n[157], _.MB(n[220])), e += i[1]), e += i[40]; else if (_.MJ(r + "" == "this_hotel_is_not_bookable_property")) e += i[1], _.MJ(_.MB(n[16]) + "" != "us") && _.MJ(_.MC(n[13]) + "" == "cu") ? (e += i[22], _.MN(n[157], _.ME(i[293], _.MB, _.MN, null)), e += i[1]) :(e += i[22], _.MN(n[157], _.MB(n[221])), e += i[1]), e += i[40]; else if (_.MJ(r + "" == "bp_last_room")) e += i[1], _.MN(n[157], void 0), e += i[40]; else if (_.MJ(r + "" == "maps_sold_out_properties")) e += i[1], _.MN(n[157], _.MB(n[222])), e += i[40]; else if (_.MJ(r + "" == "sold_out_for_price")) {
e += i[1];
var a = "";
a += i[267], a += _.MD(n[190]) ? [ i[268], _.ME(i[246], _.MB, _.MN, null), i[269] ].join("") :[ i[270], _.ME(i[246], _.MB, _.MN, null), i[271] ].join(""), a += [ i[72], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[294], _.MB, _.MN, null), o.shift(), t), i[295] ].join(""), _.MN(n[157], a), e += i[40];
} else if (_.MJ(r + "" == "sold_out_for_price_and_date")) {
if (e += i[1], _.MJ(_.MC(n[195]) <= 7) && _.MJ(_.MC(n[195]) > 3) ? (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[253], _.MB, _.MN, null), o.shift(), t)), e += i[1]) :_.MJ(_.MC(n[195]) >= 2) ? (e += i[22], _.MN(n[194], (o.unshift({
num_days:_.MC(n[195]),
price:_.MC(n[152])
}), t = _.ME(i[254], _.MB, _.MN, _.MO(_.MC(n[195]), null, i[254])), o.shift(), t)), e += i[1]) :_.MD(n[196]) ? (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[255], _.MB, _.MN, null), o.shift(), t)), e += i[1]) :_.MD(n[197]) && (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[256], _.MB, _.MN, null), o.shift(), t)), e += i[1]), e += i[66], _.MD(n[194])) {
e += i[22];
var a = "";
a += i[257], a += _.MD(n[190]) ? [ i[258], _.ME(i[246], _.MB, _.MN, null), i[259] ].join("") :[ i[260], _.ME(i[246], _.MB, _.MN, null), i[261] ].join(""), a += [ i[262], _.MC(n[194]), i[296] ].join(""), _.MN(n[157], a), e += i[1];
}
e += i[1], _.MN(n[194], void 0), e += i[40];
} else if (_.MJ(r + "" == "sold_out_without_price")) {
e += i[1];
var a = "";
a += i[267], a += _.MD(n[190]) ? [ i[268], _.ME(i[246], _.MB, _.MN, null), i[269] ].join("") :[ i[270], _.ME(i[246], _.MB, _.MN, null), i[271] ].join(""), a += [ i[72], _.ME(i[297], _.MB, _.MN, null), i[298] ].join(""), _.MN(n[157], a), e += i[40];
} else _.MJ(r + "" == "m_rt_sold_out_for") ? (e += i[1], _.MN(n[157], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[299], _.MB, _.MN, null), o.shift(), t)), e += i[40]) :_.MJ(r + "" == "maps_iw_soldout_for_your_dates") ? (e += i[1], _.MN("b_av_message", _.MB(n[223])), e += i[40]) :_.MJ(r + "" == "hp_not_available_for_your_dates") && (e += i[1], _.MN("b_av_message", _.MB(n[224])), e += i[40]);
return e += i[39], _.MD(n[202]) && (e += i[40], _.MN("b_av_message", _.MB(n[201])), e += i[39]), e += i[83], _r_(e);
}
function p(e) {
return _i_("269:09f4f91d"), e += i[83], _.MN("fe_review_score", _.MI(_.MB(n[63])) + _.MI(0)), e += i[33], _.MN("fe_review_score_word_tag", _.MB(n[76]) || "p"), e += i[33], _.MN("fe_review_score_word_class_list", "review-score-word"), e += i[33], _.MJ(_.MB(n[78]) >= 7) && (e += i[107], _.MN("fe_review_score_word_class_list", _.MB(n[77]) + " review-score-word--highlighted"), e += i[83]), e += i[84], _.MD(n[79]) && (e += i[107], _.MN("fe_review_score_word_class_list", _.MB(n[77]) + " " + _.MB(n[79])), e += i[83]), e += i[99], _.MD(n[86]) ? (e += i[107], _.MJ(_.MB(n[78]) >= 0) && _.MJ(_.MB(n[78]) < 3) && (e += i[108], _.MN("fe_review_score_word_copy", _.MB(n[80])), e += i[109]), e += i[107], _.MJ(_.MB(n[78]) >= 3) && _.MJ(_.MB(n[78]) < 4) && (e += i[108], _.MN("fe_review_score_word_copy", _.MB(n[81])), e += i[110]), e += i[107], _.MJ(_.MB(n[78]) >= 4) && _.MJ(_.MB(n[78]) < 5) && (e += i[108], _.MN("fe_review_score_word_copy", _.MB(n[82])), e += i[111]), e += i[107], _.MJ(_.MB(n[78]) >= 5) && _.MJ(_.MB(n[78]) < 5.6) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[83])), e += i[92]), e += i[107], _.MJ(_.MB(n[78]) >= 5.6) && _.MJ(_.MB(n[78]) < 6) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[84])), e += i[112]), e += i[107], _.MJ(_.MB(n[78]) >= 6) && _.MJ(_.MB(n[78]) < 7) && (e += i[108], _.MN("fe_review_score_word_copy", _.MB(n[85])), e += i[113]), e += i[83]) :(e += i[107], _.MJ(_.MB(n[78]) >= 0) && _.MJ(_.MB(n[78]) < 7) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[87])), e += i[92]), e += i[83]), e += i[83], _.MJ(_.MB(n[78]) >= 7) && _.MJ(_.MB(n[78]) < 8) && (e += i[108], _.MN("fe_review_score_word_copy", _.MB(n[88])), e += i[114]), e += i[83], _.MJ(_.MB(n[78]) >= 8) && _.MJ(_.MB(n[78]) < 8.6) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[89])), e += i[92]), e += i[83], _.MJ(_.MB(n[78]) >= 8.6) && _.MJ(_.MB(n[78]) < 9) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[90])), e += i[115]), e += i[84], _.MJ(_.MB(n[78]) >= 9) && _.MJ(_.MB(n[78]) < 9.5) && (e += i[92], _.MN(n[91], _.ME(i[116], _.MB, _.MN, null)), e += i[92]), e += i[33], _.MJ(_.MB(n[78]) >= 9.5) && (e += i[92], _.MN("fe_review_score_word_copy", _.MB(n[92])), e += i[92]), e += i[33], e += i[83], _r_(e);
}
function b(e) {
return _i_("269:81a528a7"), e += i[99], _.MN("fe_score", _.MI(_.MB(n[63])) + _.MI(0)), e += i[33], _.MN("fe_score_word_name", ""), e += i[83], _.MJ(_.MB(n[96]) >= 0) && _.MJ(_.MB(n[96]) < 3) && (e += i[102], _.MN("fe_score_word_name", "very_poor"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 3) && _.MJ(_.MB(n[96]) < 4) && (e += i[102], _.MN("fe_score_word_name", "poor"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 4) && _.MJ(_.MB(n[96]) < 5) && (e += i[102], _.MN("fe_score_word_name", "disappointing"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 5) && _.MJ(_.MB(n[96]) < 5.6) && (e += i[102], _.MN("fe_score_word_name", "average_passable"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 5.6) && _.MJ(_.MB(n[96]) < 6) && (e += i[102], _.MN("fe_score_word_name", "average_okay"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 6) && _.MJ(_.MB(n[96]) < 7) && (e += i[102], _.MN("fe_score_word_name", "pleasant"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 7) && _.MJ(_.MB(n[96]) < 8) && (e += i[102], _.MN("fe_score_word_name", "good"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 8) && _.MJ(_.MB(n[96]) < 8.6) && (e += i[102], _.MN("fe_score_word_name", "very_good"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 8.6) && _.MJ(_.MB(n[96]) < 9) && (e += i[102], _.MN("fe_score_word_name", "fabulous"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 9) && _.MJ(_.MB(n[96]) < 9.5) && (e += i[102], _.MN("fe_score_word_name", "superb"), e += i[83]), e += i[84], _.MJ(_.MB(n[96]) >= 9.5) && (e += i[102], _.MN("fe_score_word_name", "exceptional"), e += i[83]), e += i[33], _.MN("fe_classname", ""), e += i[83], _.MJ(_.MB(n[96]) >= 0) && _.MJ(_.MB(n[96]) <= 10) && (e += i[117], _.MN("fe_classname", _.MB(n[97]) + "" + _.MB(n[98]) + _.MB(n[99])), e += i[118], _.MJ(_.MB(n[96]) < 7) && (e += i[119], _.MN("fe_classname", _.MB(n[100]) + " " + _.MB(n[97]) + "low" + _.MB(n[99])), e += i[102]), e += i[84]), e += i[83], _r_(e);
}
function m(e) {
_i_("269:77c5999b"), e += i[99], _.MN(n[149], void 0), e += i[83], _.MN(n[150], void 0), e += i[83], _.MN(n[151], void 0), e += i[83], _.MN(n[152], void 0), e += i[83], _.MN(n[153], _.ME(i[220], _.MB, _.MN, null)), e += i[84], _.MD(n[154]) && (e += i[39], _.MN(n[149], _.MC(n[154])), e += i[83]), e += i[84], _.MD(n[155]) && (e += i[39], _.MN(n[150], _.MC(n[155])), e += i[83]), e += i[84], _.MD(n[41]) && (e += i[39], _.MN(n[151], _.MC(n[41])), e += i[83]), e += i[84], _.MD(n[156]) && (e += i[39], _.MN(n[152], _.MC(n[156])), e += i[83]), e += i[84], _.MN(n[157], void 0), e += i[99], e = a(e), e += i[83], _.MN("b_legal_override_for_av_messages", _.MC(n[162])), e += i[99];
var r = _.MC(n[149]);
if (_.MJ(r + "" == "completely_booked_property")) e += i[40], _.MN("b_av_message", _.MB(n[163])), e += i[39]; else if (_.MJ(r + "" == "completely_booked_header")) {
e += i[40];
var s = "";
s += i[1], _.MJ(_.MC(n[28]) + "" == "fr") && _.MJ(_.MC(n[165]) + "" == "fr") && _.MJ(_.MC(n[13]) + "" == "fr") ? s += [ i[22], _.MB(n[164]), i[1] ].join("") :(s += i[22], s += _.MJ(2 == _.MC(n[167])) ? [ i[85], _.MB(n[168]), i[22] ].join("") :[ i[85], _.MB(n[166]), i[22] ].join(""), s += i[1]), s += i[40], _.MN(n[157], s), e += i[39];
} else if (_.MJ(r + "" == "hp_sold_out_new_3d")) e += i[40], _.MN("b_av_message", _.MB(n[169])), e += i[39]; else if (_.MJ(r + "" == "sorry_last_available_room_booked_only_ellapsed_time_ago_apt")) e += i[40], _.MN("b_av_message", _.MB(n[170])), e += i[39]; else if (_.MJ(r + "" == "sorry_last_available_room_booked_ellapsed_time_ago_apt")) e += i[40], _.MN("b_av_message", _.MB(n[171])), e += i[39]; else if (_.MJ(r + "" == "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay")) e += i[40], _.MN("b_av_message", _.MB(n[172])), e += i[39]; else if (_.MJ(r + "" == "villas_no_availability_message")) e += i[40], _.MN("b_av_message", _.MB(n[173])), e += i[39]; else if (_.MJ(r + "" == "sorry_last_available_booked_ellapsed_time_ago")) e += i[40], _.MN("b_av_message", _.MB(n[174])), e += i[39]; else if (_.MJ(r + "" == "sold_out")) e += i[40], _.MN("b_av_message", _.MB(n[175])), e += i[39]; else if (_.MJ(r + "" == "sold_out_uc")) e += i[40], _.MN("b_av_message", _.MB(n[175]).toUpperCase()), e += i[39]; else if (_.MJ(r + "" == "sold_out_ucfirst")) e += i[40], _.MN("b_av_message", _.ucfirst(_.MB(n[175]))), e += i[39]; else if (_.MJ(r + "" == "only_x_rooms_left")) e += i[40], _.MN(n[157], _.VP(i[222], _.MO(_.MC(n[150]), null, i[222]))), e += i[39]; else if (_.MJ(r + "" == "only_x_rooms_left_for_price_generalised")) e += i[40], _.MN(n[157], (o.unshift({
amountRooms:_.MC(n[150])
}), t = _.VP(i[223], _.MO(_.MC(n[150]), null, i[223])), o.shift(), t)), e += i[39]; else if (_.MJ(r + "" == "hp_rooms_table_only_x_left_without_price")) e += i[40], _.MN(n[157], _.VP(i[224], _.MO(_.MC(n[150]), null, i[224]))), e += i[39]; else if (_.MJ(r + "" == "only_x_left_bdot_singleroom_tooltip")) e += i[40], _.MN(n[157], (o.unshift({
amountRooms:_.MC(n[150])
}), t = _.VP(i[225], _.MO(_.MC(n[150]), null, i[225])), o.shift(), t)), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_property_hours")) e += i[40], _.MN(n[157], _.VP(i[226], _.MO(_.MC(n[150]), null, i[226]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_property_days")) e += i[40], _.MN(n[157], _.VP(i[227], _.MO(_.MC(n[150]), null, i[227]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_property_weeks")) e += i[40], _.MN(n[157], _.VP(i[228], _.MO(_.MC(n[150]), null, i[228]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_hours")) e += i[40], _.MN(n[157], _.VP(i[229], _.MO(_.MC(n[150]), null, i[229]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_days")) e += i[40], _.MN(n[157], _.VP(i[230], _.MO(_.MC(n[150]), null, i[230]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_soon_week")) e += i[40], _.MN(n[157], _.VP(i[231], _.MO(_.MC(n[150]), null, i[231]))), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_by_hour")) e += i[39], _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[40], _.MN(n[157], (o.unshift({
num_vp_sellout_hours:_.MC(n[150])
}), t = _.ME(i[232], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[232])), o.shift(), t)), e += i[39]), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_by_day")) e += i[39], _.MJ(_.MC(n[75])) && _.MJ(_.MC(n[73])) && _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[40], _.MN(n[157], (o.unshift({
num_vp_sellout_days:_.MC(n[150])
}), t = _.ME(i[233], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[233])), o.shift(), t)), e += i[39]), e += i[39]; else if (_.MJ(r + "" == "scarcity_sell_out_by_week")) e += i[39], _.MJ(_.MC(n[151])) && _.MJ(_.MC(n[150]) + "" != "") && (e += i[40], _.MN(n[157], (o.unshift({
num_vp_sellout_weeks:_.MC(n[150])
}), t = _.ME(i[234], _.MB, _.MN, _.MO(_.MC(n[150]), null, i[234])), o.shift(), t)), e += i[39]), e += i[39]; else if (_.MJ(r + "" == "available_on_dates_selected")) e += i[40], _.MN("b_av_message", _.MB(n[176])), e += i[39]; else if (_.MJ(r + "" == "sr_low_avail_message_reserved")) e += i[40], _.MN("b_av_message", _.MB(n[177])), e += i[39]; else if (_.MJ(r + "" == "sr_low_avail_message_available")) e += i[40], _.MN("b_av_message", _.MB(n[178])), e += i[39]; else if (_.MJ(r + "" == "fd_sold_out")) e += i[40], _.MN("b_av_message", _.MB(n[179])), e += i[39]; else if (_.MJ(r + "" == "fd_sold_out_js")) e += i[40], _.MN(n[157], _.F.js(_.MB(n[179]))), e += i[39]; else if (_.MJ(r + "" == "map_occupancy_disclaimer_1")) e += i[40], _.MN("b_av_message", _.MB(n[180])), e += i[39]; else if (_.MJ(r + "" == "sr_sold_out_message")) e += i[40], _.MN(n[157], _.VP(i[235], _.MO(_.MC(n[150]), null, i[235]))), e += i[39]; else if (_.MJ(r + "" == "sr_pinned_hotel_no_room_occupancy")) e += i[40], _.MN(n[157], _.MB(n[181])), e += i[39]; else if (_.MJ(r + "" == "sbox_live_av_reserved_destination")) e += i[236], _.MN(n[157], _.MB(n[182])), e += i[39]; else if (_.MJ(r + "" == "list_not_available")) e += i[236], _.MN("b_av_message", _.MB(n[183])), e += i[39]; else if (_.MJ(r + "" == "df_sold_out_hotels_explain")) e += i[236], _.MN("b_av_message", _.MB(n[153])), e += i[39]; else if (_.MJ(r + "" == "book_from_list_no_dates")) e += i[236], _.MN("b_av_message", _.MB(n[184])), e += i[39]; else if (_.MJ(r + "" == "likely_to_sell_out_soon")) e += i[40], _.MN("b_av_message", _.MB(n[185])), e += i[39]; else if (_.MJ(r + "" == "this_hotel_is_not_bookable")) e += i[40], _.MN(n[157], _.MB(n[186])), e += i[39]; else if (_.MJ(r + "" == "this_hotel_is_not_bookable_property")) e += i[40], _.MN(n[157], _.MB(n[187])), e += i[39]; else if (_.MJ(r + "" == "cant_book_in_this_country")) e += i[40], _.MN("b_av_message", _.MB(n[188])), e += i[39]; else if (_.MJ(r + "" == "cant_book_from_your_country")) e += i[40], _.MN("b_av_message", _.MB(n[189])), e += i[39]; else if (_.MJ(r + "" == "bp_last_room")) {
e += i[40];
var s = "";
s += i[237], s += _.MD(n[190]) ? [ i[238], _.F.js(_.VP(i[223], _.MO(_.MC(n[150]), null, i[223]))), i[239] ].join("") :[ i[240], _.F.js(_.VP(i[223], _.MO(_.MC(n[150]), null, i[223]))), i[241] ].join(""), s += [ i[242], _.MB(n[191]), i[243] ].join(""), _.MN(n[157], s), e += i[39];
} else if (_.MJ(r + "" == "maps_sold_out_properties")) e += i[40], _.MN(n[157], _.MB(n[192])), e += i[39]; else if (_.MJ(r + "" == "sr_last_room_reserved")) e += i[40], _.MN("b_av_message", _.MB(n[153])), e += i[39]; else if (_.MJ(r + "" == "sr_last_room_reserved_low_av")) e += i[40], _.MN("b_av_message", _.MB(n[193])), e += i[39]; else if (_.MJ(r + "" == "sold_out_for_price")) {
e += i[40];
var s = "";
s += i[244], s += _.MD(n[190]) ? [ i[245], _.ME(i[246], _.MB, _.MN, null), i[247] ].join("") :[ i[248], _.ME(i[246], _.MB, _.MN, null), i[249] ].join(""), s += [ i[250], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[251], _.MB, _.MN, null), o.shift(), t), i[252] ].join(""), _.MN(n[157], s), e += i[39];
} else if (_.MJ(r + "" == "sold_out_for_price_and_date")) {
if (e += i[1], _.MJ(_.MC(n[195]) <= 7) && _.MJ(_.MC(n[195]) > 3) ? (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[253], _.MB, _.MN, null), o.shift(), t)), e += i[1]) :_.MJ(_.MC(n[195]) >= 2) ? (e += i[22], _.MN(n[194], (o.unshift({
num_days:_.MC(n[195]),
price:_.MC(n[152])
}), t = _.ME(i[254], _.MB, _.MN, _.MO(_.MC(n[195]), null, i[254])), o.shift(), t)), e += i[1]) :_.MD(n[196]) ? (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[255], _.MB, _.MN, null), o.shift(), t)), e += i[1]) :_.MD(n[197]) && (e += i[22], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[256], _.MB, _.MN, null), o.shift(), t)), e += i[1]), e += i[66], _.MD(n[194])) {
e += i[22];
var s = "";
s += i[257], s += _.MD(n[190]) ? [ i[258], _.ME(i[246], _.MB, _.MN, null), i[259] ].join("") :[ i[260], _.ME(i[246], _.MB, _.MN, null), i[261] ].join(""), s += [ i[262], _.MC(n[194]) ].join(""), _.MN(n[157], s), e += i[1];
}
e += i[1], _.MN(n[194], void 0), e += i[39];
} else if (_.MJ(r + "" == "sold_out_for_price_and_date_beds")) {
if (e += i[40], _.MJ(_.MC(n[195]) <= 7) && _.MJ(_.MC(n[195]) > 3) ? (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[263], _.MB, _.MN, null), o.shift(), t)), e += i[40]) :_.MJ(_.MC(n[195]) >= 2) ? (e += i[1], _.MN(n[194], (o.unshift({
num_days:_.MC(n[195]),
price:_.MC(n[152])
}), t = _.ME(i[264], _.MB, _.MN, _.MO(_.MC(n[195]), null, i[264])), o.shift(), t)), e += i[40]) :_.MD(n[196]) ? (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[265], _.MB, _.MN, null), o.shift(), t)), e += i[40]) :_.MD(n[197]) && (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[266], _.MB, _.MN, null), o.shift(), t)), e += i[40]), e += i[10], _.MD(n[194])) {
e += i[1];
var s = "";
s += i[267], s += _.MD(n[190]) ? [ i[268], _.ME(i[246], _.MB, _.MN, null), i[269] ].join("") :[ i[270], _.ME(i[246], _.MB, _.MN, null), i[271] ].join(""), s += [ i[72], _.MC(n[194]) ].join(""), _.MN(n[157], s), e += i[40];
}
e += i[40], _.MN(n[194], void 0), e += i[37];
} else if (_.MJ(r + "" == "m_rt_sold_out_for")) e += i[40], _.MN(n[157], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[272], _.MB, _.MN, null), o.shift(), t)), e += i[39]; else if (_.MJ(r + "" == "sold_out_for_price_and_date_studios")) {
if (e += i[40], _.MJ(_.MC(n[195]) <= 7) && _.MJ(_.MC(n[195]) > 3) ? (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[273], _.MB, _.MN, null), o.shift(), t)), e += i[40]) :_.MJ(_.MC(n[195]) >= 2) ? (e += i[1], _.MN(n[194], (o.unshift({
num_days:_.MC(n[195]),
price:_.MC(n[152])
}), t = _.ME(i[274], _.MB, _.MN, _.MO(_.MC(n[195]), null, i[274])), o.shift(), t)), e += i[40]) :_.MD(n[196]) ? (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[275], _.MB, _.MN, null), o.shift(), t)), e += i[40]) :_.MD(n[197]) && (e += i[1], _.MN(n[194], (o.unshift({
price:_.MC(n[152])
}), t = _.ME(i[276], _.MB, _.MN, null), o.shift(), t)), e += i[40]), e += i[10], _.MD(n[194])) {
e += i[1];
var s = "";
s += i[267], s += _.MD(n[190]) ? [ i[268], _.ME(i[246], _.MB, _.MN, null), i[269] ].join("") :[ i[270], _.ME(i[246], _.MB, _.MN, null), i[271] ].join(""), s += [ i[72], _.MC(n[194]) ].join(""), _.MN(n[157], s), e += i[40];
}
e += i[40], _.MN(n[194], void 0), e += i[39];
} else if (_.MJ(r + "" == "sold_out_without_price")) {
e += i[40];
var s = "";
s += i[244], s += _.MD(n[190]) ? [ i[245], _.ME(i[246], _.MB, _.MN, null), i[247] ].join("") :[ i[248], _.ME(i[246], _.MB, _.MN, null), i[249] ].join(""), s += [ i[250], _.ME(i[277], _.MB, _.MN, null), i[278] ].join(""), _.MN(n[157], s), e += i[39];
} else _.MJ(r + "" == "maps_iw_soldout_for_your_dates") ? (e += i[40], _.MN("b_av_message", _.MB(n[198])), e += i[39]) :_.MJ(r + "" == "hp_not_available_for_your_dates") ? (e += i[40], _.MN("b_av_message", _.MB(n[199])), e += i[39]) :_.MJ(r + "" == "this_is_just_a_previsualization") && (e += i[40], _.MN("b_av_message", _.MB(n[200])), e += i[39]);
return e += i[33], _.MD(n[202]) && (e += i[39], _.MN("b_av_message", _.MB(n[201])), e += i[83]), e += i[99], e += i[99], _.MD(n[225]) && (e += i[39], e = f(e), e += i[83]), e += i[83], _r_(e);
}
function g(e) {
if (_i_("269:0adb0286"), e += [ "", i[33] ].join(""), _.MJ(_.MC(n[23])) && _.MJ(_.MC(n[23]) > 0)) {
e += i[34], _.MN("fe_china_estimated_rating", _.MJ(_.MB(n[11]) + "" == "cn") || _.MJ(_.MC(n[12]) + "" == "cn") || _.MJ(_.MC(n[13]) + "" == "cn") || _.MJ(_.MC(n[14]) + "" == "cn")), e += i[35], _.MN("fe_show_estimated_rating", _.MJ(/^ph$/.test(_.MC(n[14]))) || _.MC(n[15]) && _.MJ(/^de|ru|fr|be$/.test(_.MC(n[14]))) || _.MJ(_.MB(n[16]) + "" == "us") && _.MJ(_.MC(n[17]) + "" == "en-us")), e += i[36], _.MN("fe_show_rating_tooltip", (_.MJ(_.MC(n[14]) + "" == "de") || _.MB(n[18]) && _.MJ(!/^fr|be$/.test(_.MC(n[14])))) && _.MJ(/^searchresults|hotel$/.test(_.MC(n[19])))), e += i[35], _.MN("fe_style_rating_tooltip", _.MB(n[20]) && _.MJ(_.MC(n[19]) + "" == "searchresults")), e += i[37], _.MN(n[21], i[38]), e += i[39];
var r = "";
if (r += _.MC(n[23]), _.MD(n[24]) && (r += _.MB(n[21])), _.MN(n[22], r), e += i[36], _.MD(n[25]) ? (e += i[40], _.MN(n[22], _.MC(n[25])), e += i[39]) :(_.MJ(5 == _.MB(n[22])) || _.MJ(5.5 == _.MB(n[22]))) && _.MJ(_.MC(n[24])) ? (e += i[40], _.MN(n[22], i[41]), e += i[39]) :(e += i[40], _.MN(n[22], _.format_number_decimal(_.MB(n[22]))), e += i[39]), e += i[35], _.MD(n[26]) ? (e += i[42], _.MN("fe_rating_symbols_height", "8"), e += i[39]) :(e += i[40], _.MN("fe_rating_symbols_height", "10"), e += i[39]), e += i[43], _.MD(n[33])) {
e += i[44], _.MN("fe_nostar_rating_stars", "{nostar_rating_filter_" + _.MC(n[23]) + "}"), e += i[45], _.MJ(_.MB(n[27])) && _.MJ(_.MC(n[28]) + "" == "zh") && (e += [ i[46], _.MB(n[27]), i[47] ].join("")), e += i[48];
var r = "";
r += [ i[49], parseInt(_.MC(n[23])) ].join(""), _.MJ(_.MC(n[24])) && _.MJ(parseInt(_.MC(n[23])) < 5) && (r += i[50]), _.MN(n[29], r), e += i[51], _.MD(n[30]) && (e += _.MC(n[30])), e += i[22], _.MD(n[31]) && (e += i[52]), e += [ i[53], _.MB(n[31]), i[54] ].join(""), o.unshift({
height:_.MB(n[32]),
name:_.MB(n[29])
}), t = _.HELPER("icon", o[0]), o.shift(), e += t, e += i[55];
} else if (_.MJ(_.MB(n[18]))) {
e += i[10], _.MN(n[22], [ _.MB(n[22]), i[56] ].join("")), e += i[10], (_.MJ(_.MB(n[20])) || _.MJ(_.MB(n[35]))) && (e += i[1], _.MD(n[35]) ? (e += i[22], _.MN(n[34], _.MC(n[35])), e += i[1]) :(e += i[22], _.MN(n[34], _.MB(n[36])), e += i[1]), e += i[40]), e += i[57];
var r = "";
r += [ i[49], parseInt(_.MC(n[23])) ].join(""), _.MJ(_.MC(n[24])) && _.MJ(parseInt(_.MC(n[23])) < 5) && (r += i[50]), _.MN(n[29], r), e += i[58], _.MD(n[30]) && (e += _.MC(n[30])), e += i[1], (_.MJ(_.MB(n[37])) || _.MJ(_.MC(n[19]) + "" == "searchresults") && _.MJ(_.MB(n[35]))) && (e += i[52]), e += [ i[59], _.MB(n[34]), i[60] ].join(""), _.MJ(_.MC(n[19]) + "" == "searchresults") && (e += i[61]), e += i[62], e += [ (o.unshift({
height:_.MB(n[32]),
name:_.MB(n[29])
}), t = _.HELPER("icon", o[0]), o.shift(), t), i[63], _.MB(n[34]), i[64] ].join(""), e += i[65];
} else if (_.MJ(_.MB(n[39]))) {
e += i[66], _.MN(n[22], [ _.MB(n[22]), i[56] ].join("")), e += i[48];
var r = "";
r += [ i[49], parseInt(_.MC(n[23])) ].join(""), _.MJ(_.MC(n[24])) && _.MJ(parseInt(_.MC(n[23])) < 5) && (r += i[50]), _.MN(n[29], r), e += i[67], _.MD(n[30]) && (e += _.MC(n[30])), e += i[68], (_.MJ(_.MB(n[20])) || _.MJ(_.MC(n[19]) + "" != "searchresults")) && (e += [ i[69], _.MB(n[38]), i[70] ].join("")), e += i[22], _.MD(n[37]) && (e += i[71]), e += i[72], e += [ (o.unshift({
height:_.MB(n[32]),
name:_.MB(n[29])
}), t = _.HELPER("icon", o[0]), o.shift(), t), i[73], _.MB(n[38]), i[64] ].join(""), e += i[74];
} else {
if (e += i[40], _.MJ(204 != _.MC(n[41]))) e += i[75], _.MN(n[38], _.MB(n[40])), e += i[40]; else {
e += i[1];
var r = "";
_.MJ(1 == _.MC(n[23])) ? r += _.MD(n[24]) ? _.MB(n[42]) :_.MB(n[43]) :_.MJ(2 == _.MC(n[23])) ? r += _.MD(n[24]) ? _.MB(n[44]) :_.MB(n[45]) :_.MJ(3 == _.MC(n[23])) ? r += _.MD(n[24]) ? _.MB(n[46]) :_.MB(n[47]) :_.MJ(4 == _.MC(n[23])) ? r += _.MD(n[24]) ? _.MB(n[48]) :_.MB(n[49]) :_.MJ(5 == _.MC(n[23])) && (r += _.MB(n[50])), _.MN(n[38], r), e += i[40];
}
e += i[10], _.MD(n[20]) && (e += i[1], _.MN(n[38], _.MB(n[51])), e += i[40]), e += i[10], _.MN(n[52], _.MC(n[52]) || "4"), e += i[57];
var r = "";
r += [ i[76], parseInt(_.MC(n[23])) ].join(""), _.MJ(_.MC(n[24])) && _.MJ(parseInt(_.MC(n[23])) < 5) && (r += i[50]), _.MN(n[29], r), e += i[77], _.MD(n[30]) && (e += _.MC(n[30])), e += i[22], _.MD(n[37]) && (e += i[52]), e += [ i[78], _.MB(n[53]), i[79] ].join(""), (_.MJ(_.MB(n[20])) || _.MJ(_.MC(n[19]) + "" != "searchresults")) && (e += [ i[80], _.MB(n[38]), i[60] ].join("")), e += i[1], _.MD(n[37]) && (e += i[81]), e += [ i[1], _.MB(n[54]), i[62] ].join(""), e += [ (o.unshift({
height:_.MB(n[32]),
name:_.MB(n[29])
}), t = _.HELPER("icon", o[0]), o.shift(), t), i[63], _.MB(n[38]), i[64] ].join(""), e += i[82];
}
e += i[83];
}
return e += [ i[84], "", i[83] ].join(""), _r_(e);
}
function v(e) {
return _i_("269:59638db0"), e += [ "", i[99] ].join(""), _.MJ(_.MB(n[135]) > 0) ? (e += i[39], o.unshift({
extra_classes:i[182],
sample_size:_.MB(n[134]),
score:_.MB(n[135])
}), e = l(e), o.shift(), e += i[37], _.MJ(_.MB(n[136]) > 0) && (e += [ i[183], _.ME(i[184], _.MB, _.MN, null), i[92], _.MC(n[136]), i[185] ].join("")), e += i[83]) :(e += i[102], _.MJ(_.MB(n[140])) && _.MJ(_.MB(n[139])) && (e += i[119], _.MN(n[137], [ i[157], (o.unshift({
min_num_reviews:_.MB(n[139]),
property_name:_.MB(n[140])
}), t = _.F.html(_.MB(n[138])), o.shift(), t), i[119] ].join("")), e += i[186]), e += [ i[187], _.ME(i[188], _.MB, _.MN, null), i[189] ].join(""), _.MJ(_.MC(n[141])) && (e += [ i[190], (o.unshift({
b_companyname:_.MC(n[141])
}), t = _.ME(i[191], _.MB, _.MN, null), o.shift(), t), i[156] ].join(""), _.MD(n[137]) && (e += [ i[192], _.MC(n[137]), i[193] ].join("")), e += i[194]), e += i[195]), e += [ i[84], "" ].join(""), _r_(e);
}
function y(e) {
return _i_("269:77a30b52"), e += [ i[205], _.MC(n[144]), i[206], _.F.entities(_.MC(n[145])), i[207], _.MC(n[146]), i[208] ].join(""), _r_(e);
}
function w(e) {
return _i_("269:c56a0409"), e += [ i[314], _.ME(i[315], _.MB, _.MN, null), i[316] ].join(""), _r_(e);
}
function M(e) {
return _i_("269:d5fffdc6"), e = m(e), e += _.MC(n[157]), _r_(e);
}
r += i[0], _.MJ(e = _.MC(n[0])) && !_.IS_EMPTY_OBJECT(e) && (o.unshift(e), r += i[1], r = h(r), r += i[40], o.shift()), r += i[313];
var k = _.MC(n[227]) || [];
o.unshift(null);
for (var B = 1, C = k.length; C >= B; B++) o[0] = k[B - 1], r += i[22], r = u(r), r += i[1];
return o.shift(), r += i[1], r = w(r), r += i[317], _r_(r);
});
}()), booking.jstmpl("lists_hotels_error", function() {
_i_("269:1e249896");
var e = [ '\n    <div class="lists-hotels-error">\n        ', "/private/error/name", "\n    </div>\n" ];
return _r_(function(t) {
_i_("269:bde66dc91");
var i = "", n = this.fn;
return i += [ e[0], n.ME(e[1], n.MB, n.MN, null), e[2] ].join(""), _r_(i);
});
}()), booking.jstmpl("lists_hotel_explanation", function() {
_i_("269:9524d276");
var e = [ '\n    <div class="lists-hotel lists-hotel--explanation-card">\n        <div class="lists-hotel-explanation-message">\n            ', "/private/cdm_hp_compare_keep_browsing/name", "\n        </div>\n\n        \n    </div>\n" ];
return _r_(function(t) {
_i_("269:bde66dc92");
var i = "", n = this.fn;
return i += [ e[0], n.ME(e[1], n.MB, n.MN, null), e[2] ].join(""), _r_(i);
});
}()), booking.jstmpl("lists_hotel", function() {
_i_("269:1257c805");
var e, t = [ '\n    <div class="lists-hotel', " lists-hotel--best", '"\n        data-list-id="', '"\n        data-id="', '">\n\n        ', '\n            <div class="lists-hotel-badge lists-hotel-badge__current">\n                ', "/private/cdm_hp_compare_currently_viewing/name", "\n            </div>\n        ", "\n\n        ", '\n            <div class="lists-hotel-badge lists-hotel-badge__best">\n                ', "/private/compare_page_best_choice/name", '\n                <i class="bicon bicon-infobold lists-hotel-badge-icon jq_tooltip"\n                    title="', "/private/compare_page_best_choice_tooltip/name", '"></i>\n            </div>\n        ', '\n\n        <div class="js-lists-hotel-image lists-hotel-image"\n            href="', '" target="_blank"\n            style="background-image: url(', ');">\n            ', '\n                <div class="lists-hotel-image__photo-prev">\n                    <i class="bicon-leftchevron"></i>\n                </div>\n                <div class="lists-hotel-image__photo-next">\n                    <i class="bicon-rightchevron"></i>\n                </div>\n                <div class="lists-hotel-image__photo-counter">\n                    <span class="lists-hotel-image__photo-counter-current">1</span>/<span class="lists-hotel-image__photo-counter-total">', "</span>\n                </div>\n            ", '\n        </div>\n\n        <div class="lists-hotel-info">\n            \n            \n            ', "\n                ", "lists-hotel-top-container--small", "\n            ", '\n            \n\n            <div class="lists-hotel-info-block lists-hotel-top-container ', '">\n                <div class="lists-hotel-block-row lists-hotel-block-row--title">\n                    <a class="lists-hotel-title lists-hotel-text-row\n                              ', "\n                                  js-lists-view-current\n                              ", "\n                                  js-lists-book-viewed\n                              ", '"\n                        title="', '"\n                        href="', '">\n                        ', "\n                    </a>\n                    \n                    \n                    ", "\n                        ", "\n\n\n", "\n\n\n\n\n\n\n\n\n    \n    ", "\n\n    \n    ", "\n    \n    \n    ", "\n\n    ", ".5", "\n    ", "\n        ", "5", "   \n        ", "\n\n    \n    \n    \n    ", "\n         ", '\n         <div class="china_stars_categories">\n            ', '\n                \n                <span class="china_stars_categories_title">', "</span>\n            ", "\n\n            \n            ", "sprite/ratings_circles_", "_half", '\n            \n            <i class="\n                bk-icon-wrapper\n                zhcn-ratings\n                ', "jq_tooltip ratings_stars_tooltip", '\n                "\n                title="', '"\n            >', "</i>\n\n        </div>\n\n    \n    \n    \n    ", "/5", "\n\n        \n        ", '\n        \n        <i class="\n            bk-icon-wrapper\n            ', '\n            "\n            title="', '"\n            ', '\n                data-toponly="true"\n            ', "\n        >", '\n            <span class="invisible_spoken">', "</span>", "\n        </i>\n\n        \n        \n        \n\n\n        ", "\n\n            ", '\n            \n            <i class="\n                bk-icon-wrapper\n                ', '\n                "\n                ', '\n                    title="', '"\n                ', '\n                    rel="300"\n                    data-toponly="true"\n                ', "\n                >", '\n                <span class="invisible_spoken">', "\n            </i>\n\n    \n    \n    \n    \n    ", "\n            \n            ", "sprite/ratings_stars_", '\n        \n        <i\n            class="\n                bk-icon-wrapper\n                bk-icon-stars\n                ', "\n                star_track", '\n                "\n            ', '\n                title="', '\n                rel="300"\n                data-toponly="true"\n            ', "</i>\n    ", "\n", "\n\n", "\n                    ", "\n                    \n                </div>\n\n                \n                \n                ", '\n                    <div class="lists-hotel-block-row">\n                        <div class="listview-hotel-address lists-hotel-text-row">', '<img class="listview-hotel-address__flag" src="', '" alt="', '"> ', ", ", " ", "</div>\n                    </div>\n                ", "\n                \n                ", '\n                    <div class="lists-hotel-distance">\n                        <i class="bicon-map-pin lists-hotel-distance__icon"></i>\n                        <span class="lists-hotel-distance__copy">', "/private/cdm_hp_compare_distance_from_centre/name", "</span>\n                    </div>\n                ", '\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-reviews-container">\n                \n                \n                ', "\n\n\n\n", "\n\n\n\n\n\n\n", '\n	<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n', "\n	", "", "none", "auto", "num_reviews_sr_page", "\n  ", "   ", "        ", "             ", "    ", "     ", "         ", "      ", "  ", "/private/review_adj_superb/name", "\n\n	", "\n	\n	", "\n		", "review-score-widget__", "review-score-widget__score-only ", "review-score-widget__12 ", "review-score-widget__14 ", "review-score-widget__20 ", "review-score-widget__24 ", " review-score-widget ", " review-score-widget__no-subtext", " review-score-widget__flipped", 'id="', '"', "\n\n\n\n\n\n\n\n\n", "\n		<", 'a href="', ' target="', "span", ' class="review-score-widget__text" role="link" aria-label="', "/private/a11y_adjective_rating/name", '">\n			', "\n		</", "a", ">\n	", "span\n        ", ' class="review-score-widget__subtext" role="link" aria-label="', "/private/acc_sr_review_score_rated_with_score_end/name", '"\n        ', '\n            data-et-view="', ':2"\n        ', "\n        >\n        \n        ", "/private/ugcc_sr_num_plus_reviews/name", "50", "\n\n\n\n\n", "\n\n	\n	\n	\n\n	\n\n	<span\n		", '\n		class="', " review-score-widget__debug", '"\n			', "\n				", "\n			", '\n				data-et-view="', "\n	>\n		", "\n			\n		", "\n\n		", "\n\n		\n		", "\n\n			", "\n				\n				", "\n	<", ' class="review-score-badge" role="link" aria-label="', "/private/a11y_rating_score_for_screenreader/name", '">\n		', "\n	</", ">\n", "\n					\n					", "\n					", '\n						<span class="review-score-widget__body">\n							', "\n							", "\n						</span>\n					", '\n					<span class="review-score-widget__body">\n						', "\n						", "\n					</span>\n				", "\n	</span>\n\n	\n	\n\n", "\n\n\n\n\n\n\n\n\n\n", "\n	\n	\n", "lists-hotel-main-review", '\n        <div class="lists-hotel-location-review">\n            ', "/private/cdm_hp_info_just_location/name", "\n            \n            \n            \n            \n            \n            \n            \n        </div>\n    ", "	\n	", '\n	\n\n	<div class="lists-hotel-reviews-container__empty">\n		<span class="review-score-badge review-score-badge__text-new">', "/private/hp_comp_component_just_added/name", "</span>\n		\n		", '\n			<p class="reviews-container__empty--msg">\n				', "/private/hp_comp_component_recently_joined/name", '\n					<span class="jq_tooltip" rel="300" data-title="', '">\n						<i class="icon bicon-infocircleoutline"></i>\n					</span>\n				', "\n			</p>\n		", "\n	</div>\n", "\n\n                    ", '\n                        <div class="lists-hotel-location-review">\n                            ', "\n                            \n                            \n                            \n                            \n                            \n                            \n                            \n                        </div>\n                    ", '\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-facilities-container">\n                <div class="lists-hotel-facilities-header lists-hotel-block-row">\n                    ', "/private/cdm_hp_compare_facilities/name", "\n                </div>\n                <div>\n                    \n                    \n                    ", "0", "\n                    \n                    ", "\n                            ", '\n    <span class="lists-hotel-facility-badge__wrapper">\n        <span class="lists-hotel-facility-badge__title jq_tooltip ', '"\n            title="', '">\n            <span class="lists-hotel-facility-badge__vicon-wrapper">\n                <i class="', '"></i>\n            </span>\n        </span>\n    </span>\n', '\n                        <span class="lists-hotel-facilities__empty">', "/private/hp_comp_component_facilities_not_avail/name", "</span>\n                    ", '\n                </div>\n            </div>\n\n            <div class="lists-hotel-info-block lists-hotel-price-block">\n                ', '\n                        <div class="lists-hotel-block-row">\n                            <div class="lists-hotel-price-block__dates lists-hotel-text-row">\n                                <span>', "</span>&nbsp;&mdash;&nbsp;<span>", '</span>\n                            </div>\n                        </div>\n                        <div class="lists-hotel-block-row">\n                            <div class="lists-hotel-price-block__nights lists-hotel-text-row">\n                                ', "/private/cdm_hp_compare_price_for_x_nights/name", '\n                            </div>\n                        </div>\n                        <div class="lists-hotel-price-block__price">\n                            ', "\n                        </div>\n                    ", '\n                        <div class="lists-hotel-price-block__not_available_msg">\n                            ', "/private/sr_last_room_reserved/name", "\n                \n", "only_x_rooms_left", "only_x_rooms_left_for_price_generalised", "hp_rooms_table_only_x_left_without_price", "only_x_left_bdot_singleroom_tooltip_2", "scarcity_sell_out_property_hours", "scarcity_sell_out_property_days", "scarcity_sell_out_property_weeks", "scarcity_sell_out_soon_hours", "scarcity_sell_out_soon_days", "carcity_sell_out_soon_week", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_hour", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_day", "/hoteltype_new/{b_av_accommodationtype_id}/scarcity_sell_out_by_week", "sr_sold_out_message", "\n          ", "\n            <span\n                ", "\n                    data-component=\"tooltip\"\n                    data-tooltip-width='240' \n                    data-tooltip-text='", "' \n                    class='last_room_bp_policy_warning'\n                ", "\n                    rel='240' \n                    title='", "' \n                    class='jq_tooltip last_room_bp_policy_warning'\n                ", "\n            >\n                ", "\n            </span>\n        ", "\n            <div \n                ", '\n                    data-component="tooltip"\n                    data-tooltip-width=\'400\' \n                    data-tooltip-text="', "/private/hp_rt_sold_for_x_tooltip/name", '" \n                ', '\n                    class="jq_tooltip" \n                    data-title="', '" \n                    rel="400"\n                ', "\n            >", "/private/hp_rt_sold_for_x/name", "</div>\n        ", "/private/rooms_table_missed_time_price_few_days/name", "/private/rooms_table_missed_time_price_2_3_days/name", "/private/rooms_table_missed_time_price_yesterday/name", "/private/rooms_table_missed_time_price_today/name", "\n                    <div \n                        ", '\n                            data-component="tooltip"\n                            data-tooltip-width=\'400\' \n                            data-tooltip-text="', '" \n                        ', '\n                            class="jq_tooltip" \n                            data-title="', '" \n                            rel="400"\n                        ', "\n                    >", "/private/rooms_table_missed_time_price_few_days_beds/name", "/private/rooms_table_missed_time_price_2_3_days_beds/name", "/private/rooms_table_missed_time_price_yesterday_beds/name", "/private/rooms_table_missed_time_price_today_beds/name", "\n                <div \n                    ", '\n                        data-component="tooltip"\n                        data-tooltip-width=\'400\' \n                        data-tooltip-text="', '" \n                    ', '\n                        class="jq_tooltip" \n                        data-title="', '" \n                        rel="400"\n                    ', "/private/m_hp_rt_sold_for_x/name", "/private/rooms_table_missed_time_price_few_days_studio/name", "/private/rooms_table_missed_time_price_2_3_days_studio/name", "/private/rooms_table_missed_time_price_yesterday_studio/name", "/private/rooms_table_missed_time_price_today_studio/name", "/private/hp_rt_missed_it_sold_out/name", "</div>", "clear_urgency_only_x_rooms_left", "clear_urgency_sold_out_only_x_num_left_higher_prices_available", "clear_urgency_hp_rooms_table_only_x_left_without_price", "clear_urgency_only_x_left_singleroom_tooltip", "clear_urgency_scarcity_sell_out_property_hours", "clear_urgency_scarcity_sell_out_property_days", "clear_urgency_scarcity_sell_out_property_weeks", "clear_urgency_scarcity_sell_out_soon_hours", "clear_urgency_scarcity_sell_out_soon_days", "clear_urgency_scarcity_sell_out_soon_week", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_hour", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_day", "/hoteltype_new/{b_av_accommodationtype_id}/clear_urgency_scarcity_sell_out_by_week", "clear_urgency_sr_sold_out_message", "/private/validate_cc1_unavailable/name", "/private/hp_rt_sold_for_x_legal/name", "\n                </div>\n            ", "</div>\n                ", "/private/hp_rt_missed_it_sold_out_legal/name", "</div>\n            ", "/private/m_hp_rt_sold_for_x_legal/name", "sold_out", '\n                    <div class="lists-hotel-price-block__no-dates">\n                        ', "/private/cdm_hp_compare_continue_search_no_dates/name", "\n                    </div>\n                ", '\n\n                <div class="lists-hotel-price-block__button-container">\n                    ', '\n                        <a href="', '"\n                            class="b-button b-button_primary js-lists-book-current lists-hotel-price-block__button">\n                            <span class="b-button__text">\n                                ', "/private/cdm_hp_compare_reserve_cta/name", "\n                            </span>\n                        </a>\n                    ", '"\n                            class="b-button b-button_secondary lists-hotel-price-block__button js-lists-book-viewed lists-hotel-price-block__button--viewed">\n                            ', "/private/cdm_hp_compare_view_property/name", "\n                        </a>\n                    ", '\n                </div>\n            </div>\n        </div>\n\n        <span class="js-lists-remove-hotel lists-remove-hotel">\n            <i class="bicon bicon-btnclose"></i>\n        </span>\n    </div>\n' ], i = [ "b_ranked_as_best", "list_id", "id", "is_current", "absolute_url", "b_first_photo", "main_photo_270x200", "b_main_photos", "fe_mtv_class_adjust", "name", "cc1", "b_cc1", "b_countrycode", "b_common_cc1", "b_common_class_is_estimated", "ip_country", "b_locale", "fe_show_estimated_rating", "b_action", "fe_show_rating_tooltip", "decimal_halfstar", "rating_score", "b_common_class", "b_common_class_half", "b_common_rating_score_localized", "fe_small_stars", "fe_nostar_rating_stars", "b_lang", "rating_icon__path", "fe_custom_classes", "star_rating_dots_tooltip_zhcn", "fe_rating_symbols_height", "fe_china_estimated_rating", "fe_estimated_rating_tooltip_text", "fe_estimated_tooltip", "sr_unofficial_star_or_dot_rating_tooltip", "fe_style_rating_tooltip", "star_rating_text", "fe_exp_bh_quality_visual_test_vr_croatia", "sr_star_property", "b_accommodationtype_id", "star_rating_1_half", "star_rating_1", "star_rating_2_half", "star_rating_2", "star_rating_3_half", "star_rating_3", "star_rating_4_half", "star_rating_4", "star_rating_5", "sr_official_star_rating_tooltip", "b_common_stars_type", "loc_star_rating_color", "loc_star_rating_tracking", "hotel_class", "hotel_class_half", "hotel_class_is_estimated", "country", "city", "b_distance_formatted", "fe_mtv_property_name", "b_dev_server", "score", "dont_format_score", "fe_text", "text", "fe_subtext", "subtext", "fe_widget_subtext", "sample_size", "fe_formatted_sample_size", "align", "b_action_name_is_searchresults", "b_action_name_is_hotel", "b_is_desktop_site", "wrapper_tag_name", "fe_review_score_word_class_list", "fe_review_score", "custom_class", "review_adj_very_poor", "review_adj_poor", "review_adj_disappointing", "review_adj_average_passable", "review_adj_average_okay", "review_adj_pleasant", "low_score_adjectives", "fd_lp_header_rs", "review_adj_good", "review_adj_very_good", "review_adj_fabulous", "fe_review_score_word_copy", "review_adj_exceptional", "fe_widget_text", "prepend_text", "append_text", "fe_score", "prefix", "fe_score_word_name", "suffix", "fe_classname", "fe_widget_style", "style", "score_only", "fe_widget_layout", "layout", "fe_widget_align", "fe_widget_size", "size", "fe_badge_style", "fe_widget_class", "flip", "extra_classes", "fe_widget_id", "widget_id", "fe_rating", "fe_widget_text_element", "text_link_url", "text_link_target", "fe_rating_adj", "fe_widget_subtext_element", "subtext_link_url", "subtext_link_target", "review_score_widget", "b_site_type", "extra_attributes", "track_view", "prepend_html", "badge_link_url", "badge_link_target", "fe_formatted_score", "fe_is_alt_version", "append_html", "render", "hotel_review_nr", "hotel_review_score_non_localized", "location_review_score", "not_enough_text", "no_review_score_tab_02", "hotel_min_reviews", "mtv_property_name", "b_companyname", "fe_hotel_have_facilities", "b_hotel_facilities", "facility_class", "facility_title", "facility_icon", "availability", "num_nights", "b_av_type", "b_av_num_left", "b_av_accommodationtype_id", "b_av_sold_out_price", "sr_last_room_reserved", "b_type", "b_num_left", "b_sold_out_price", "b_av_message", "b_chain_requires_legal_copy", "b_guest_country", "b_bookings_owned", "b_partner_channel_id", "b_is_legal_exception_applied", "ap_completely_booked_property", "ap_completely_booked_fr", "b_ip_country", "ap_completely_booked", "b_hoteltype_id", "ap_completely_booked_apt", "hp_sold_out_new_3d", "sorry_last_available_room_booked_only_ellapsed_time_ago_apt", "sorry_last_available_room_booked_ellapsed_time_ago_apt", "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay", "villas_no_availability_message", "sorry_last_available_booked_ellapsed_time_ago", "sold_out", "available_on_dates_selected", "sr_low_avail_message_reserved", "sr_urgency_low_avail_message_availability_2", "fd_sold_out", "map_occupancy_disclaimer_1", "sr_gs_pinned_hotel_no_availability_num_rooms", "sbox_live_av_reserved_destination", "list_not_available", "book_from_list_no_dates", "likely_to_sell_out_soon", "/error/this_hotel_is_not_bookable/name", "/error/this_hotel_is_not_bookable_property/name", "validate_cc1_unavailable", "loc_row_legal_message_cant_book_from_your_country", "fe_cp_tooltip_unification_hotel_page", "last_room_generalised", "maps_sold_out_properties", "sr_sold_out_you_missed_it", "b_soldout_price_date", "b_sold_out_days_ago", "b_soldout_reservation_is_yesterday", "b_sold_out_today", "clear_urgency_sold_out_dates", "hp_rt_not_in_stock", "ext_preview_prop_message", "so_error_message_non_bookable_now", "b_is_temporary_closed", "clear_urgency_hp_no_availability_for_selected_dates", "clear_urgency_hp_sold_out_new_3d", "clear_urgency_sorry_last_available_room_booked_only_ellapsed_time_ago_apt", "clear_urgency_sorry_last_available_room_booked_ellapsed_time_ago_apt", "clear_urgency_sorry_hotel_has_no_rooms_available_your_stay", "clear_urgency_villas_no_availability_message", "clear_urgency_hp_last_available_elapsed_time", "clear_urgency_sold_out", "clear_urgency_available_on_dates_selected", "clear_urgency_sr_low_avail_message_reserved", "sr_urgency_low_avail_message_availability", "clear_urgency_fd_sold_out", "clear_urgency_map_occupancy_disclaimer_1", "clear_urgency_sbox_live_av_reserved_destination", "clear_urgency_list_not_available", "clear_urgency_book_from_list_no_dates", "clear_urgency_likely_to_sell_out_soon", "clear_urgncy_error_this_hotel_is_not_bookable", "clear_urgency_error_this_hotel_is_not_bookable_property", "maps_sold_out_properties_legal", "clear_urgency_sold_out_oos_dates", "hp_rt_not_in_stock_legal", "b_legal_override_for_av_messages", "book_now_url" ];
return _r_(function(n) {
_i_("269:4a151d54");
var o = "", r = this.fn;
function _(e) {
return _i_("269:9af7dd64"), r.MJ(r.MC(i[18]) + "" == "searchresults") ? (e += t[8], r.MN("b_is_legal_exception_applied", (r.MC(i[157]) || r.MJ(/nl|gb|fr|de|es|no/.test(r.MC(i[158]))) || r.MJ(/ie|nl|pl|gr|gb|dk|fr|it|se|de|ch/.test(r.MC(i[12])))) && (r.MC(i[159]) || r.MJ(2 == r.MC(i[160])))), e += t[220]) :r.MK(r.MC(i[161])) && (e += t[39], r.MN("b_is_legal_exception_applied", (r.MJ(/nl|gb|fr|de|es|no/.test(r.MC(i[158]))) || r.MJ(/ie|nl|pl|gr|gb|dk|fr|it|se|de|ch/.test(r.MC(i[12])))) && (r.MC(i[159]) || r.MJ(2 == r.MC(i[160])))), e += t[82]), e += t[82], _r_(e);
}
function a(e) {
return _i_("269:93d0d6c2"), r.MN("fe_rating", r.MI(r.MB(i[62])) + r.MI(0)), e += t[32], r.MN("fe_rating_adj", ""), e += t[82], r.MJ(r.MB(i[114]) >= 0) && r.MJ(r.MB(i[114]) < 3) && (e += t[101], r.MN("fe_rating_adj", "1"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 3) && r.MJ(r.MB(i[114]) < 4) && (e += t[101], r.MN("fe_rating_adj", "2"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 4) && r.MJ(r.MB(i[114]) < 5) && (e += t[101], r.MN("fe_rating_adj", "3"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 5) && r.MJ(r.MB(i[114]) < 5.6) && (e += t[101], r.MN("fe_rating_adj", "4"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 5.6) && r.MJ(r.MB(i[114]) < 6) && (e += t[101], r.MN("fe_rating_adj", "5"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 6) && r.MJ(r.MB(i[114]) < 7) && (e += t[101], r.MN("fe_rating_adj", "6"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 7) && r.MJ(r.MB(i[114]) < 8) && (e += t[101], r.MN("fe_rating_adj", "7"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 8) && r.MJ(r.MB(i[114]) < 8.6) && (e += t[101], r.MN("fe_rating_adj", "8"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 8.6) && r.MJ(r.MB(i[114]) < 9) && (e += t[101], r.MN("fe_rating_adj", "9"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 9) && r.MJ(r.MB(i[114]) < 9.5) && (e += t[101], r.MN("fe_rating_adj", "10"), e += t[82]), e += t[83], r.MJ(r.MB(i[114]) >= 9.5) && (e += t[101], r.MN("fe_rating_adj", "11"), e += t[82]), _r_(e);
}
function s(o) {
return _i_("269:7f0595d9"), o += t[164], r.MD(i[127]) ? (o += [ t[132], r.MB(i[127]), t[129] ].join(""), r.MD(i[128]) && (o += [ t[133], r.MB(i[128]), t[129] ].join(""))) :o += t[134], o += [ t[165], (n.unshift({
review_score_number:r.MB(i[129])
}), e = r.ME(t[166], r.MB, r.MN, null), n.shift(), e), t[167], r.MB(i[129]), t[168] ].join(""), o += r.MD(i[127]) ? t[139] :t[134], o += t[169], _r_(o);
}
function l(o) {
return _i_("269:9b2fcbeb"), o += t[164], r.MD(i[127]) ? (o += [ t[132], r.MB(i[127]), t[129] ].join(""), r.MD(i[128]) && (o += [ t[133], r.MB(i[128]), t[129] ].join(""))) :o += t[134], o += [ t[165], (n.unshift({
review_score_number:r.MB(i[129])
}), e = r.ME(t[166], r.MB, r.MN, null), n.shift(), e), t[167], r.MB(i[129]), t[168] ].join(""), o += r.MD(i[127]) ? t[139] :t[134], o += t[169], _r_(o);
}
function c(o) {
_i_("269:822e0ac9"), o += t[38];
var _ = r.MC(i[148]);
if (r.MJ(_ + "" == "completely_booked_property")) o += t[22], r.MN("b_av_message", r.MB(i[202])), o += t[39]; else if (r.MJ(_ + "" == "completely_booked_header")) o += t[22], r.MN("b_av_message", r.MB(i[202])), o += t[39]; else if (r.MJ(_ + "" == "hp_sold_out_new_3d")) o += t[22], r.MN("b_av_message", r.MB(i[203])), o += t[39]; else if (r.MJ(_ + "" == "sorry_last_available_room_booked_only_ellapsed_time_ago_apt")) o += t[22], r.MN("b_av_message", r.MB(i[204])), o += t[39]; else if (r.MJ(_ + "" == "sorry_last_available_room_booked_ellapsed_time_ago_apt")) o += t[22], r.MN("b_av_message", r.MB(i[205])), o += t[39]; else if (r.MJ(_ + "" == "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay")) o += t[22], r.MN("b_av_message", r.MB(i[206])), o += t[39]; else if (r.MJ(_ + "" == "villas_no_availability_message")) o += t[22], r.MN("b_av_message", r.MB(i[207])), o += t[39]; else if (r.MJ(_ + "" == "sorry_last_available_booked_ellapsed_time_ago")) o += t[22], r.MN("b_av_message", r.MB(i[208])), o += t[39]; else if (r.MJ(_ + "" == "sold_out")) o += t[22], r.MN("b_av_message", r.MB(i[209])), o += t[39]; else if (r.MJ(_ + "" == "sold_out_uc")) o += t[22], r.MN("b_av_message", r.ucfirst(r.MB(i[209]))), o += t[39]; else if (r.MJ(_ + "" == "sold_out_ucfirst")) o += t[22], r.MN("b_av_message", r.ucfirst(r.MB(i[209]))), o += t[39]; else if (r.MJ(_ + "" == "only_x_rooms_left")) o += t[22], r.MN(i[156], (n.unshift({
amountRooms:r.MC(i[149])
}), e = r.VP(t[278], r.MO(r.MC(i[149]), null, t[278])), n.shift(), e)), o += t[39]; else if (r.MJ(_ + "" == "only_x_rooms_left_for_price_generalised")) o += t[22], r.MN(i[156], (n.unshift({
amountRooms:r.MC(i[149])
}), e = r.VP(t[279], r.MO(r.MC(i[149]), null, t[279])), n.shift(), e)), o += t[39]; else if (r.MJ(_ + "" == "hp_rooms_table_only_x_left_without_price")) o += t[22], r.MN(i[156], r.VP(t[280], r.MO(r.MC(i[149]), null, t[280]))), o += t[39]; else if (r.MJ(_ + "" == "only_x_left_bdot_singleroom_tooltip")) o += t[22], r.MN(i[156], (n.unshift({
num_rooms:r.MC(i[149])
}), e = r.VP(t[281], r.MO(r.MC(i[149]), null, t[281])), n.shift(), e)), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_property_hours")) o += t[22], r.MN(i[156], r.VP(t[282], r.MO(r.MC(i[149]), null, t[282]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_property_days")) o += t[22], r.MN(i[156], r.VP(t[283], r.MO(r.MC(i[149]), null, t[283]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_property_weeks")) o += t[22], r.MN(i[156], r.VP(t[284], r.MO(r.MC(i[149]), null, t[284]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_soon_hours")) o += t[22], r.MN(i[156], r.VP(t[285], r.MO(r.MC(i[149]), null, t[285]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_soon_days")) o += t[22], r.MN(i[156], r.VP(t[286], r.MO(r.MC(i[149]), null, t[286]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_soon_week")) o += t[22], r.MN(i[156], r.VP(t[287], r.MO(r.MC(i[149]), null, t[287]))), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_by_hour")) o += t[22], r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[20], r.MN(i[156], (n.unshift({
num_vp_sellout_hours:r.MC(i[149])
}), e = r.ME(t[288], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[288])), n.shift(), e)), o += t[22]), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_by_day")) o += t[22], r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[20], r.MN(i[156], (n.unshift({
num_vp_sellout_days:r.MC(i[149])
}), e = r.ME(t[289], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[289])), n.shift(), e)), o += t[22]), o += t[39]; else if (r.MJ(_ + "" == "scarcity_sell_out_by_week")) o += t[22], r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[20], r.MN(i[156], (n.unshift({
num_vp_sellout_weeks:r.MC(i[149])
}), e = r.ME(t[290], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[290])), n.shift(), e)), o += t[22]), o += t[39]; else if (r.MJ(_ + "" == "available_on_dates_selected")) o += t[22], r.MN("b_av_message", r.MB(i[210])), o += t[39]; else if (r.MJ(_ + "" == "sr_low_avail_message_reserved")) o += t[22], r.MN("b_av_message", r.MB(i[211])), o += t[39]; else if (r.MJ(_ + "" == "sr_low_avail_message_available")) o += t[22], r.MN("b_av_message", r.MB(i[212])), o += t[39]; else if (r.MJ(_ + "" == "fd_sold_out")) o += t[22], r.MN("b_av_message", r.MB(i[213])), o += t[39]; else if (r.MJ(_ + "" == "fd_sold_out_js")) o += t[22], r.MN(i[156], r.F.js(r.MB(i[213]))), o += t[39]; else if (r.MJ(_ + "" == "map_occupancy_disclaimer_1")) o += t[22], r.MN("b_av_message", r.MB(i[214])), o += t[39]; else if (r.MJ(_ + "" == "sr_sold_out_message")) o += t[22], r.MN(i[156], r.VP(t[291], r.MO(r.MC(i[149]), null, t[291]))), o += t[39]; else if (r.MJ(_ + "" == "sr_pinned_hotel_no_room_occupancy")) o += t[22], r.MN(i[156], r.MB(i[180])), o += t[39]; else if (r.MJ(_ + "" == "sbox_live_av_reserved_destination")) o += t[22], r.MN(i[156], r.MB(i[215])), o += t[39]; else if (r.MJ(_ + "" == "list_not_available")) o += t[22], r.MN("b_av_message", r.MB(i[216])), o += t[39]; else if (r.MJ(_ + "" == "df_sold_out_hotels_explain")) o += t[22], r.MN("b_av_message", r.MB(i[152])), o += t[39]; else if (r.MJ(_ + "" == "book_from_list_no_dates")) o += t[22], r.MN("b_av_message", r.MB(i[217])), o += t[39]; else if (r.MJ(_ + "" == "likely_to_sell_out_soon")) o += t[22], r.MN("b_av_message", r.MB(i[218])), o += t[39]; else if (r.MJ(_ + "" == "this_hotel_is_not_bookable")) o += t[22], r.MJ(r.MB(i[15]) + "" != "us") && r.MJ(r.MC(i[12]) + "" == "cu") ? (o += t[20], r.MN(i[156], r.ME(t[292], r.MB, r.MN, null)), o += t[22]) :(o += t[20], r.MN(i[156], r.MB(i[219])), o += t[22]), o += t[39]; else if (r.MJ(_ + "" == "this_hotel_is_not_bookable_property")) o += t[22], r.MJ(r.MB(i[15]) + "" != "us") && r.MJ(r.MC(i[12]) + "" == "cu") ? (o += t[20], r.MN(i[156], r.ME(t[292], r.MB, r.MN, null)), o += t[22]) :(o += t[20], r.MN(i[156], r.MB(i[220])), o += t[22]), o += t[39]; else if (r.MJ(_ + "" == "bp_last_room")) o += t[22], r.MN(i[156], void 0), o += t[39]; else if (r.MJ(_ + "" == "maps_sold_out_properties")) o += t[22], r.MN(i[156], r.MB(i[221])), o += t[39]; else if (r.MJ(_ + "" == "sold_out_for_price")) {
o += t[22];
var a = "";
a += t[266], a += r.MD(i[189]) ? [ t[267], r.ME(t[245], r.MB, r.MN, null), t[268] ].join("") :[ t[269], r.ME(t[245], r.MB, r.MN, null), t[270] ].join(""), a += [ t[71], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[293], r.MB, r.MN, null), n.shift(), e), t[294] ].join(""), r.MN(i[156], a), o += t[39];
} else if (r.MJ(_ + "" == "sold_out_for_price_and_date")) {
if (o += t[22], r.MJ(r.MC(i[194]) <= 7) && r.MJ(r.MC(i[194]) > 3) ? (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[252], r.MB, r.MN, null), n.shift(), e)), o += t[22]) :r.MJ(r.MC(i[194]) >= 2) ? (o += t[20], r.MN(i[193], (n.unshift({
num_days:r.MC(i[194]),
price:r.MC(i[151])
}), e = r.ME(t[253], r.MB, r.MN, r.MO(r.MC(i[194]), null, t[253])), n.shift(), e)), o += t[22]) :r.MD(i[195]) ? (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[254], r.MB, r.MN, null), n.shift(), e)), o += t[22]) :r.MD(i[196]) && (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[255], r.MB, r.MN, null), n.shift(), e)), o += t[22]), o += t[65], r.MD(i[193])) {
o += t[20];
var a = "";
a += t[256], a += r.MD(i[189]) ? [ t[257], r.ME(t[245], r.MB, r.MN, null), t[258] ].join("") :[ t[259], r.ME(t[245], r.MB, r.MN, null), t[260] ].join(""), a += [ t[261], r.MC(i[193]), t[295] ].join(""), r.MN(i[156], a), o += t[22];
}
o += t[22], r.MN(i[193], void 0), o += t[39];
} else if (r.MJ(_ + "" == "sold_out_without_price")) {
o += t[22];
var a = "";
a += t[266], a += r.MD(i[189]) ? [ t[267], r.ME(t[245], r.MB, r.MN, null), t[268] ].join("") :[ t[269], r.ME(t[245], r.MB, r.MN, null), t[270] ].join(""), a += [ t[71], r.ME(t[296], r.MB, r.MN, null), t[297] ].join(""), r.MN(i[156], a), o += t[39];
} else r.MJ(_ + "" == "m_rt_sold_out_for") ? (o += t[22], r.MN(i[156], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[298], r.MB, r.MN, null), n.shift(), e)), o += t[39]) :r.MJ(_ + "" == "maps_iw_soldout_for_your_dates") ? (o += t[22], r.MN("b_av_message", r.MB(i[222])), o += t[39]) :r.MJ(_ + "" == "hp_not_available_for_your_dates") && (o += t[22], r.MN("b_av_message", r.MB(i[223])), o += t[39]);
return o += t[38], r.MD(i[201]) && (o += t[39], r.MN("b_av_message", r.MB(i[200])), o += t[38]), o += t[82], _r_(o);
}
function d(e) {
return _i_("269:635731a1"), e += t[82], r.MN("fe_review_score", r.MI(r.MB(i[62])) + r.MI(0)), e += t[32], r.MN("fe_review_score_word_tag", r.MB(i[75]) || "p"), e += t[32], r.MN("fe_review_score_word_class_list", "review-score-word"), e += t[32], r.MJ(r.MB(i[77]) >= 7) && (e += t[106], r.MN("fe_review_score_word_class_list", r.MB(i[76]) + " review-score-word--highlighted"), e += t[82]), e += t[83], r.MD(i[78]) && (e += t[106], r.MN("fe_review_score_word_class_list", r.MB(i[76]) + " " + r.MB(i[78])), e += t[82]), e += t[98], r.MD(i[85]) ? (e += t[106], r.MJ(r.MB(i[77]) >= 0) && r.MJ(r.MB(i[77]) < 3) && (e += t[107], r.MN("fe_review_score_word_copy", r.MB(i[79])), e += t[108]), e += t[106], r.MJ(r.MB(i[77]) >= 3) && r.MJ(r.MB(i[77]) < 4) && (e += t[107], r.MN("fe_review_score_word_copy", r.MB(i[80])), e += t[109]), e += t[106], r.MJ(r.MB(i[77]) >= 4) && r.MJ(r.MB(i[77]) < 5) && (e += t[107], r.MN("fe_review_score_word_copy", r.MB(i[81])), e += t[110]), e += t[106], r.MJ(r.MB(i[77]) >= 5) && r.MJ(r.MB(i[77]) < 5.6) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[82])), e += t[91]), e += t[106], r.MJ(r.MB(i[77]) >= 5.6) && r.MJ(r.MB(i[77]) < 6) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[83])), e += t[111]), e += t[106], r.MJ(r.MB(i[77]) >= 6) && r.MJ(r.MB(i[77]) < 7) && (e += t[107], r.MN("fe_review_score_word_copy", r.MB(i[84])), e += t[112]), e += t[82]) :(e += t[106], r.MJ(r.MB(i[77]) >= 0) && r.MJ(r.MB(i[77]) < 7) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[86])), e += t[91]), e += t[82]), e += t[82], r.MJ(r.MB(i[77]) >= 7) && r.MJ(r.MB(i[77]) < 8) && (e += t[107], r.MN("fe_review_score_word_copy", r.MB(i[87])), e += t[113]), e += t[82], r.MJ(r.MB(i[77]) >= 8) && r.MJ(r.MB(i[77]) < 8.6) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[88])), e += t[91]), e += t[82], r.MJ(r.MB(i[77]) >= 8.6) && r.MJ(r.MB(i[77]) < 9) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[89])), e += t[114]), e += t[83], r.MJ(r.MB(i[77]) >= 9) && r.MJ(r.MB(i[77]) < 9.5) && (e += t[91], r.MN(i[90], r.ME(t[115], r.MB, r.MN, null)), e += t[91]), e += t[32], r.MJ(r.MB(i[77]) >= 9.5) && (e += t[91], r.MN("fe_review_score_word_copy", r.MB(i[91])), e += t[91]), e += t[32], e += t[82], _r_(e);
}
function h(e) {
return _i_("269:e9b98d56"), e += t[98], r.MN("fe_score", r.MI(r.MB(i[62])) + r.MI(0)), e += t[32], r.MN("fe_score_word_name", ""), e += t[82], r.MJ(r.MB(i[95]) >= 0) && r.MJ(r.MB(i[95]) < 3) && (e += t[101], r.MN("fe_score_word_name", "very_poor"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 3) && r.MJ(r.MB(i[95]) < 4) && (e += t[101], r.MN("fe_score_word_name", "poor"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 4) && r.MJ(r.MB(i[95]) < 5) && (e += t[101], r.MN("fe_score_word_name", "disappointing"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 5) && r.MJ(r.MB(i[95]) < 5.6) && (e += t[101], r.MN("fe_score_word_name", "average_passable"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 5.6) && r.MJ(r.MB(i[95]) < 6) && (e += t[101], r.MN("fe_score_word_name", "average_okay"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 6) && r.MJ(r.MB(i[95]) < 7) && (e += t[101], r.MN("fe_score_word_name", "pleasant"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 7) && r.MJ(r.MB(i[95]) < 8) && (e += t[101], r.MN("fe_score_word_name", "good"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 8) && r.MJ(r.MB(i[95]) < 8.6) && (e += t[101], r.MN("fe_score_word_name", "very_good"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 8.6) && r.MJ(r.MB(i[95]) < 9) && (e += t[101], r.MN("fe_score_word_name", "fabulous"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 9) && r.MJ(r.MB(i[95]) < 9.5) && (e += t[101], r.MN("fe_score_word_name", "superb"), e += t[82]), e += t[83], r.MJ(r.MB(i[95]) >= 9.5) && (e += t[101], r.MN("fe_score_word_name", "exceptional"), e += t[82]), e += t[32], r.MN("fe_classname", ""), e += t[82], r.MJ(r.MB(i[95]) >= 0) && r.MJ(r.MB(i[95]) <= 10) && (e += t[116], r.MN("fe_classname", r.MB(i[96]) + "" + r.MB(i[97]) + r.MB(i[98])), e += t[117], r.MJ(r.MB(i[95]) < 7) && (e += t[118], r.MN("fe_classname", r.MB(i[99]) + " " + r.MB(i[96]) + "low" + r.MB(i[98])), e += t[101]), e += t[83]), e += t[82], _r_(e);
}
function u(o) {
_i_("269:7fea1ab6"), o += t[98], r.MN(i[148], void 0), o += t[82], r.MN(i[149], void 0), o += t[82], r.MN(i[150], void 0), o += t[82], r.MN(i[151], void 0), o += t[82], r.MN(i[152], r.ME(t[219], r.MB, r.MN, null)), o += t[83], r.MD(i[153]) && (o += t[38], r.MN(i[148], r.MC(i[153])), o += t[82]), o += t[83], r.MD(i[154]) && (o += t[38], r.MN(i[149], r.MC(i[154])), o += t[82]), o += t[83], r.MD(i[40]) && (o += t[38], r.MN(i[150], r.MC(i[40])), o += t[82]), o += t[83], r.MD(i[155]) && (o += t[38], r.MN(i[151], r.MC(i[155])), o += t[82]), o += t[83], r.MN(i[156], void 0), o += t[98], o = _(o), o += t[82], r.MN("b_legal_override_for_av_messages", r.MC(i[161])), o += t[98];
var a = r.MC(i[148]);
if (r.MJ(a + "" == "completely_booked_property")) o += t[39], r.MN("b_av_message", r.MB(i[162])), o += t[38]; else if (r.MJ(a + "" == "completely_booked_header")) {
o += t[39];
var s = "";
s += t[22], r.MJ(r.MC(i[27]) + "" == "fr") && r.MJ(r.MC(i[164]) + "" == "fr") && r.MJ(r.MC(i[12]) + "" == "fr") ? s += [ t[20], r.MB(i[163]), t[22] ].join("") :(s += t[20], s += r.MJ(2 == r.MC(i[166])) ? [ t[84], r.MB(i[167]), t[20] ].join("") :[ t[84], r.MB(i[165]), t[20] ].join(""), s += t[22]), s += t[39], r.MN(i[156], s), o += t[38];
} else if (r.MJ(a + "" == "hp_sold_out_new_3d")) o += t[39], r.MN("b_av_message", r.MB(i[168])), o += t[38]; else if (r.MJ(a + "" == "sorry_last_available_room_booked_only_ellapsed_time_ago_apt")) o += t[39], r.MN("b_av_message", r.MB(i[169])), o += t[38]; else if (r.MJ(a + "" == "sorry_last_available_room_booked_ellapsed_time_ago_apt")) o += t[39], r.MN("b_av_message", r.MB(i[170])), o += t[38]; else if (r.MJ(a + "" == "sorry_this_hotel_has_no_rooms_available_for_the_period_of_your_stay")) o += t[39], r.MN("b_av_message", r.MB(i[171])), o += t[38]; else if (r.MJ(a + "" == "villas_no_availability_message")) o += t[39], r.MN("b_av_message", r.MB(i[172])), o += t[38]; else if (r.MJ(a + "" == "sorry_last_available_booked_ellapsed_time_ago")) o += t[39], r.MN("b_av_message", r.MB(i[173])), o += t[38]; else if (r.MJ(a + "" == "sold_out")) o += t[39], r.MN("b_av_message", r.MB(i[174])), o += t[38]; else if (r.MJ(a + "" == "sold_out_uc")) o += t[39], r.MN("b_av_message", r.MB(i[174]).toUpperCase()), o += t[38]; else if (r.MJ(a + "" == "sold_out_ucfirst")) o += t[39], r.MN("b_av_message", r.ucfirst(r.MB(i[174]))), o += t[38]; else if (r.MJ(a + "" == "only_x_rooms_left")) o += t[39], r.MN(i[156], r.VP(t[221], r.MO(r.MC(i[149]), null, t[221]))), o += t[38]; else if (r.MJ(a + "" == "only_x_rooms_left_for_price_generalised")) o += t[39], r.MN(i[156], (n.unshift({
amountRooms:r.MC(i[149])
}), e = r.VP(t[222], r.MO(r.MC(i[149]), null, t[222])), n.shift(), e)), o += t[38]; else if (r.MJ(a + "" == "hp_rooms_table_only_x_left_without_price")) o += t[39], r.MN(i[156], r.VP(t[223], r.MO(r.MC(i[149]), null, t[223]))), o += t[38]; else if (r.MJ(a + "" == "only_x_left_bdot_singleroom_tooltip")) o += t[39], r.MN(i[156], (n.unshift({
amountRooms:r.MC(i[149])
}), e = r.VP(t[224], r.MO(r.MC(i[149]), null, t[224])), n.shift(), e)), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_property_hours")) o += t[39], r.MN(i[156], r.VP(t[225], r.MO(r.MC(i[149]), null, t[225]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_property_days")) o += t[39], r.MN(i[156], r.VP(t[226], r.MO(r.MC(i[149]), null, t[226]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_property_weeks")) o += t[39], r.MN(i[156], r.VP(t[227], r.MO(r.MC(i[149]), null, t[227]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_soon_hours")) o += t[39], r.MN(i[156], r.VP(t[228], r.MO(r.MC(i[149]), null, t[228]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_soon_days")) o += t[39], r.MN(i[156], r.VP(t[229], r.MO(r.MC(i[149]), null, t[229]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_soon_week")) o += t[39], r.MN(i[156], r.VP(t[230], r.MO(r.MC(i[149]), null, t[230]))), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_by_hour")) o += t[38], r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[39], r.MN(i[156], (n.unshift({
num_vp_sellout_hours:r.MC(i[149])
}), e = r.ME(t[231], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[231])), n.shift(), e)), o += t[38]), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_by_day")) o += t[38], r.MJ(r.MC(i[74])) && r.MJ(r.MC(i[72])) && r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[39], r.MN(i[156], (n.unshift({
num_vp_sellout_days:r.MC(i[149])
}), e = r.ME(t[232], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[232])), n.shift(), e)), o += t[38]), o += t[38]; else if (r.MJ(a + "" == "scarcity_sell_out_by_week")) o += t[38], r.MJ(r.MC(i[150])) && r.MJ(r.MC(i[149]) + "" != "") && (o += t[39], r.MN(i[156], (n.unshift({
num_vp_sellout_weeks:r.MC(i[149])
}), e = r.ME(t[233], r.MB, r.MN, r.MO(r.MC(i[149]), null, t[233])), n.shift(), e)), o += t[38]), o += t[38]; else if (r.MJ(a + "" == "available_on_dates_selected")) o += t[39], r.MN("b_av_message", r.MB(i[175])), o += t[38]; else if (r.MJ(a + "" == "sr_low_avail_message_reserved")) o += t[39], r.MN("b_av_message", r.MB(i[176])), o += t[38]; else if (r.MJ(a + "" == "sr_low_avail_message_available")) o += t[39], r.MN("b_av_message", r.MB(i[177])), o += t[38]; else if (r.MJ(a + "" == "fd_sold_out")) o += t[39], r.MN("b_av_message", r.MB(i[178])), o += t[38]; else if (r.MJ(a + "" == "fd_sold_out_js")) o += t[39], r.MN(i[156], r.F.js(r.MB(i[178]))), o += t[38]; else if (r.MJ(a + "" == "map_occupancy_disclaimer_1")) o += t[39], r.MN("b_av_message", r.MB(i[179])), o += t[38]; else if (r.MJ(a + "" == "sr_sold_out_message")) o += t[39], r.MN(i[156], r.VP(t[234], r.MO(r.MC(i[149]), null, t[234]))), o += t[38]; else if (r.MJ(a + "" == "sr_pinned_hotel_no_room_occupancy")) o += t[39], r.MN(i[156], r.MB(i[180])), o += t[38]; else if (r.MJ(a + "" == "sbox_live_av_reserved_destination")) o += t[235], r.MN(i[156], r.MB(i[181])), o += t[38]; else if (r.MJ(a + "" == "list_not_available")) o += t[235], r.MN("b_av_message", r.MB(i[182])), o += t[38]; else if (r.MJ(a + "" == "df_sold_out_hotels_explain")) o += t[235], r.MN("b_av_message", r.MB(i[152])), o += t[38]; else if (r.MJ(a + "" == "book_from_list_no_dates")) o += t[235], r.MN("b_av_message", r.MB(i[183])), o += t[38]; else if (r.MJ(a + "" == "likely_to_sell_out_soon")) o += t[39], r.MN("b_av_message", r.MB(i[184])), o += t[38]; else if (r.MJ(a + "" == "this_hotel_is_not_bookable")) o += t[39], r.MN(i[156], r.MB(i[185])), o += t[38]; else if (r.MJ(a + "" == "this_hotel_is_not_bookable_property")) o += t[39], r.MN(i[156], r.MB(i[186])), o += t[38]; else if (r.MJ(a + "" == "cant_book_in_this_country")) o += t[39], r.MN("b_av_message", r.MB(i[187])), o += t[38]; else if (r.MJ(a + "" == "cant_book_from_your_country")) o += t[39], r.MN("b_av_message", r.MB(i[188])), o += t[38]; else if (r.MJ(a + "" == "bp_last_room")) {
o += t[39];
var s = "";
s += t[236], s += r.MD(i[189]) ? [ t[237], r.F.js(r.VP(t[222], r.MO(r.MC(i[149]), null, t[222]))), t[238] ].join("") :[ t[239], r.F.js(r.VP(t[222], r.MO(r.MC(i[149]), null, t[222]))), t[240] ].join(""), s += [ t[241], r.MB(i[190]), t[242] ].join(""), r.MN(i[156], s), o += t[38];
} else if (r.MJ(a + "" == "maps_sold_out_properties")) o += t[39], r.MN(i[156], r.MB(i[191])), o += t[38]; else if (r.MJ(a + "" == "sr_last_room_reserved")) o += t[39], r.MN("b_av_message", r.MB(i[152])), o += t[38]; else if (r.MJ(a + "" == "sr_last_room_reserved_low_av")) o += t[39], r.MN("b_av_message", r.MB(i[192])), o += t[38]; else if (r.MJ(a + "" == "sold_out_for_price")) {
o += t[39];
var s = "";
s += t[243], s += r.MD(i[189]) ? [ t[244], r.ME(t[245], r.MB, r.MN, null), t[246] ].join("") :[ t[247], r.ME(t[245], r.MB, r.MN, null), t[248] ].join(""), s += [ t[249], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[250], r.MB, r.MN, null), n.shift(), e), t[251] ].join(""), r.MN(i[156], s), o += t[38];
} else if (r.MJ(a + "" == "sold_out_for_price_and_date")) {
if (o += t[22], r.MJ(r.MC(i[194]) <= 7) && r.MJ(r.MC(i[194]) > 3) ? (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[252], r.MB, r.MN, null), n.shift(), e)), o += t[22]) :r.MJ(r.MC(i[194]) >= 2) ? (o += t[20], r.MN(i[193], (n.unshift({
num_days:r.MC(i[194]),
price:r.MC(i[151])
}), e = r.ME(t[253], r.MB, r.MN, r.MO(r.MC(i[194]), null, t[253])), n.shift(), e)), o += t[22]) :r.MD(i[195]) ? (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[254], r.MB, r.MN, null), n.shift(), e)), o += t[22]) :r.MD(i[196]) && (o += t[20], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[255], r.MB, r.MN, null), n.shift(), e)), o += t[22]), o += t[65], r.MD(i[193])) {
o += t[20];
var s = "";
s += t[256], s += r.MD(i[189]) ? [ t[257], r.ME(t[245], r.MB, r.MN, null), t[258] ].join("") :[ t[259], r.ME(t[245], r.MB, r.MN, null), t[260] ].join(""), s += [ t[261], r.MC(i[193]) ].join(""), r.MN(i[156], s), o += t[22];
}
o += t[22], r.MN(i[193], void 0), o += t[38];
} else if (r.MJ(a + "" == "sold_out_for_price_and_date_beds")) {
if (o += t[39], r.MJ(r.MC(i[194]) <= 7) && r.MJ(r.MC(i[194]) > 3) ? (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[262], r.MB, r.MN, null), n.shift(), e)), o += t[39]) :r.MJ(r.MC(i[194]) >= 2) ? (o += t[22], r.MN(i[193], (n.unshift({
num_days:r.MC(i[194]),
price:r.MC(i[151])
}), e = r.ME(t[263], r.MB, r.MN, r.MO(r.MC(i[194]), null, t[263])), n.shift(), e)), o += t[39]) :r.MD(i[195]) ? (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[264], r.MB, r.MN, null), n.shift(), e)), o += t[39]) :r.MD(i[196]) && (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[265], r.MB, r.MN, null), n.shift(), e)), o += t[39]), o += t[8], r.MD(i[193])) {
o += t[22];
var s = "";
s += t[266], s += r.MD(i[189]) ? [ t[267], r.ME(t[245], r.MB, r.MN, null), t[268] ].join("") :[ t[269], r.ME(t[245], r.MB, r.MN, null), t[270] ].join(""), s += [ t[71], r.MC(i[193]) ].join(""), r.MN(i[156], s), o += t[39];
}
o += t[39], r.MN(i[193], void 0), o += t[36];
} else if (r.MJ(a + "" == "m_rt_sold_out_for")) o += t[39], r.MN(i[156], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[271], r.MB, r.MN, null), n.shift(), e)), o += t[38]; else if (r.MJ(a + "" == "sold_out_for_price_and_date_studios")) {
if (o += t[39], r.MJ(r.MC(i[194]) <= 7) && r.MJ(r.MC(i[194]) > 3) ? (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[272], r.MB, r.MN, null), n.shift(), e)), o += t[39]) :r.MJ(r.MC(i[194]) >= 2) ? (o += t[22], r.MN(i[193], (n.unshift({
num_days:r.MC(i[194]),
price:r.MC(i[151])
}), e = r.ME(t[273], r.MB, r.MN, r.MO(r.MC(i[194]), null, t[273])), n.shift(), e)), o += t[39]) :r.MD(i[195]) ? (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[274], r.MB, r.MN, null), n.shift(), e)), o += t[39]) :r.MD(i[196]) && (o += t[22], r.MN(i[193], (n.unshift({
price:r.MC(i[151])
}), e = r.ME(t[275], r.MB, r.MN, null), n.shift(), e)), o += t[39]), o += t[8], r.MD(i[193])) {
o += t[22];
var s = "";
s += t[266], s += r.MD(i[189]) ? [ t[267], r.ME(t[245], r.MB, r.MN, null), t[268] ].join("") :[ t[269], r.ME(t[245], r.MB, r.MN, null), t[270] ].join(""), s += [ t[71], r.MC(i[193]) ].join(""), r.MN(i[156], s), o += t[39];
}
o += t[39], r.MN(i[193], void 0), o += t[38];
} else if (r.MJ(a + "" == "sold_out_without_price")) {
o += t[39];
var s = "";
s += t[243], s += r.MD(i[189]) ? [ t[244], r.ME(t[245], r.MB, r.MN, null), t[246] ].join("") :[ t[247], r.ME(t[245], r.MB, r.MN, null), t[248] ].join(""), s += [ t[249], r.ME(t[276], r.MB, r.MN, null), t[277] ].join(""), r.MN(i[156], s), o += t[38];
} else r.MJ(a + "" == "maps_iw_soldout_for_your_dates") ? (o += t[39], r.MN("b_av_message", r.MB(i[197])), o += t[38]) :r.MJ(a + "" == "hp_not_available_for_your_dates") ? (o += t[39], r.MN("b_av_message", r.MB(i[198])), o += t[38]) :r.MJ(a + "" == "this_is_just_a_previsualization") && (o += t[39], r.MN("b_av_message", r.MB(i[199])), o += t[38]);
return o += t[32], r.MD(i[201]) && (o += t[38], r.MN("b_av_message", r.MB(i[200])), o += t[82]), o += t[98], o += t[98], r.MD(i[224]) && (o += t[38], o = c(o), o += t[82]), o += t[82], _r_(o);
}
function f(o) {
_i_("269:1800c212"), o += t[99], r.MJ(r.MC(i[61])) && r.MJ(/,/.test(r.MB(i[62]))) && (o += t[100]), o += t[32], r.MJ(r.MB(i[63])) || r.MJ(/,/.test(r.MB(i[62]))) ? (o += t[101], r.MN("fe_formatted_score", r.MB(i[62])), o += t[82]) :(o += t[101], r.MN("fe_formatted_score", r.format_review_score_plain(r.MI(0) + r.MI(r.MB(i[62])))), o += t[82]), o += t[83];
var _ = "";
_ += t[102], _ += r.MJ(r.MB(i[65])) ? r.MB(i[65]) :t[103], _ += t[102], r.MN(i[64], _), o += t[83];
var _ = "";
_ += t[102], r.MJ(r.MB(i[67])) ? (_ += t[102], _ += r.MJ(r.MB(i[67]) + "" != "none") && r.MJ(r.MB(i[64]) + "" == "none") ? t[104] :[ t[102], r.MB(i[67]), t[102] ].join(""), _ += t[102]) :_ += t[103], _ += t[102], r.MN(i[66], _), o += t[32];
var _ = "";
_ += t[102], (r.MJ(r.MB(i[67])) && r.MJ(r.MB(i[67]) + "" == "auto") || r.MK(r.MB(i[67]))) && r.MJ(r.MB(i[69])) ? (_ += t[102], r.MN("fe_formatted_sample_size", r.format_number(r.MB(i[69]))), _ += [ t[102], (n.unshift({
num_reviews:r.MB(i[70])
}), e = r.VP(t[105], r.MO(r.MI(r.MC(i[69])) + r.MI(0), null, t[105])), n.shift(), e), t[102] ].join("")) :r.MJ(r.MB(i[67]) + "" != "none") && r.MJ(r.MB(i[67]) + "" != "auto") && (_ += [ t[102], r.MB(i[67]), t[102] ].join("")), _ += t[102], r.MN(i[68], _), o += t[32], r.MN("fe_is_alt_version", r.MJ(r.MB(i[71]) + "" == "right")), o += t[98], r.MJ(r.MC(i[74])) && (o += t[38], r.MJ(r.track_experiment("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe")), o += t[36], (r.MJ(r.MC(i[72])) || r.MJ(r.MC(i[73]))) && r.MJ(r.MB(i[69]) > 50) && r.MJ(r.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 1)), o += t[36], r.MJ(r.MC(i[72])) && r.MJ(r.MB(i[69]) > 50) && r.MJ(r.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 2)), o += t[36], r.MJ(r.MC(i[73])) && r.MJ(r.MB(i[69]) > 50) && r.MJ(r.track_experiment_stage("cce_www_sr_hp_hotel_review_buckets", 3)), o += t[82]), o += t[32], n.unshift({
low_score_adjectives:r.MB(i[85]),
score:r.MI(0) + r.MI(r.MB(i[62]))
}), o = d(o), n.shift(), o += t[83];
var _ = "";
_ += t[102], r.MJ(r.MB(i[65])) && r.MJ(r.MB(i[65]) + "" == "auto") || (r.MK(r.MB(i[65])) || r.MJ(r.MB(i[65]) + "" == "none")) && r.MJ(r.MB(i[68]) + "" != "") ? _ += [ t[102], r.MB(i[90]), t[102] ].join("") :r.MJ(r.MB(i[65])) && r.MJ(r.MB(i[65]) + "" != "none") && (_ += [ t[102], r.MB(i[65]), t[102] ].join("")), _ += t[102], r.MN(i[92], _), o += t[83], r.MD(i[92]) && (o += t[101], r.MN("fe_widget_text", r.MB(i[93]) + "" + r.MB(i[92]) + r.MB(i[94])), o += t[82]), o += t[32], r.MN("score_only", r.MJ(r.MB(i[92]) + "" == "") && r.MJ(r.MB(i[68]) + "" == "")), o += t[99], n.unshift({
prefix:t[119],
score:r.MI(0) + r.MI(r.MB(i[62]))
}), o = h(o), n.shift(), o += t[82], r.MN("fe_widget_class", r.MB(i[99])), o += t[83], r.MJ(r.MB(i[62]) < 2.5) && (o += t[101], r.MN("fe_widget_class", "review-score-widget__empty"), o += t[82]), o += t[98];
var _ = "";
r.MD(i[101]) && (_ += [ t[119], r.MB(i[101]), t[91] ].join("")), r.MD(i[102]) && (_ += t[120]), r.MN(i[100], _), o += t[98];
var _ = "";
r.MJ(r.MB(i[104])) && r.MK(r.MB(i[102])) && (_ += [ t[119], r.MB(i[104]), t[91] ].join("")), r.MN(i[103], _), o += t[98];
var _ = "";
r.MJ(r.MB(i[71]) + "" == "right") && r.MK(r.MB(i[102])) && (_ += [ t[119], r.MB(i[71]), t[91] ].join("")), r.MN(i[105], _), o += t[98];
var _ = "";
r.MJ(r.MB(i[107]) + "" == "smaller") ? _ += t[121] :r.MJ(r.MB(i[107]) + "" == "small") ? _ += t[122] :r.MJ(r.MB(i[107]) + "" == "large") ? _ += t[123] :r.MJ(r.MB(i[107]) + "" == "larger") && (_ += t[124]), r.MN(i[106], _), o += t[32];
var _ = "";
(r.MJ(r.MB(i[101]) + "" == "outlined") || r.MJ(r.MB(i[101]) + "" == "text-only")) && (_ += [ r.MB(i[101]), t[91] ].join("")), r.MN(i[108], _), o += t[32];
var _ = "";
_ += [ t[125], r.MB(i[109]), t[91], r.MB(i[100]), t[91], r.MB(i[103]), t[91], r.MB(i[105]), t[91], r.MB(i[106]), t[91] ].join(""), r.MK(r.MB(i[68])) && (_ += t[126]), _ += t[91], r.MD(i[110]) && (_ += t[127]), _ += t[91], r.MD(i[111]) && (_ += [ t[91], r.MB(i[111]) ].join("")), _ += t[91], r.MN(i[109], _), o += t[32];
var _ = "";
r.MD(i[113]) && (_ += [ t[128], r.MB(i[113]), t[129] ].join("")), r.MN(i[112], _), o += t[130], o = a(o), o += t[83], o += t[83];
var _ = "";
_ += t[101], r.MD(i[92]) && (_ += t[131], r.MD(i[116]) ? (_ += [ t[132], r.MB(i[116]), t[129] ].join(""), r.MD(i[117]) && (_ += [ t[133], r.MB(i[117]), t[129] ].join(""))) :_ += t[134], _ += [ t[135], (n.unshift({
rating_adjective:r.MB(i[118])
}), e = r.ME(t[136], r.MB, r.MN, null), n.shift(), e), t[137], r.MB(i[92]), t[138] ].join(""), _ += r.MD(i[116]) ? t[139] :t[134], _ += t[140]), _ += t[82], r.MN(i[115], _), o += t[83];
var _ = "";
_ += t[101], r.MD(i[68]) && (_ += t[131], r.MD(i[120]) ? (_ += [ t[132], r.MB(i[120]), t[129] ].join(""), r.MD(i[121]) && (_ += [ t[133], r.MB(i[121]), t[129] ].join(""))) :_ += t[141], _ += [ t[142], (n.unshift({
num_reviews:r.MB(i[70])
}), e = r.ME(t[143], r.MB, r.MN, null), n.shift(), e), t[144] ].join(""), r.MJ(r.MC(i[74])) && r.MJ(r.MC(i[72])) && (_ += [ t[145], r.F.entities("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe"), t[146] ].join("")), _ += t[147], _ += r.MJ(r.MC(i[74])) && r.MJ(r.track_experiment("ZCPQLOLOLOCcBUKZaZXeIJNZGCTKe")) && r.MJ(r.MB(i[69]) > 50) ? [ t[22], (n.unshift({
num_reviews:t[149]
}), e = r.ME(t[148], r.MB, r.MN, null), n.shift(), e), t[39] ].join("") :[ t[22], r.F.entities(r.MB(i[68])), t[39] ].join(""), _ += t[138], _ += r.MD(i[120]) ? t[139] :t[134], _ += t[140]), _ += t[82], r.MN(i[119], _), o += t[150];
var _ = "";
return _ += [ t[151], r.MB(i[112]), t[152] ].join(""), _ += r.MB(i[109]), r.MJ(r.MC(i[61])) && r.MJ(r.MC(i[123]) + "" == "www") && r.MJ(!1) && (_ += t[153]), _ += t[154], r.MD(i[124]) && (_ += [ t[155], r.MB(i[124]), t[156] ].join("")), _ += t[156], r.MD(i[125]) && (_ += [ t[157], r.MC(i[125]), t[154] ].join("")), _ += t[158], r.MJ(r.MB(i[62]) < 2.5) ? _ += t[159] :(_ += t[160], r.MD(i[126]) && (_ += [ t[156], r.MB(i[126]), t[118] ].join("")), _ += t[161], r.MD(i[130]) ? (_ += t[162], r.MJ(r.MB(i[104]) + "" == "inline") ? (_ += [ t[163], r.MB(i[119]), t[155], r.MB(i[115]), t[155] ].join(""), _ = l(_), _ += t[156]) :(_ += t[155], r.MJ(r.MB(i[101]) + "" == "text-only") ? (_ += [ t[170], r.MB(i[115]), t[171] ].join(""), _ = s(_), _ += [ t[171], r.MB(i[119]), t[155] ].join("")) :(_ += t[170], (r.MJ(r.MB(i[92])) || r.MJ(r.MB(i[68]))) && (_ += [ t[172], r.MB(i[115]), t[173], r.MB(i[119]), t[174] ].join("")), _ += t[171], _ = s(_), _ += t[155]), _ += t[156]), _ += t[160]) :(_ += t[162], r.MJ(r.MB(i[101]) + "" == "text-only") || r.MJ(r.MB(i[104]) + "" == "inline") ? (_ += t[163], _ = l(_), _ += [ t[155], r.MB(i[115]), t[155], r.MB(i[119]), t[156] ].join("")) :(_ += t[163], _ = l(_), _ += t[155], (r.MJ(r.MB(i[92])) || r.MJ(r.MB(i[68]))) && (_ += [ t[175], r.MB(i[115]), t[176], r.MB(i[119]), t[177] ].join("")), _ += t[156]), _ += t[160]), _ += t[160], r.MD(i[131]) && (_ += [ t[156], r.MB(i[131]), t[118] ].join("")), _ += t[160]), _ += t[178], r.MN(i[122], _), o += t[179], r.MN(i[65], void 0), o += t[82], r.MN(i[67], void 0), o += t[82], r.MN(i[62], void 0), o += t[82], r.MN(i[69], void 0), o += t[82], r.MN(i[132], void 0), o += t[82], r.MN(i[111], void 0), o += t[82], r.MN(i[124], void 0), o += t[82], r.MN(i[107], void 0), o += t[82], r.MN(i[101], void 0), o += t[82], r.MN(i[104], void 0), o += t[82], r.MN(i[71], void 0), o += t[82], r.MN(i[85], void 0), o += t[82], r.MN(i[113], void 0), o += t[150], o += r.MJ(r.MB(i[132]) + "" == "no") ? t[180] :[ t[117], r.MB(i[122]), t[82] ].join(""), o += t[82], _r_(o);
}
function p(o) {
if (_i_("269:ae7d3e60"), o += [ "", t[32] ].join(""), r.MJ(r.MC(i[22])) && r.MJ(r.MC(i[22]) > 0)) {
o += t[33], r.MN("fe_china_estimated_rating", r.MJ(r.MB(i[10]) + "" == "cn") || r.MJ(r.MC(i[11]) + "" == "cn") || r.MJ(r.MC(i[12]) + "" == "cn") || r.MJ(r.MC(i[13]) + "" == "cn")), o += t[34], r.MN("fe_show_estimated_rating", r.MJ(/^ph$/.test(r.MC(i[13]))) || r.MC(i[14]) && r.MJ(/^de|ru|fr|be$/.test(r.MC(i[13]))) || r.MJ(r.MB(i[15]) + "" == "us") && r.MJ(r.MC(i[16]) + "" == "en-us")), o += t[35], r.MN("fe_show_rating_tooltip", (r.MJ(r.MC(i[13]) + "" == "de") || r.MB(i[17]) && r.MJ(!/^fr|be$/.test(r.MC(i[13])))) && r.MJ(/^searchresults|hotel$/.test(r.MC(i[18])))), o += t[34], r.MN("fe_style_rating_tooltip", r.MB(i[19]) && r.MJ(r.MC(i[18]) + "" == "searchresults")), o += t[36], r.MN(i[20], t[37]), o += t[38];
var _ = "";
if (_ += r.MC(i[22]), r.MD(i[23]) && (_ += r.MB(i[20])), r.MN(i[21], _), o += t[35], r.MD(i[24]) ? (o += t[39], r.MN(i[21], r.MC(i[24])), o += t[38]) :(r.MJ(5 == r.MB(i[21])) || r.MJ(5.5 == r.MB(i[21]))) && r.MJ(r.MC(i[23])) ? (o += t[39], r.MN(i[21], t[40]), o += t[38]) :(o += t[39], r.MN(i[21], r.format_number_decimal(r.MB(i[21]))), o += t[38]), o += t[34], r.MD(i[25]) ? (o += t[41], r.MN("fe_rating_symbols_height", "8"), o += t[38]) :(o += t[39], r.MN("fe_rating_symbols_height", "10"), o += t[38]), o += t[42], r.MD(i[32])) {
o += t[43], r.MN("fe_nostar_rating_stars", "{nostar_rating_filter_" + r.MC(i[22]) + "}"), o += t[44], r.MJ(r.MB(i[26])) && r.MJ(r.MC(i[27]) + "" == "zh") && (o += [ t[45], r.MB(i[26]), t[46] ].join("")), o += t[47];
var _ = "";
_ += [ t[48], parseInt(r.MC(i[22])) ].join(""), r.MJ(r.MC(i[23])) && r.MJ(parseInt(r.MC(i[22])) < 5) && (_ += t[49]), r.MN(i[28], _), o += t[50], r.MD(i[29]) && (o += r.MC(i[29])), o += t[20], r.MD(i[30]) && (o += t[51]), o += [ t[52], r.MB(i[30]), t[53] ].join(""), n.unshift({
height:r.MB(i[31]),
name:r.MB(i[28])
}), e = r.HELPER("icon", n[0]), n.shift(), o += e, o += t[54];
} else if (r.MJ(r.MB(i[17]))) {
o += t[8], r.MN(i[21], [ r.MB(i[21]), t[55] ].join("")), o += t[8], (r.MJ(r.MB(i[19])) || r.MJ(r.MB(i[34]))) && (o += t[22], r.MD(i[34]) ? (o += t[20], r.MN(i[33], r.MC(i[34])), o += t[22]) :(o += t[20], r.MN(i[33], r.MB(i[35])), o += t[22]), o += t[39]), o += t[56];
var _ = "";
_ += [ t[48], parseInt(r.MC(i[22])) ].join(""), r.MJ(r.MC(i[23])) && r.MJ(parseInt(r.MC(i[22])) < 5) && (_ += t[49]), r.MN(i[28], _), o += t[57], r.MD(i[29]) && (o += r.MC(i[29])), o += t[22], (r.MJ(r.MB(i[36])) || r.MJ(r.MC(i[18]) + "" == "searchresults") && r.MJ(r.MB(i[34]))) && (o += t[51]), o += [ t[58], r.MB(i[33]), t[59] ].join(""), r.MJ(r.MC(i[18]) + "" == "searchresults") && (o += t[60]), o += t[61], o += [ (n.unshift({
height:r.MB(i[31]),
name:r.MB(i[28])
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[62], r.MB(i[33]), t[63] ].join(""), o += t[64];
} else if (r.MJ(r.MB(i[38]))) {
o += t[65], r.MN(i[21], [ r.MB(i[21]), t[55] ].join("")), o += t[47];
var _ = "";
_ += [ t[48], parseInt(r.MC(i[22])) ].join(""), r.MJ(r.MC(i[23])) && r.MJ(parseInt(r.MC(i[22])) < 5) && (_ += t[49]), r.MN(i[28], _), o += t[66], r.MD(i[29]) && (o += r.MC(i[29])), o += t[67], (r.MJ(r.MB(i[19])) || r.MJ(r.MC(i[18]) + "" != "searchresults")) && (o += [ t[68], r.MB(i[37]), t[69] ].join("")), o += t[20], r.MD(i[36]) && (o += t[70]), o += t[71], o += [ (n.unshift({
height:r.MB(i[31]),
name:r.MB(i[28])
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[72], r.MB(i[37]), t[63] ].join(""), o += t[73];
} else {
if (o += t[39], r.MJ(204 != r.MC(i[40]))) o += t[74], r.MN(i[37], r.MB(i[39])), o += t[39]; else {
o += t[22];
var _ = "";
r.MJ(1 == r.MC(i[22])) ? _ += r.MD(i[23]) ? r.MB(i[41]) :r.MB(i[42]) :r.MJ(2 == r.MC(i[22])) ? _ += r.MD(i[23]) ? r.MB(i[43]) :r.MB(i[44]) :r.MJ(3 == r.MC(i[22])) ? _ += r.MD(i[23]) ? r.MB(i[45]) :r.MB(i[46]) :r.MJ(4 == r.MC(i[22])) ? _ += r.MD(i[23]) ? r.MB(i[47]) :r.MB(i[48]) :r.MJ(5 == r.MC(i[22])) && (_ += r.MB(i[49])), r.MN(i[37], _), o += t[39];
}
o += t[8], r.MD(i[19]) && (o += t[22], r.MN(i[37], r.MB(i[50])), o += t[39]), o += t[8], r.MN(i[51], r.MC(i[51]) || "4"), o += t[56];
var _ = "";
_ += [ t[75], parseInt(r.MC(i[22])) ].join(""), r.MJ(r.MC(i[23])) && r.MJ(parseInt(r.MC(i[22])) < 5) && (_ += t[49]), r.MN(i[28], _), o += t[76], r.MD(i[29]) && (o += r.MC(i[29])), o += t[20], r.MD(i[36]) && (o += t[51]), o += [ t[77], r.MB(i[52]), t[78] ].join(""), (r.MJ(r.MB(i[19])) || r.MJ(r.MC(i[18]) + "" != "searchresults")) && (o += [ t[79], r.MB(i[37]), t[59] ].join("")), o += t[22], r.MD(i[36]) && (o += t[80]), o += [ t[22], r.MB(i[53]), t[61] ].join(""), o += [ (n.unshift({
height:r.MB(i[31]),
name:r.MB(i[28])
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[62], r.MB(i[37]), t[63] ].join(""), o += t[81];
}
o += t[82];
}
return o += [ t[83], "", t[82] ].join(""), _r_(o);
}
function b(o) {
return _i_("269:0382122b"), o += [ "", t[98] ].join(""), r.MJ(r.MB(i[134]) > 0) ? (o += t[38], n.unshift({
extra_classes:t[181],
sample_size:r.MB(i[133]),
score:r.MB(i[134])
}), o = f(o), n.shift(), o += t[36], r.MJ(r.MB(i[135]) > 0) && (o += [ t[182], r.ME(t[183], r.MB, r.MN, null), t[91], r.MC(i[135]), t[184] ].join("")), o += t[82]) :(o += t[101], r.MJ(r.MB(i[139])) && r.MJ(r.MB(i[138])) && (o += t[118], r.MN(i[136], [ t[156], (n.unshift({
min_num_reviews:r.MB(i[138]),
property_name:r.MB(i[139])
}), e = r.F.html(r.MB(i[137])), n.shift(), e), t[118] ].join("")), o += t[185]), o += [ t[186], r.ME(t[187], r.MB, r.MN, null), t[188] ].join(""), r.MJ(r.MC(i[140])) && (o += [ t[189], (n.unshift({
b_companyname:r.MC(i[140])
}), e = r.ME(t[190], r.MB, r.MN, null), n.shift(), e), t[155] ].join(""), r.MD(i[136]) && (o += [ t[191], r.MC(i[136]), t[192] ].join("")), o += t[193]), o += t[194]), o += [ t[83], "" ].join(""), _r_(o);
}
function m(e) {
return _i_("269:145a2c24"), e += [ t[204], r.MC(i[143]), t[205], r.F.entities(r.MC(i[144])), t[206], r.MC(i[145]), t[207] ].join(""), _r_(e);
}
function g(e) {
return _i_("269:0a2eb4bd"), e = u(e), e += r.MC(i[156]), _r_(e);
}
o += t[0], r.MD(i[0]) && (o += t[1]), o += [ t[2], r.MC(i[1]), t[3], r.MC(i[2]), t[4] ].join(""), r.MJ(r.MB(i[3])) && r.MK(r.MC(i[0])) && (o += [ t[5], r.ME(t[6], r.MB, r.MN, null), t[7] ].join("")), o += t[8], r.MD(i[0]) && (o += [ t[9], r.ME(t[10], r.MB, r.MN, null), t[11], r.ME(t[12], r.MB, r.MN, null), t[13] ].join("")), o += [ t[14], r.MC(i[4]), t[15], r.STATIC_HOSTNAME(r.MC(i[5]) ? r.MC(i[5]).b_photo_url :r.MB(i[6]), 0, 0, 0), t[16] ].join(""), r.MD(i[7]) && (o += [ t[17], r.MC(i[7]).length, t[18] ].join("")), o += t[19], r.MJ(r.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (o += t[20], r.MN(i[8], t[21]), o += t[22]), o += [ t[23], r.MC(i[8]), t[24] ].join(""), o += r.MD(i[3]) ? t[25] :t[26], o += [ t[27], r.F.text2entities(r.MB(i[9])), t[28], r.MC(i[4]), t[29], r.F.text2entities(r.MB(i[9])), t[30] ].join(""), r.MJ(r.MC(i[12])) && r.MJ(r.MB(i[54])) && r.MJ(r.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (o += t[31], n.unshift({
b_common_cc1:r.MC(i[12]),
b_common_class:r.MB(i[54]),
b_common_class_half:r.MB(i[55]),
b_common_class_is_estimated:r.MB(i[56])
}), o = p(o), n.shift(), o += t[84]), o += t[85], r.MK(r.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (o += t[86], o += [ t[87], r.STATIC_HOSTNAME("/static/img/flags/16/" + r.MB(i[10]) + ".png", 0, 0, 0), t[88], r.MC(i[57]), t[89], r.MC(i[58]), t[90], r.MC(i[57]), t[91] ].join(""), o += t[92]), o += t[93], r.MD(i[59]) && (o += [ t[94], (n.unshift({
distanceInKm:r.MC(i[59])
}), e = r.ME(t[95], r.MB, r.MN, null), n.shift(), e), t[96] ].join("")), o += t[97], r.MJ(r.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) ? (o += t[84], r.MN(i[60], r.F.text2entities(r.MB(i[9]))), o += t[84], n.unshift({
mtv_property_name:r.MB(i[60])
}), o = b(o), n.shift(), o += t[20]) :(o += t[84], r.MJ(r.MB(i[134]) > 0) && (o += t[31], n.unshift({
extra_classes:t[181],
sample_size:r.MB(i[133]),
score:r.MB(i[134])
}), o = f(o), n.shift(), o += t[84]), o += t[195], r.MJ(r.MB(i[135]) > 0) && (o += [ t[196], r.ME(t[183], r.MB, r.MN, null), t[91], r.MC(i[135]), t[197] ].join("")), o += t[20]), o += [ t[198], r.ME(t[199], r.MB, r.MN, null), t[200] ].join(""), r.MN(i[141], t[201]), o += t[202];
var v = r.MC(i[142]) || [];
n.unshift({
item:null
});
for (var y, w = 1, M = v.length; M >= w; w++) n[0].item = y = v[w - 1], o += t[31], r.MJ(r.MG((y || {}).available)) && (o += t[203], n.unshift({
facility_icon:r.MG((y || {}).icon),
facility_title:r.MG((y || {}).name_translated)
}), o = m(o), n.shift(), o += t[31], r.MN("fe_hotel_have_facilities", 1), o += t[31]), o += t[84];
return n.shift(), o += t[84], r.MK(r.MB(i[141])) && r.MJ(r.track_experiment("OOOTAIFBUXCeFIfEQYbTZCCQJBTAcHe")) && (o += [ t[208], r.ME(t[209], r.MB, r.MN, null), t[210] ].join("")), o += t[211], r.MJ(r.defined(r.MB(i[146]))) ? (o += t[84], r.MJ(r.MG((r.MC(i[146]) || {}).is_available)) ? o += [ t[212], r.MG((r.MC(i[146]) || {}).checkin_localized_date_short), t[213], r.MG((r.MC(i[146]) || {}).checkout_localized_date_short), t[214], (n.unshift({
num_nights:r.MG((r.MC(i[146]) || {}).nights)
}), e = r.ME(t[215], r.MB, r.MN, r.MO(r.MC(i[147]), null, t[215])), n.shift(), e), t[216], (r.MC(i[146]) || {}).price_pretty, t[217] ].join("") :(o += t[218], n.unshift({
b_type:t[299]
}), o = g(o), n.shift(), o += t[217]), o += t[20]) :o += [ t[300], r.ME(t[301], r.MB, r.MN, null), t[302] ].join(""), o += t[303], o += r.MD(i[3]) ? [ t[304], r.MC(i[225]), t[305], r.ME(t[306], r.MB, r.MN, null), t[307] ].join("") :[ t[304], r.MC(i[225]), t[308], r.ME(t[309], r.MB, r.MN, null), t[310] ].join(""), o += t[311], _r_(o);
});
}()), booking.jstmpl("lists_facility_badge", function() {
_i_("269:6a05b978");
var e = [ '\n    <span class="lists-hotel-facility-badge__wrapper">\n        <span class="lists-hotel-facility-badge__title jq_tooltip ', '"\n            title="', '">\n            <span class="lists-hotel-facility-badge__vicon-wrapper">\n                <i class="', '"></i>\n            </span>\n        </span>\n    </span>\n' ], t = [ "facility_class", "facility_title", "facility_icon" ];
return _r_(function(i) {
_i_("269:2c9ca44f");
var n = "", o = this.fn;
return n += [ e[0], o.MC(t[0]), e[1], o.F.entities(o.MC(t[1])), e[2], o.MC(t[2]), e[3] ].join(""), _r_(n);
});
}()), B.define("utils", function(e, t, i) {
_i_("269:1ae1366f"), t.assertExists = function(e, t) {
if (_i_("269:9d42554a"), "object" != typeof e || !(t in e)) throw new Error("Property " + t + " is not found");
_r_();
}, t.camelCaseKeys = function(e) {
_i_("269:dbbbdfa4");
var t, i, n = {};
for (t in e) e.hasOwnProperty(t) && (i = t.replace(/-([a-zA-Z])/g, function(e, t) {
return _i_("269:aefe3784"), _r_(t.toUpperCase());
}), n[i] = e[t]);
return _r_(n);
}, t.nodeData = function(e) {
_i_("269:c0d6317e"), e.jquery && (e = e[0]), this.assertExists(e, "attributes");
var t, i, n, o = {};
for (t = 0, i = e.attributes.length; i > t; t++) n = e.attributes[t], n && 0 == n.name.indexOf("data-") && (o[n.name.replace(/^data-/, "")] = n.value);
return _r_(this.camelCaseKeys(o));
}, _r_();
}), B.define("component/utils/jump-to", function(e, t, i) {
"use strict";
_i_("269:35604af8");
var n = e("component"), o = e("utils");
i.exports = n.extend({
init:function() {
_i_("269:1b384fe7"), this.options = o.nodeData(this.el), this.$el.on("click", r.bind(this)), _r_();
}
});
function r(e) {
_i_("269:4aab25da");
var t = $("html, body"), i = $(this.options.afterJump), n = $(this.options.jumpTo), o = this.options.afterJumpAction || "click";
if (!n.length) return _r_();
if (e.preventDefault(), n = n.eq(0), t.stop().animate({
scrollTop:n.offset().top + "px"
}, this.options.jumpToDuration || "fast"), !i.length) return _r_();
i.trigger(o), _r_();
}
_r_();
}), B.define("component/reviews/review-best-score", function(e, t, i) {
_i_("269:1579fa81");
var n = e("component"), o = e("crosstab"), r = "mtv_cnd_d_hp_best_review_seen_event";
i.exports = n.extend({
init:function() {
_i_("269:bf45a1e3"), this.initData(), this.initCrossTabEvents(), this.updateVisibility(), _r_();
},
initData:function() {
_i_("269:8c1d9d32"), this.hotelId = this.$el.data("current-hotel-id"), this.bestId = this.$el.data("best-hotel-id"), this.ufi = this.$el.data("ufi"), _r_();
},
initCrossTabEvents:function() {
_i_("269:086f50cd"), o.on(r, this.handleCrosstabEvent.bind(this)), o.emitStorageEvent(r, {
ufi:this.ufi,
bestId:this.bestId
}), _r_();
},
updateVisibility:function() {
_i_("269:96b08285");
var e = "review_list_best_review_message__hidden";
this.$el.toggleClass(e, this.hotelId !== this.bestId), _r_();
},
handleCrosstabEvent:function(e) {
_i_("269:981bbc35");
var t = e.payload;
if (t.ufi !== this.ufi) return _r_();
this.bestId = t.bestId, this.updateVisibility(), _r_();
}
}), _r_();
}), B.when({
events:"ready",
action:"hotel"
}).run(function(e) {
_i_("269:49563fd6");
var t = e("jquery");
!function() {
_i_("269:c2010e50");
var e, i = t("#rooms_table"), n = a(i), o = i.find(".bookNowWrap").find(".js-rt__summary__reserve-button");
function r() {
_i_("269:a3875354");
var e = i.find("select.b_room_selectbox"), n = i.find(".roomType");
o.before('<span class="rt-focus-catcher button-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'), o.after('<span class="rt-focus-catcher button-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'), e.each(function() {
_i_("269:2d6ae3fd"), t(this).after('<span class="rt-focus-catcher select-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'), _r_();
}), n.each(function() {
_i_("269:3176f020");
var e = t(this).find("a.js-track-hp-rt-room-name");
e.before('<span class="rt-focus-catcher title-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'), _r_();
}), _r_();
}
function _() {
_i_("269:13d71c98"), t(".rt-focus-catcher").on("focus", function(i) {
_i_("269:485ddc52"), i.preventDefault();
var r = t(this);
switch (!0) {
case r.hasClass("select-focus-catcher"):
o.focus(), e = r.prev();
break;

case r.hasClass("button-focus-catcher"):
if (r.hasClass("prev-catcher") && e && e.focus(), r.hasClass("next-catcher")) {
var _ = n.index(e);
n[_ + 1].focus();
}
break;

case r.hasClass("title-focus-catcher"):
var a = n.index(r.next());
o.focus(), e = n[a - 1];
}
_r_();
}), _r_();
}
function a(e) {
_i_("269:020f4bd0");
var i = t("a[href]:visible, area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):visible, iframe, object, embed, *[tabindex], *[contenteditable]");
return _r_(e.find(i));
}
r(), _(), _r_();
}(), _r_();
}), B.define("searchresults/filters", function(e, t, i) {
_i_("269:1cb697af");
function n(e, t) {
if (_i_("269:26f82492"), void 0 === t) {
this.id = e;
var i = e.split("-");
e = i[0], t = i[1];
} else this.id = e + "-" + t;
this.name = e, this.value = t, _r_();
}
t.Filter = n;
function o(e) {
_i_("269:741fa2ee"), this.filters = e || {}, _r_();
}
o.prototype.clone = function() {
return _i_("269:f7309801"), _r_(new o(Object.assign({}, this.filters)));
}, o.prototype.difference = function(e) {
_i_("269:bca1755a");
var t = function(e, t) {
return _i_("269:6c824e30"), _r_(t.filter(function(t) {
return _i_("269:db015fb9"), _r_(!(t.id in e));
}));
};
return _r_({
added:t(this.filters, e.toArray()),
removed:t(e.filters, this.toArray())
});
}, o.prototype.addFilter = function(e, t) {
_i_("269:3a32bc8d");
var i = new n(e, t), o = $("#filterbox_wrap [data-id='" + e + "-" + t + "']:first");
o.length && (i.description = o.find(".filter_label").text().trim()), this.filters[i.id] = i, _r_();
}, o.prototype.removeFilter = function(e, t) {
_i_("269:4d38f256");
var i = new n(e, t);
delete this.filters[i.id], _r_();
}, o.prototype.removeFiltersByName = function(e) {
if (_i_("269:b6f46ab1"), !e) return _r_();
var t = this.filters;
this.getByName(e).forEach(function(e) {
_i_("269:5613a110"), delete t[e.id], _r_();
}), _r_();
}, o.prototype.toString = function() {
_i_("269:5b9de0eb");
var e = this, t = Object.keys(this.filters).map(function(t) {
_i_("269:a8acdb28");
var i = e.filters[t];
return _r_(i.name + "=" + i.value);
}).join(";");
return _r_(t ? t + ";" :t);
}, o.prototype.getCount = function() {
return _i_("269:727cf06d"), _r_(Object.keys(this.filters).length);
}, o.prototype.toArray = function() {
_i_("269:cae573e3");
var e = [], t = this.filters;
return Object.keys(t).forEach(function(i) {
_i_("269:fe9a7e58"), e.push(t[i]), _r_();
}), _r_(e);
}, o.prototype.getByName = function(e) {
_i_("269:3d2c41f4");
var t = this.filters, i = Object.keys(t).reduce(function(e, i) {
_i_("269:dc0764d2");
var n = t[i];
return e[n.name] || (e[n.name] = []), e[n.name].push(n), _r_(e);
}, {});
return _r_(e ? i[e] || [] :i);
}, t.FilterCollection = o, t.parse = function(e) {
_i_("269:ba0096e4"), Array.isArray(e) && (e = e[0]);
var t = new o();
return e && e.split(";").forEach(function(e) {
if (_i_("269:6f0a8b61"), e) {
var i = e.split("=");
t.addFilter(i[0], i[1]);
}
_r_();
}), _r_(t);
}, t.getInstance = function(i) {
_i_("269:dc57c1c8");
var n = "undefined" == typeof i ? e("searchresults/env").get("b_selected_nflt_url_param_decoded") :i, o = t.parse(n);
return _r_(o);
}, _r_();
}), B.when({
events:"ready",
condition:B.env.b_exp_a11y_sb_accessible_facilities
}).run(function(e) {
_i_("269:85052a1e");
var t = "OTfdASFbLYdKQNQFaIDJNMTKe", i = B.env.b_exp_a11y_sb_accessible_facilities, n = e("jquery"), o = e("searchresults/filters"), r = "form.sb-searchbox", _ = "input[name=sb_accessible_facilities]", a = ".js-a11y-sb-accessible-facilities-tooltip", s = n(r);
s.each(function() {
_i_("269:e5fbbc43");
var e = n(this).find(_), o = e.closest(r), s = o.find('input[name="nflt"]');
if (!e.length || !s.length) return _r_();
if (o.on("submit", h.bind(o, e)), e.on("change.a11y_af", l.bind(e, s)), 2 === i || "2" === i) {
var u = n(this).find(a);
u.on("mouseenter", c.bind(u, t)), u.on("click", d.bind(u));
}
l.call(e, s), _r_();
});
function l(e) {
_i_("269:93743871");
var t = o.parse(e.val().trim());
this.prop("checked") ? (t.addFilter("hotelfacility", "25"), B.Search.tracker.trackEvent("accessibility_checkbox_checked_v" + i)) :(t.removeFilter("hotelfacility", "25"), B.Search.tracker.trackEvent("accessibility_checkbox_unchecked_v" + i)), e.val(t.toString()), _r_();
}
function c(e) {
_i_("269:13e7f1d9"), B.Search.tracker.trackEvent("accessibility_tooltip_icon_hovered"), B.et.customGoal(e, 3), _r_();
}
function d() {
_i_("269:8481e58e"), B.Search.tracker.trackEvent("accessibility_tooltip_icon_clicked"), _r_();
}
function h(e) {
_i_("269:96bc224f"), e.prop("checked") ? B.Search.tracker.trackEvent("accessibility_search_with_filter_v" + i) :B.Search.tracker.trackEvent("accessibility_search_without_filter_v" + i), _r_();
}
_r_();
}), booking.jstmpl("b_hp_rm_cinema_room_gallery", function() {
_i_("269:ffcaea3f");
var e = [ '\n    <div class="cinema_room_gallery__wrapper hidden">\n        <div class="cinema_room_gallery__header">\n            <button data-js-cinema-btn-close class="cinema_room_gallery__btn-close" type="button">×</button>\n            <h3 class="cinema_room_gallery__name">', '</h3>\n        </div>\n        <div class="cinema_room_gallery__body">\n            <button data-js-cinema-btn-prev\n                    class="cinema_room_gallery__btn-prev"\n                    type="button"></button>\n            <div class="cinema_room_gallery__main-img-wrapper">\n                ', '\n                    <img data-width="', '"\n                         data-height="', '"\n                         data-js-cinema-main\n                         data-js-index="', '"\n                         class="cinema_room_gallery__main-img hidden"\n                         src="', '"/>\n                ', '\n            </div>\n            <button data-js-cinema-btn-next\n                    class="cinema_room_gallery__btn-next"\n                    type="button"></button>\n        </div>\n        <div data-js-cinema-footer class="cinema_room_gallery__footer">\n            <div data-js-cinema-thumbwrapper class="cinema_room_gallery__thumb-wrapper">\n                ', '\n                    <img class="cinema_room_gallery__thumb-img"\n                         data-js-cinema-thumb\n                         data-js-index="', '"\n                         src="', "\n            </div>\n        </div>\n    </div>\n" ], t = [ "name", "photos", "null" ];
return _r_(function(i) {
_i_("269:97a2614c");
var n = "", o = this.fn;
n += [ e[0], o.MC(t[0]), e[1] ].join("");
var r = o.MC(t[1]) || [];
i.unshift({
photo:null
});
for (var _, a = 1, s = r.length; s >= a; a++) i[0].photo = _ = r[a - 1], n += [ e[2], (_ || {}).b_dimension_width_max1024x768, e[3], (_ || {}).b_dimension_height_max1024x768, e[4], a, e[5], o.STATIC_HOSTNAME(o.MB(t[2]), 0, 0, 0), (_ || {}).b_uri_max1024x768, e[6] ].join("");
i.shift(), n += e[7];
var r = o.MC(t[1]) || [];
i.unshift({
photo:null
});
for (var _, a = 1, s = r.length; s >= a; a++) i[0].photo = _ = r[a - 1], n += [ e[8], a, e[9], o.STATIC_HOSTNAME(o.MB(t[2]), 0, 0, 0), (_ || {}).b_uri_max200, e[6] ].join("");
return i.shift(), n += e[10], _r_(n);
});
}()), B.when({
action:"hotel",
events:"ready"
}).run(function(e) {
_i_("269:2281ff89"), window.setTimeout(function() {
_i_("269:d9386dfd");
var t = "BUcJPPBASMffaAJYeCIObTae", i = e("jquery"), n = e("et"), o = e("jstmpl");
if (!n && !n.track(t)) return _r_();
var r = {
$container:i("<div data-js-cinema-root>"),
triggerer:"[data-js-cinema-room-id]",
mainImage:"[data-js-cinema-main]",
thumbImage:"[data-js-cinema-thumb]",
btnNext:"[data-js-cinema-btn-next]",
btnPrev:"[data-js-cinema-btn-prev]",
btnClose:"[data-js-cinema-btn-close]",
footer:"[data-js-cinema-footer]",
thumbWrapper:"[data-js-cinema-thumbwrapper]",
errorImage:"//r.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",
errorThumb:"//r.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",
activeRoom:0,
activeImgIdx:0,
activeClass:"active",
hideClass:"hidden",
isOpened:!1,
template:o("b_hp_rm_cinema_room_gallery"),
cache:{},
room:B.env.b_cinematic_room_gallery_data || {},
currentThumb:null,
currentMain:null,
albumLength:0,
isRtl:i("body").hasClass("lang_is_rtl"),
getGallery:function() {
return _i_("269:2d1e3bc0"), _r_(this.cache[this.activeRoom]);
},
init:function() {
_i_("269:8bb5b530"), i("body").append(this.$container), this.bindEvents(), _r_();
},
bindEvents:function() {
_i_("269:b242387c"), i("body").delegate(this.triggerer, "click", i.proxy(this.roomClick, this)), _r_();
},
render:function() {
_i_("269:ff60f4d3");
var e = this.room[this.activeRoom];
if (e && e.photos && e.photos.length > 0) {
var t = this.template.render(e);
this.cache[this.activeRoom] = i(t), this.$container.append(this.getGallery()), this.getGallery().find("img").bind("error.loadingImage", i.proxy(this.handleImageError, this)), this.open();
}
_r_();
},
open:function() {
_i_("269:6a915edb"), this.isOpened = !0, this.currentThumb = this.getGallery().find(this.thumbImage), this.currentMain = this.getGallery().find(this.mainImage), this.albumLength = this.currentMain.length, this.getGallery().removeClass(this.hideClass), this.goIndex(0), this.toggleEventBinding(!0), n.stage(t, 1), _r_();
},
close:function() {
_i_("269:d2d99864");
for (var e in this.cache) this.cache.hasOwnProperty(e) && this.cache[e].addClass(this.hideClass);
this.isOpened = !1, this.toggleEventBinding(!1), _r_();
},
goNext:function() {
_i_("269:a614ffcb");
var e = 0;
this.activeImgIdx + 1 == this.albumLength ? e = 0 :this.activeImgIdx + 1 < this.albumLength && (e = this.activeImgIdx + 1), this.goIndex(e), _r_();
},
goPrev:function() {
_i_("269:b404f09a");
var e = 0;
0 == this.activeImgIdx ? e = this.albumLength - 1 :this.activeImgIdx > 0 && (e = this.activeImgIdx - 1), this.goIndex(e), _r_();
},
goIndex:function(e) {
_i_("269:50803c04"), this.currentThumb.removeClass(this.activeClass), this.currentThumb.eq(e).addClass(this.activeClass), this.currentMain.addClass(this.hideClass), this.currentMain.eq(e).removeClass(this.hideClass), this.activeImgIdx = e, this.adjustThumbs(), _r_();
},
roomClick:function(e) {
_i_("269:a52f2f50"), e.preventDefault(), this.activeRoom = i(e.target).data("js-cinema-room-id"), this.getGallery() ? this.open() :this.render(), _r_();
},
thumbClick:function(e) {
_i_("269:36a1b8d4"), e.preventDefault(), this.goIndex(i(e.target).data("js-index") - 1), _r_();
},
handleImageError:function(e) {
_i_("269:ca003d12");
var t = i(e.target);
t.unbind("error.loadingImage"), t.addClass("error"), t.hasClass("cinema_room_gallery__main-img") ? t.attr("src", this.errorImage) :t.attr("src", this.errorThumb), _r_();
},
adjustThumbs:function() {
_i_("269:f581a460");
var e = this.getGallery().find(this.footer), t = e.find(this.thumbWrapper), n = Math.floor(t.width()), o = Math.floor(e.width());
if (o >= n) return _r_();
var r = {}, _ = i(window).width(), a = this.currentThumb.eq(this.activeImgIdx), s = this.currentThumb.last(), l = Math.floor(s.width()), c = n - o + l, d = Math.floor(a.width());
if (this.isRtl) var h = Math.floor(_ - (a.offset().left + d)), u = Math.floor(_ - (t.offset().left + n)); else var h = Math.floor(a.offset().left), u = Math.floor(t.offset().left);
var f = (h - u) / n, p = this.isRtl ? "margin-right" :"margin-left";
r[p] = -Math.floor(c * f) + "px", i(this.thumbWrapper).stop().animate(r, "fast"), _r_();
},
handleKeyboard:function(e) {
if (_i_("269:0eb7533e"), !this.isOpened) return _r_();
switch (e.which || e.keyCode) {
case 27:
this.close();
break;

case 37:
this.isRtl ? this.goNext() :this.goPrev();
break;

case 39:
this.isRtl ? this.goPrev() :this.goNext();
break;

default:
return _r_();
}
_r_();
},
handleResize:function() {
_i_("269:6a1f0a73"), this.isOpened && this.adjustThumbs(), _r_();
},
toggleEventBinding:function(e) {
_i_("269:a0ce79c1"), e ? (this.$container.delegate(this.thumbImage, "click.cinemaGalleryThumb", i.proxy(this.thumbClick, this)), this.$container.delegate(this.btnClose, "click.cinemaGalleryClose", i.proxy(this.close, this)), this.$container.delegate(this.btnNext, "click.cinemaGalleryNext", i.proxy(this.goNext, this)), this.$container.delegate(this.btnPrev, "click.cinemaGalleryPrev", i.proxy(this.goPrev, this)), i(document).bind("keydown.cinemaGalleryKeys", i.proxy(this.handleKeyboard, this)), i(window).bind("resize.cinemaGalleryResize", i.proxy(this.handleResize, this))) :(this.$container.undelegate(this.thumbImage, "click.cinemaGalleryThumb"), this.$container.undelegate(this.btnClose, "click.cinemaGalleryClose"), this.$container.undelegate(this.btnNext, "click.cinemaGalleryNext"), this.$container.undelegate(this.btnPrev, "click.cinemaGalleryPrev"), i(document).unbind("keydown.cinemaGalleryKeys"), i(window).unbind("resize.cinemaGalleryResize")), _r_();
}
};
r.init(), _r_();
}, 1), _r_();
}), B.require([ "jquery", "et" ], function(e, t) {
_i_("269:111a22d0");
var i = "BUTOQbdMZEQDILSObIWe";
B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN, function(e, n) {
_i_("269:b46e06ff"), n.find(".js_hp_rt_lightbox_room_desc").data("autogen-no-trans") && t.stage(i, 2), _r_();
}), _r_();
}), B.define("component/core/ticker", function(e, t, i) {
_i_("269:f9a0097d");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("269:64ea6c89");
var e = this.$el.data("ticker-animation-delay") || 5e3, t = this.$el.data("ticker-animation-time") || 600, i = this.$el.data("ticker-stop-after-iterations") || NaN, n = this.$el.data("ticker-start-immediately");
this.timeoutId = null, this.current_message = 0, this.iterationIndex = 0, this.options = {
animationDelay:e,
animationTime:t,
iterations:i,
startImmediately:n
}, this.startImmediately() && this.startTicker(), _r_();
},
startTicker:function() {
_i_("269:51454187");
var e = this, t = this.$el.find("li"), i = e.options.iterations * t.length;
t.length > 1 && (e.timeoutId = setTimeout(function() {
_i_("269:c76dbc50"), e.animateListTicker(e, t, i), _r_();
}, e.options.animationDelay)), _r_();
},
animateListTicker:function(e, t, i) {
_i_("269:a8e808c4"), (e.iterationIndex < i || e.isAlwaysAnimated()) && (e.current_message = (e.current_message + 1) % t.length, t.fadeOut(e.options.animationTime), setTimeout(function() {
_i_("269:e50ea512"), t.eq(e.current_message).fadeIn(e.options.animationTime), _r_();
}, e.options.animationTime), e.timeoutId = setTimeout(function() {
_i_("269:c76dbc501"), e.animateListTicker(e, t, i), _r_();
}, e.options.animationDelay), e.iterationIndex++), _r_();
},
pauseTicker:function() {
_i_("269:ea1bb82c"), clearTimeout(this.timeoutId), this.timeoutId = null, _r_();
},
resetTicker:function() {
_i_("269:80bf0386"), this.pauseTicker(), this.$el.find("li").hide().first().show(), this.current_message = 0, this.iterationIndex = 0, _r_();
},
isAlwaysAnimated:function() {
return _i_("269:681af00a"), _r_(isNaN(this.options.iterations));
},
startImmediately:function() {
return _i_("269:93812141"), _r_(0 != this.options.startImmediately);
}
}), _r_();
}), B.define("component/cinematic-gallery/photo", function(e, t, i) {
"use strict";
_i_("269:1a2b9336");
var n = e("jquery"), o = e("component");
i.exports = o.extend({
init:function() {
_i_("269:831c16fb"), this.ratioMap = {
"1x1":1,
"3x2":1.5,
"4x3":1.333,
"8x5":1.666,
"16x9":1.778
}, this.wrapper = n(this.el), this.inner = n(this.el).find(".cinematic-g__photo__inner"), this.image = n(this.el).find(".cinematic-g__photo__main"), this.fit = this.inner.data("js-fit") || !1, this.ratio = this.inner.data("js-ratio") || !1, this.errorClass = "cinematic-g__photo--error", this.successClass = "cinematic-g__photo--success", this.fitWidthClass = "cinematic-g__photo--width", this.fitHeightClass = "cinematic-g__photo--height", !this.fit && this.ratio && (this.fit = "zoom"), this.addEventListeners(), this.isImageLoaded() && this.onImgSuccess(), _r_();
},
isImageLoaded:function() {
return _i_("269:81b8bc1f"), _r_(this.image[0].naturalWidth && this.image[0].naturalWidth > 0);
},
getRatioData:function() {
_i_("269:2b0f3f3f"), this.imgRatio = (this.image[0].naturalWidth || 0) / (this.image[0].naturalHeight || 1), this.innerRatio = this.ratio ? this.ratioMap[this.ratio] :!1, _r_();
},
onImgSuccess:function() {
_i_("269:d68e4c16"), this.inner.removeClass(this.errorClass), this.inner.addClass(this.successClass), this.setImageFit(), _r_();
},
onImgError:function() {
_i_("269:8c204652"), this.inner.removeClass(this.successClass), this.inner.addClass(this.errorClass), _r_();
},
setImageFit:function() {
_i_("269:50d4d189"), this.getRatioData(), this.fit && "zoom" === this.fit && this.inner.addClass(this.imgRatio >= this.innerRatio ? this.fitHeightClass :this.fitWidthClass), this.fit && "auto" === this.fit && this.inner.addClass(this.imgRatio < this.innerRatio ? this.fitHeightClass :this.fitWidthClass), _r_();
},
addEventListeners:function() {
_i_("269:bc973287"), this.image.on("error", n.proxy(this.onImgError, this)), this.image.on("load", n.proxy(this.onImgSuccess, this)), _r_();
}
}), _r_();
}), B.when({
action:"hotel",
events:"ready"
}).run(function() {
_i_("269:254c0011");
var e = window && window.devicePixelRatio ? window.devicePixelRatio :1;
function t() {
_i_("269:6f96e6e6");
var e = $("div.hp-gallery-container .slick-slide img");
$.each(e, function(e) {
_i_("269:81f758e1");
var t = $(this), i = t.data("highres"), n = new Image();
i && (n.onload = function() {
_i_("269:4eb521d6"), t.attr("src") ? t.attr("src", i) :t.data("lazy") && t.attr("data-lazy", i), _r_();
}, n.src = i), _r_();
}), _r_();
}
var i = "AENYeCIObTEcQSBONNIBEfMdeLAGO";
1 >= e && B.et.stage(i, 1), (e > 1 || B.et.track(i)) && t(), _r_();
}), B.when({
events:"ready"
}).require([], function() {
_i_("269:112efc6c"), B.env.track_wpx_tech_exp_name && (B.et.stage(B.env.track_wpx_tech_exp_name, B.env.track_wpx_tech_exp_name_stage), B.et.stage(B.env.track_wpx_tech_exp_name, 7)), _r_();
}), B.when({
action:"hotel",
events:"load",
experiment:"BUafVKdBYOWIBTUbERVHe"
}).run(function() {
_i_("269:cb7121f0"), $(document).ready(function() {
_i_("269:5853b0e4");
var e = $(".hp_nav_bar_wrapper"), t = e.parent(), i = $(".hp_nav_bar_wrapper_placeholder");
e.css("width", t.width() + "px");
var n = e.outerHeight(!0) + "px";
$(window).scroll(function() {
_i_("269:758a03a4"), !e.hasClass("hp_nav_bar_fixed") && $(window).scrollTop() >= t.offset().top ? (i.css("height", n), e.addClass("hp_nav_bar_fixed")) :e.hasClass("hp_nav_bar_fixed") && $(window).scrollTop() < t.offset().top && (e.removeClass("hp_nav_bar_fixed"), i.css("height", "")), _r_();
}), _r_();
}), _r_();
}), B.when({
events:"load",
condition:B.env.b_has_valid_dates && !B.env.b_hotel_blocks,
action:"hotel"
}).run(function(e) {
_i_("269:2882016f");
var t = e("jquery");
t(".show_more").show(), t(".show_more").click(function() {
_i_("269:d820d17b"), t(this).hide(), t(".other_availability").addClass("active"), _r_();
}), _r_();
}), B.when({
events:"load",
condition:B.env.b_has_valid_dates && !B.env.b_hotel_blocks && B.env.b_search_config,
action:"hotel"
}).run(function(e) {
_i_("269:c18895ef");
var t = e("jquery"), i = B.require("fragment"), n = ".js-pob-list-av", o = t(n);
r().then(_).then(a)["catch"](s);
function r() {
if (_i_("269:8f40e5f4"), !(B.env.b_hotel_id && B.env.b_checkin_date && B.env.b_checkout_date && B.env.b_search_config)) return _r_(Promise.reject(new Error("[WARN] Not loading AV data cause no valid params found for fragment call")));
var e = B.env.b_hotel_id, t = {
hid:e,
checkin:B.env.b_checkin_date,
checkout:B.env.b_checkout_date,
search_config:B.env.b_search_config,
simpleav:1
};
return _r_(i.call("searchresults.restricted_availability", t).then(function(t) {
if (_i_("269:e3b8c052"), !t[e]) return _r_(Promise.reject(new Error("[WARN] No available dates found for the hotel: " + e)));
return _r_(t[e]);
}));
}
function _(e) {
if (_i_("269:53d7c612"), !e) return _r_(Promise.reject(new Error("[WARN] got no data in appendDataToThePage")));
var t = B.jstmpl("pob_availability_list").render({
dates:e.dates,
hp_url_no_dates:e.hp_url_no_dates
});
o.html(t), _r_();
}
function a() {
_i_("269:7653cff9");
var e = ".js-pob-show_more-btn", t = ".js-pob-other_availability", i = "active", n = o.find(e);
n.show(), n.on("click", function() {
_i_("269:a05c2706"), n.hide(), o.find(t).addClass(i), _r_();
}), _r_();
}
function s(e) {
_i_("269:bd9479be"), o.hide(), _r_();
}
_r_();
}), booking.jstmpl("pob_availability_list", function() {
_i_("269:492b7342");
var e, t = [ "\n  ", "\n\n", '\n    <hr>\n\n    <h4 class="other_dates">', "/private/hp_sold_out_no_pobs_dates_with_avail/name", "</h4>\n    ", "\n        ", "<span>", "</span>", '\n        <div class="other_availability js-pob-other_availability ', "active", '">\n            <div class="availability_dates">\n                <a href="', '" class="js-pob-availability_date-item_link">\n                    ', " - ", '\n                </a>\n            </div>\n            <div class="availability_price">\n                <p>', "/private/hp_sold_out_no_pobs_x_nights_from/name", "</p>\n            </div>\n        </div>\n    ", "\n\n    ", '\n        <div>\n            <p class="show_more js-pob-show_more-btn">', "/private/hp_sold_out_no_pobs_show_more/name", ' <i class="bicon-downchevron"></i></p>\n        </div>\n    ', "\n" ], i = [ "dates", "av_length", "los", "av_price", "price_pretty", "sr_url_hh", "checkin", "checkout", "hp_url_no_dates" ];
return _r_(function(n) {
_i_("269:edc68b17");
var o = "", r = this.fn;
function _(o) {
if (_i_("269:0ec719c0"), o += [ "", t[1] ].join(""), r.MJ(r.array_length(r.MB(i[0])))) {
o += [ t[2], r.ME(t[3], r.MB, r.MN, null), t[4] ].join("");
var _ = r.MC(i[0]) || [];
n.unshift(null);
for (var a = 1, s = _.length; s >= a; a++) n[0] = _[a - 1], o += t[5], r.MN(i[1], r.MB(i[2])), o += t[5], r.MN(i[3], [ t[6], r.MB(i[4]), t[7] ].join("")), o += t[8], r.MJ(5 >= a) && (o += t[9]), o += [ t[10], r.MB(i[5]), t[11], r.DATE(r.MB(i[6]), "short_date_with_weekday", "", "", ""), t[12], r.DATE(r.MB(i[7]), "short_date_with_weekday", "", "", ""), t[13], (n.unshift({
num_nights:r.MB(i[1]),
price:r.MB(i[3])
}), e = r.ME(t[14], r.MB, r.MN, r.MO(r.MC(i[1]), null, t[14])), n.shift(), e), t[15] ].join("");
n.shift(), o += t[16], r.MJ(r.array_length(r.MB(i[0])) > 4) && (o += [ t[17], r.ME(t[18], r.MB, r.MN, null), t[19] ].join("")), o += t[1];
}
return o += [ t[1], "", t[20] ].join(""), _r_(o);
}
return o += t[0], n.unshift({
dates:r.MB(i[0]),
hp_url_no_dates:r.MB(i[8])
}), o = _(o), n.shift(), o += t[20], _r_(o);
});
}()), B.define("component/hotel/new-rooms-table/reservation-column/pob-message", function(e, t, i) {
_i_("269:dff7212e"), booking.jstmpl("pob_message_template", function() {
_i_("269:75a2452d");
var e, t = [ '\n    <div class="', "hprt-pob-message ", '"\n    >\n      <p class="hprt-pob-message_copy">\n        ', "/private/pob_sr_header_full/name", '\n      </p>\n      <a class="hprt-pob-message_cta js-hprt-pob-message_cta"\n      href="', '">\n        ', "\n          ", "/private/pb_ss_hp_banner_view_booking_cta/name", "\n        ", "/private/pb_ss_options_on_hp_view_upcoming_bookings_cta/name", "\n      </a>\n    </div>\n  " ], i = [ "num_bookings", "my_reservations_url" ];
return _r_(function(n) {
_i_("269:c732d889");
var o = "", r = this.fn;
return o += t[0], o += t[1], o += [ t[2], (n.unshift({
num_pob_bookings:r.MB(i[0])
}), e = r.ME(t[3], r.MB, r.MN, r.MO(r.MC(i[0]), null, t[3])), n.shift(), e), t[4], r.MC(i[1]), t[5] ].join(""), o += r.MJ(r.MB(i[0]) < 2) ? [ t[6], r.ME(t[7], r.MB, r.MN, null), t[8] ].join("") :[ t[6], r.ME(t[9], r.MB, r.MN, null), t[8] ].join(""), o += t[10], _r_(o);
});
}());
var n = e("component"), o = e("hotel/store");
i.exports = n.extend({
init:function() {
_i_("269:0d2995b2"), this.active = !1, this.global_num_bookings = 0, this.loadData().then(this.handleData.bind(this)).then(this.render.bind(this))["catch"](this.handleError.bind(this)), o.subscribe(this.onStoreUpdate.bind(this)), _r_();
},
onStoreUpdate:function() {
_i_("269:886b747e");
var e = o.getState();
e.roomsTable && e.roomsTable.js_selection && e.roomsTable.js_selection.roomCount ? this.activate() :this.deactivate(), _r_();
},
activate:function() {
_i_("269:73217c26"), this.active = !0, this.$el.show(), _r_();
},
deactivate:function() {
_i_("269:34ba636b"), this.active = !1, this.$el.hide(), _r_();
},
loadData:function() {
_i_("269:95291651");
var e = {
checkin:B.env.b_checkin_date,
checkout:B.env.b_checkout_date
};
return _r_(B.require("fragment").call("mybooking.open_bookings_full", e));
},
handleData:function(e) {
if (_i_("269:d751a167"), !e) return _r_();
var t, i;
try {
t = B.env.profile_menu.b_secure_hostname, i = B.env.b_query_params_with_lang;
} catch (n) {}
if (!t || !i) return _r_();
var o = t + "/myreservations" + i;
return this.global_num_bookings = e.info && e.info.num_bookings || 0, _r_({
num_bookings:this.global_num_bookings,
my_reservations_url:o || ""
});
},
handleError:function() {},
render:function(e) {
if (_i_("269:1883f510"), !e) return _r_();
var t, i;
if (!e.num_bookings) return _r_();
i = {
num_bookings:e.num_bookings,
my_reservations_url:e.my_reservations_url
}, t = B.jstmpl("pob_message_template").render(i), this.$el.html(t), this.active || this.deactivate(), _r_();
}
}), _r_();
}), function(e) {
"use strict";
_i_("269:6878ee96");
var t = e.require("jquery");
e.when({
action:"hotel",
experiment:"YWYHfZPdHdFaceaT",
events:"ready",
condition:t(".hp-closest-beaches__list").length
}).run(function(i) {
_i_("269:44e73d82");
var n = this.hash, o = i("et"), r = e.atlas.require("atlas-common-overlay"), _ = e.browserStorageHandler, a = this.variant();
t(document).on("click", ".hp-closest-beaches__map-trigger", function(e) {
_i_("269:5eccc137"), e.preventDefault(), o.customGoal(n, 3);
var i = t(this).find("a"), s = i.data("beachid");
s && (2 === a && _.addSessionValue("clicked-beach-id", s), r.open("geo-nearby-beaches-map", {}), o.stage(n, 2)), _r_();
}), t(document).on("mouseenter", ".hp-closest-beaches__map-trigger", function(e) {
_i_("269:6478a8a3"), o.customGoal(n, 2), _r_();
}), _r_();
}), _r_();
}(window.booking), function(e) {
"use strict";
_i_("269:39ecc9ef");
var t = "HMDIFMWBaUEVWNERT";
e.when({
events:"ready",
action:[ "index", "searchresults", "hotel" ],
experiment:t
}).run(function(e) {
_i_("269:75242732");
var i = e("jquery"), n = e("et"), o = e("search/searchbox/model").getInstance("main"), r = e("searchresults/filters"), _ = i("form.sb-searchbox"), a = _.find('input[name="nflt"]'), s = _.find('input[name="is_beach_ufi_search"]');
!a.length && _ && (_.append('<input type="hidden" name="nflt">'), a = _.find('input[name="nflt"]')), !s.length && _ && (_.append('<input type="hidden" name="is_beach_ufi_search">'), s = _.find('input[name="is_beach_ufi_search"]')), o.use("destination"), o.on("change", function(e, i) {
if (_i_("269:b5475f0a"), "destination" != e.group) return _r_();
var _ = o.destination, l = _.get();
if (_.ac.selected) if (l.ac_flags && l.ac_flags.beach_labeled_filter) {
var c = r.parse(a.val().trim());
c.addFilter("beachLabeledFilter", "1"), a.val(c.toString()), s.val(1), n.customGoal(t, 3);
} else n.customGoal(t, 2);
_r_();
});
var l = i("#filter_beachLabeledFilter a.filterelement.active");
l && l.on("click", function(e) {
_i_("269:0b03cc0f"), n.customGoal(t, 4), _r_();
}), _r_();
}), _r_();
}(window.booking, window, document), B.define("component/hotel/contact-host-desktop", function(e, t, i) {
_i_("269:b22e878f");
var n, o, r, _, a, s, l, c = e("component"), d = e("server-data"), h = e("lightbox"), u = e("jstmpl"), f = e("browser-storage-handler"), p = e("events"), b = e("jquery"), m = e("ga-tracker"), g = e("et"), v = "NAFQOYXbHeVSTYUdeUbXbDbcOGdIO", y = "NAFQOYXbPBePYDaKFBbSUTIHHcO", w = "NAFLSHYeRKTAZeOFXBeVYZUTHO", M = "NAFQOYXbPBePYAdJSWe", k = "NAFQOYXbPBePNLeVCBOWe", C = "NAFQOYXbPBePYaAbWccNATC", T = d.b_user_auth_level_is_low && g.track(k), x = T ? !0 :d.b_user_auth_level_is_high, E = b('[data-target="user_access_signup_menu"]'), S = {
customWrapperClassName:"contact-host-pre-booking-modal-wrapper",
preventBodyScroll:!0,
bOverflowVisible:!0
}, N = [ {
name:"hotel_id",
value:d.b_hotel_id
}, {
name:"lang",
value:d.b_lang
}, {
name:"user_id",
value:d.b_reg_user_id
} ], O = f.getSessionValue("contact_the_host_form_position");
function j() {
_i_("269:5606ab68"), B.command("show-auth-lightbox").run({
tab:"signin",
extraClass:"contact-host-pre-booking-login"
}), p.one("modal:close", function() {
_i_("269:d77a8911"), f.deleteSessionValue("show_contact_the_host_form"), _r_();
}), _r_();
}
function I() {
_i_("269:082d3aad"), h.show(o, S), r.off().on("submit", R), a.off().on("focus", function() {
_i_("269:09e3a774"), s.removeClass("invalid"), _r_();
}), p.emit("contactTheHost:show", o), p.one("modal:close", function() {
_i_("269:93e61b04"), p.emit("contactTheHost:hide", o), _r_();
}), m.trackEvent(m.hotelPageTracker, "Contact Host", "See the contact form"), _r_();
}
function A() {
if (_i_("269:fa0bb28a"), O = b(this).data("position"), l = b(this).data("origin"), I(), m.trackEvent(m.hotelPageTracker, "Contact Host", "CTA click"), d.b_user_auth_level_is_low && g.stage(k, 1), !d.b_user_auth_level_is_high) if (d.b_user_auth_level_is_low) {
if (T) return _r_();
m.trackEvent(m.hotelPageTracker, "Contact Host", "See enter password form");
} else m.trackEvent(m.hotelPageTracker, "Contact Host", "See login form");
_r_();
}
function P(e) {
return _i_("269:fb8a07e8"), _r_(!e.trim());
}
function L() {
_i_("269:dbc80cbe");
var e = a.val(), t = P(e);
return s.toggleClass("invalid", t), _r_(!t);
}
function $() {
_i_("269:be68dfcf");
var e = u("contactTheHostForm").render({
state:"SUCCESS",
fe_reg_user_email:d.fe_reg_user_email || "",
fe_hotel_id:d.b_hotel_id,
b_companyname:d.b_companyname
});
h.hide(), h.show(e, S), b('.contact-host-with-question__message_success [data-component="feedback-inline"]').loadComponents(), q(), g.stage(v, 1), g.stage(M, 1), g.customGoal(y, 2), g.customGoal(C, 3), _r_();
}
function D(e) {
_i_("269:0a61dfc2");
var t = u("contactTheHostForm").render({
state:"FAIL"
});
h.hide(), h.show(t, S), _.attr("disabled", !1), _r_();
}
function R(e) {
if (_i_("269:822864ef"), e.preventDefault(), !L()) return _r_();
_.attr("disabled", !0);
var t = [];
l && t.push({
name:"origin",
value:l
}), "bottom_cta" === l && t.push({
name:"bottom",
value:1
});
var i = b.ajax({
method:r.attr("method"),
xhrFields:{
withCredentials:!0
},
url:d.domain_for_book + "/contact_host",
data:r.serializeArray().concat(N, t)
});
i.done($), i.fail(D), p.emit("contactTheHost:submit", o), m.trackEvent(m.hotelPageTracker, "Contact Host", "Submit question"), g.customGoal(k, 1), g.stage(k, 2), "bottom" !== O ? g.stage(w, 5) :g.stage(w, 6), _r_();
}
function J() {
_i_("269:1fe7136e"), n.on("click", A), document.getElementById("wl252-modal__if") && m.trackEvent(m.hotelPageTracker, "Contact Host", "Welcome screen"), E.on("click", function() {
_i_("269:af2e3cb2"), m.trackEvent(m.hotelPageTracker, "Contact Host", "See signup form"), _r_();
}), _r_();
}
function F() {
_i_("269:f37438f2"), f.getSessionValue("show_contact_the_host_form") && (I(), f.deleteSessionValue("show_contact_the_host_form"), f.deleteSessionValue("contact_the_host_form_position")), _r_();
}
function H() {
_i_("269:a936023e"), n.on("click", function() {
_i_("269:13686fd9"), O = b(this).data("position"), j(), f.addSessionValue("show_contact_the_host_form", !0), f.addSessionValue("contact_the_host_form_position", O), d.b_user_auth_level_is_low && g.stage(k, 1), _r_();
}), _r_();
}
function q() {
_i_("269:81bd2911"), o = b(u("contactTheHostForm").render({
state:d.fe_reg_user_email ? "EDIT" :"NO_EMAIL",
languages_spoken:d.languages_spoken_by_hotelier,
b_companyname:d.b_companyname,
fe_reg_user_email:d.fe_reg_user_email || "",
b_original_url:d.b_original_url,
fe_pre_booking_asker_name:d.fe_pre_booking_asker_name,
b_free_cancellation_property:d.b_free_cancellation_property
})), r = b("form", o), _ = b(".contact-host-submit", r), a = b('[name="msg_body"]', r), s = a.closest(".contact-host__validation_wrapper"), J(), F(), _r_();
}
i.exports = c.extend({
init:function() {
if (_i_("269:1635e1e9"), n = b(".contact-host-with-question__open-form-button", this.el), o) return n.on("click", A), _r_();
x ? q() :H(), _r_();
}
}), _r_();
}), booking.jstmpl("contactTheHostForm", function() {
_i_("269:1627db8c");
var e, t = [ "\n\n  \n\n", '\n    <div class="contact-host-with-question__message-form"\n        >\n      <div class="contact-host__header">\n        <strong>', "</strong>\n        ", "/private/bhdc_pp_contact_host_form_header/name", '\n      </div>\n        <form class="bblp-form"\n            method="POST"\n            >\n\n        \n            <label class="contact-host__labels">', "/private/bhdc_pp_contact_host_form_question_header/name", '</label>\n            <div class="contact-host__validation_wrapper">\n                <textarea\n                    name="msg_body"\n                    rows="6"\n                    placeholder="', "/private/bhdc_pp_contact_host_form_question_1/name", "&#10;", "/private/bhdc_pp_contact_host_form_question_2/name", '"\n                    class="contact-host__form-fields contact-host__form-fields_textarea"></textarea>\n            </div>\n\n              <span class="contact-host__languages-spoken_header">', "/private/bhdc_pp_contact_host_form_languages_spoken/name", '</span>\n              <ul class="contact-host__languages-spoken">\n                ', "\n                  <li>\n                    ", "\n                  </li>\n                ", "\n              </ul>\n        \n        ", "\n            ", "<strong>", "</strong>", '\n\n            <label class="contact-host__checkbox">\n                ', "/private/bhdc_pp_contact_host_form_name_permission/name", '\n                <input type="checkbox" checked="checked" name="user_consent" value="1">\n                <span class="contact-host__checkmark"></span>\n            </label>\n        ', '\n\n\n        \n            <p class="contact-host__dissclaimer_required contact-host__divider">\n              ', "/private/bhdc_pp_contact_host_form_required_field_disclaimer/name", '\n            </p>\n\n            <button class="b-button b-button_primary call_to_action--wide contact-host-submit" name="save" value="save" type="submit">', "/private/bhdc_pp_contact_host_form_send_cta/name", '</button>\n\n            <p class="contact-host__dissclaimer">\n              ', "/private/bhdc_contact_form_confirmation_guest_footer/name", "</a>", "\n            </p>\n\n        </form>\n    </div>\n\n", '\n\n  \n\n  <div class="contact-host-with-question__message_success">\n    <div class="contact-host__header">', "/private/bhdc_pp_contact_host_form_success_header/name", "</div>\n\n\n      ", '\n        \n        <div class="contact-host__usp-margin">\n          <span class="feedback-message__header-success">', "/private/bhdc_www_contact_the_host_success_secure/name", "</span><br />\n\n          ", "\n            <b>", "</b>\n          ", "\n          ", "/private/bhdc_pp_contact_host_form_success_body/name", '<br />\n        </div>\n        <hr class="bui-divider bui-divider--light" />\n        <ul class="bui-list bui-list--text bui-list--icon bui-list--divided">\n          <li class="bui-list__item">\n              <span class="bui-list__icon" aria-role="presentation">\n                  ', "", "24", "iconset/checkmark_selected", "presentation", '\n              </span>\n              <div class="bui-list__body">\n                  ', "/private/bhdc_www_contact_the_host_success_customer_support/name", "\n              </div>\n          </li>\n        </ul>\n      ", '\n        \n        <span class="feedback-message__header-success">', "/private/bhdc_pp_contact_host_form_success_subheader/name", "</span><br />\n        ", "\n          <b>", "</b>\n        ", "\n        ", "\n      ", "\n\n      \n      \n      ", '<div class="inline-feedback inline-feedback_bordered bhdc_host_like_survey" data-component="feedback-inline"  data-poll="contact_host_like_survey">\n    <div data-view="index">\n        <span class="inline-feedback__title">', "/private/bhdc_success_msg_feedback_qu/name", '</span>\n        <input type="hidden" data-model="hotel_id" value="', '"/>\n        <span class="inline-feedback__link" data-action="submit showView" data-model="helpful" data-show-view="thankyou" data-model-value="1" data-et-click="', ':2">', "/private/bhdc_success_msg_feedback_yes/name", '</span>\n        <span class="inline-feedback__link" data-action="submit showView" data-show-view="sorry" data-show-view="sorry" data-model-value="0" data-et-click="', ':3">', "/private/bhdc_success_msg_feedback_no/name", '</span>\n    </div>\n    <div class="inline-feedback__hidden" data-view="thankyou">\n        ', "/private/bhdc_success_msg_feedback_thank_you/name", '\n    </div>\n    <div class="inline-feedback__hidden" data-view="sorry">\n        ', "\n    </div>\n</div>\n", "\n\n </div>\n", '\n  \n     <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">', "/private/bhdc_pp_contact_host_form_error_header/name", '</div>\n         <p class="feedback-message__header feedback-message__header-error">', "/private/bhdc_pp_contact_host_form_error_subheader/name", "</p>\n         <p>\n           ", "/private/bhdc_pp_contact_host_form_error_body/name", "\n         </p>\n    </div>\n\n", '\n  \n    <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">\n         ', "/private/bhdc_contact_host_no_email_error_header/name", '\n       </div>\n         <p class="feedback-message__header feedback-message__header-error">', "/private/bhdc_contact_host_no_email_error_subheader/name", "/private/bhdc_contact_host_no_email_error_body/name", "\n         </p>\n    </div>\n", "\n\n", "\n" ], i = [ "text", "languages_spoken", "fe_pre_booking_asker_name_in_bold", "fe_pre_booking_asker_name", "state", "b_companyname", "fe_user_email", "fe_reg_user_email", "fe_hotel_id" ];
return _r_(function(n) {
_i_("269:c5c83f72");
var o = "", r = this.fn;
function _(o) {
if (_i_("269:8e4070b4"), o += [ "", t[0] ].join(""), r.MJ(r.MB(i[4]) + "" == "EDIT")) {
o += [ t[1], r.MC(i[0]), t[2], r.ME(t[3], r.MB, r.MN, null), t[4], r.ME(t[5], r.MB, r.MN, null), t[6], r.ME(t[7], r.MB, r.MN, null), t[8], r.ME(t[9], r.MB, r.MN, null), t[10], r.ME(t[11], r.MB, r.MN, null), t[12] ].join("");
var _ = r.MC(i[1]) || [];
n.unshift({
language:null
});
for (var s, l = 1, c = _.length; c >= l; l++) n[0].language = s = _[l - 1], o += [ t[13], (s || {}).b_language_translated, t[14] ].join("");
if (n.shift(), o += t[15], r.MD(i[3])) {
o += t[16];
var d = "";
d += [ t[17], r.F.html(r.MB(i[3])), t[18] ].join(""), r.MN(i[2], d), o += [ t[19], (n.unshift({
user_name:r.MB(i[2])
}), e = r.ME(t[20], r.MB, r.MN, null), n.shift(), e), t[21] ].join("");
}
o += [ t[22], r.ME(t[23], r.MB, r.MN, null), t[24], r.ME(t[25], r.MB, r.MN, null), t[26], (n.unshift({
end_link:t[28],
start_link:"<a href='https://www.booking.com/content/privacy.html' target='_blank'>"
}), e = r.ME(t[27], r.MB, r.MN, null), n.shift(), e), t[29] ].join("");
} else r.MJ(r.MB(i[4]) + "" == "SUCCESS") ? (o += [ t[30], r.ME(t[31], r.MB, r.MN, null), t[32] ].join(""), r.MJ(r.track_experiment("NAFQOYXbHeVSTYUdeUbXbDbcOGdIO")) ? (o += [ t[33], (n.unshift({
b_companyname:r.MC(i[5])
}), e = r.ME(t[34], r.MB, r.MN, null), n.shift(), e), t[35] ].join(""), r.MN(i[6], [ t[36], r.F.entities(r.MC(i[7])), t[37] ].join("")), o += [ t[38], (n.unshift({
guest_email:r.MB(i[6])
}), e = r.ME(t[39], r.MB, r.MN, null), n.shift(), e), t[40], (n.unshift({
"class":t[41],
"data-width":t[42],
name:t[43],
role:t[44],
width:t[42]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[45], r.ME(t[46], r.MB, r.MN, null), t[47] ].join("")) :(o += [ t[48], r.ME(t[49], r.MB, r.MN, null), t[50] ].join(""), r.MN(i[6], [ t[51], r.F.entities(r.MC(i[7])), t[52] ].join("")), o += [ t[53], (n.unshift({
guest_email:r.MB(i[6])
}), e = r.ME(t[39], r.MB, r.MN, null), n.shift(), e), t[54] ].join("")), o += t[55], r.MJ(r.track_experiment("NAFQOYXbPBePYAdJSWe")) && (o += t[53], o = a(o), o += t[54]), o += t[69]) :r.MJ(r.MB(i[4]) + "" == "FAIL") ? o += [ t[70], r.ME(t[71], r.MB, r.MN, null), t[72], r.ME(t[73], r.MB, r.MN, null), t[74], r.ME(t[75], r.MB, r.MN, null), t[76] ].join("") :r.MJ(r.MB(i[4]) + "" == "NO_EMAIL") && (o += [ t[77], r.ME(t[78], r.MB, r.MN, null), t[79], r.ME(t[80], r.MB, r.MN, null), t[74], r.ME(t[81], r.MB, r.MN, null), t[82] ].join(""));
return o += [ t[83], "", t[84] ].join(""), _r_(o);
}
function a(e) {
return _i_("269:adb53469"), e += [ t[56], r.ME(t[57], r.MB, r.MN, null), t[58], r.F.entities(r.MC(i[8])), t[59], "NAFQOYXbPBePYAdJSWe", t[60], r.ME(t[61], r.MB, r.MN, null), t[62], "NAFQOYXbPBePYAdJSWe", t[63], r.ME(t[64], r.MB, r.MN, null), t[65], r.ME(t[66], r.MB, r.MN, null), t[67], r.ME(t[66], r.MB, r.MN, null), t[68] ].join(""), _r_(e);
}
return o = _(o), _r_(o);
});
}()), B.define("component/hotel/send-message-form", function(e, t, i) {
_i_("269:707bd61a");
var n = e("lightbox"), o = e("component"), r = e("hotel/store"), _ = e("hotel/redux/actionTypes"), a = e("jstmpl"), s = e("hotel/contact-host/utils"), l = e("ga-tracker");
i.exports = o.extend({
authCheckUpsInterval:null,
modalInstanceActive:!1,
template:a("sendMessageForm"),
init:function() {
_i_("269:14748658"), B.eventEmitter.on("modal:close", function() {
_i_("269:64747632"), this.modalInstanceActive && (r.dispatch({
type:_.SHOW_CONTACT_HOST_FORM,
value:!1
}), this.modalInstanceActive = !1), _r_();
}.bind(this)), r.subscribe(function() {
_i_("269:fbe89412");
var e = r.getState().contactHostMessage.isMessageFormVisible;
e && this.showForm(), _r_();
}.bind(this)), r.getState().contactHostMessage.isMessageFormVisible && B.env.b_user_auth_level_is_high && ($(".contact-host-with-question__open-form-button").trigger("click"), s.clearShowContactHostModalOnPageLoad()), _r_();
},
showForm:function() {
_i_("269:24b7e0e6"), n.hide();
var e = r.getState().contactHostMessage.messageStatus, t = {
customWrapperClassName:"contact-host-pre-booking-modal-wrapper",
preventBodyScroll:!0
};
n.show(this.template.render({
state:e,
languages_spoken:B.env.languages_spoken_by_hotelier,
b_companyname:B.env.b_companyname,
fe_reg_user_email:B.env.fe_reg_user_email || "",
b_original_url:B.env.b_original_url,
fe_pre_booking_asker_name:B.env.fe_pre_booking_asker_name,
b_free_cancellation_property:B.env.b_free_cancellation_property
}), t), this.modalInstanceActive = !0, $(document).loadComponents(), l.trackEvent(l.hotelPageTracker, "Contact Host", "See the contact form"), _r_();
}
}), _r_();
}), booking.jstmpl("sendMessageForm", function() {
_i_("269:1627db8c1");
var e, t = [ "\n\n  \n\n", '\n    <div class="contact-host-with-question__message-form"\n        >\n      <div class="contact-host__header">\n        <strong>', "</strong>\n        ", "/private/bhdc_pp_contact_host_form_header/name", '\n      </div>\n        <form class="bblp-form"\n            method="POST"\n            >\n\n        \n            <label class="contact-host__labels">', "/private/bhdc_pp_contact_host_form_question_header/name", '</label>\n            <div class="contact-host__validation_wrapper">\n                <textarea\n                    name="msg_body"\n                    rows="6"\n                    placeholder="', "/private/bhdc_pp_contact_host_form_question_1/name", "&#10;", "/private/bhdc_pp_contact_host_form_question_2/name", '"\n                    class="contact-host__form-fields contact-host__form-fields_textarea"></textarea>\n            </div>\n\n              <span class="contact-host__languages-spoken_header">', "/private/bhdc_pp_contact_host_form_languages_spoken/name", '</span>\n              <ul class="contact-host__languages-spoken">\n                ', "\n                  <li>\n                    ", "\n                  </li>\n                ", "\n              </ul>\n        \n        ", "\n            ", "<strong>", "</strong>", '\n\n            <label class="contact-host__checkbox">\n                ', "/private/bhdc_pp_contact_host_form_name_permission/name", '\n                <input type="checkbox" checked="checked" name="user_consent" value="1">\n                <span class="contact-host__checkmark"></span>\n            </label>\n        ', '\n\n\n        \n            <p class="contact-host__dissclaimer_required contact-host__divider">\n              ', "/private/bhdc_pp_contact_host_form_required_field_disclaimer/name", '\n            </p>\n\n            <button class="b-button b-button_primary call_to_action--wide contact-host-submit" name="save" value="save" type="submit">', "/private/bhdc_pp_contact_host_form_send_cta/name", '</button>\n\n            <p class="contact-host__dissclaimer">\n              ', "/private/bhdc_contact_form_confirmation_guest_footer/name", "</a>", "\n            </p>\n\n        </form>\n    </div>\n\n", '\n\n  \n\n  <div class="contact-host-with-question__message_success">\n    <div class="contact-host__header">', "/private/bhdc_pp_contact_host_form_success_header/name", "</div>\n\n\n      ", '\n        \n        <div class="contact-host__usp-margin">\n          <span class="feedback-message__header-success">', "/private/bhdc_www_contact_the_host_success_secure/name", "</span><br />\n\n          ", "\n            <b>", "</b>\n          ", "\n          ", "/private/bhdc_pp_contact_host_form_success_body/name", '<br />\n        </div>\n        <hr class="bui-divider bui-divider--light" />\n        <ul class="bui-list bui-list--text bui-list--icon bui-list--divided">\n          <li class="bui-list__item">\n              <span class="bui-list__icon" aria-role="presentation">\n                  ', "", "24", "iconset/checkmark_selected", "presentation", '\n              </span>\n              <div class="bui-list__body">\n                  ', "/private/bhdc_www_contact_the_host_success_customer_support/name", "\n              </div>\n          </li>\n        </ul>\n      ", '\n        \n        <span class="feedback-message__header-success">', "/private/bhdc_pp_contact_host_form_success_subheader/name", "</span><br />\n        ", "\n          <b>", "</b>\n        ", "\n        ", "\n      ", "\n\n      \n      \n      ", '<div class="inline-feedback inline-feedback_bordered bhdc_host_like_survey" data-component="feedback-inline"  data-poll="contact_host_like_survey">\n    <div data-view="index">\n        <span class="inline-feedback__title">', "/private/bhdc_success_msg_feedback_qu/name", '</span>\n        <input type="hidden" data-model="hotel_id" value="', '"/>\n        <span class="inline-feedback__link" data-action="submit showView" data-model="helpful" data-show-view="thankyou" data-model-value="1" data-et-click="', ':2">', "/private/bhdc_success_msg_feedback_yes/name", '</span>\n        <span class="inline-feedback__link" data-action="submit showView" data-show-view="sorry" data-show-view="sorry" data-model-value="0" data-et-click="', ':3">', "/private/bhdc_success_msg_feedback_no/name", '</span>\n    </div>\n    <div class="inline-feedback__hidden" data-view="thankyou">\n        ', "/private/bhdc_success_msg_feedback_thank_you/name", '\n    </div>\n    <div class="inline-feedback__hidden" data-view="sorry">\n        ', "\n    </div>\n</div>\n", "\n\n </div>\n", '\n  \n     <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">', "/private/bhdc_pp_contact_host_form_error_header/name", '</div>\n         <p class="feedback-message__header feedback-message__header-error">', "/private/bhdc_pp_contact_host_form_error_subheader/name", "</p>\n         <p>\n           ", "/private/bhdc_pp_contact_host_form_error_body/name", "\n         </p>\n    </div>\n\n", '\n  \n    <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">\n         ', "/private/bhdc_contact_host_no_email_error_header/name", '\n       </div>\n         <p class="feedback-message__header feedback-message__header-error">', "/private/bhdc_contact_host_no_email_error_subheader/name", "/private/bhdc_contact_host_no_email_error_body/name", "\n         </p>\n    </div>\n", "\n\n", "\n" ], i = [ "text", "languages_spoken", "fe_pre_booking_asker_name_in_bold", "fe_pre_booking_asker_name", "state", "b_companyname", "fe_user_email", "fe_reg_user_email", "fe_hotel_id" ];
return _r_(function(n) {
_i_("269:c5c83f721");
var o = "", r = this.fn;
function _(o) {
if (_i_("269:8e4070b41"), o += [ "", t[0] ].join(""), r.MJ(r.MB(i[4]) + "" == "EDIT")) {
o += [ t[1], r.MC(i[0]), t[2], r.ME(t[3], r.MB, r.MN, null), t[4], r.ME(t[5], r.MB, r.MN, null), t[6], r.ME(t[7], r.MB, r.MN, null), t[8], r.ME(t[9], r.MB, r.MN, null), t[10], r.ME(t[11], r.MB, r.MN, null), t[12] ].join("");
var _ = r.MC(i[1]) || [];
n.unshift({
language:null
});
for (var s, l = 1, c = _.length; c >= l; l++) n[0].language = s = _[l - 1], o += [ t[13], (s || {}).b_language_translated, t[14] ].join("");
if (n.shift(), o += t[15], r.MD(i[3])) {
o += t[16];
var d = "";
d += [ t[17], r.F.html(r.MB(i[3])), t[18] ].join(""), r.MN(i[2], d), o += [ t[19], (n.unshift({
user_name:r.MB(i[2])
}), e = r.ME(t[20], r.MB, r.MN, null), n.shift(), e), t[21] ].join("");
}
o += [ t[22], r.ME(t[23], r.MB, r.MN, null), t[24], r.ME(t[25], r.MB, r.MN, null), t[26], (n.unshift({
end_link:t[28],
start_link:"<a href='https://www.booking.com/content/privacy.html' target='_blank'>"
}), e = r.ME(t[27], r.MB, r.MN, null), n.shift(), e), t[29] ].join("");
} else r.MJ(r.MB(i[4]) + "" == "SUCCESS") ? (o += [ t[30], r.ME(t[31], r.MB, r.MN, null), t[32] ].join(""), r.MJ(r.track_experiment("NAFQOYXbHeVSTYUdeUbXbDbcOGdIO")) ? (o += [ t[33], (n.unshift({
b_companyname:r.MC(i[5])
}), e = r.ME(t[34], r.MB, r.MN, null), n.shift(), e), t[35] ].join(""), r.MN(i[6], [ t[36], r.F.entities(r.MC(i[7])), t[37] ].join("")), o += [ t[38], (n.unshift({
guest_email:r.MB(i[6])
}), e = r.ME(t[39], r.MB, r.MN, null), n.shift(), e), t[40], (n.unshift({
"class":t[41],
"data-width":t[42],
name:t[43],
role:t[44],
width:t[42]
}), e = r.HELPER("icon", n[0]), n.shift(), e), t[45], r.ME(t[46], r.MB, r.MN, null), t[47] ].join("")) :(o += [ t[48], r.ME(t[49], r.MB, r.MN, null), t[50] ].join(""), r.MN(i[6], [ t[51], r.F.entities(r.MC(i[7])), t[52] ].join("")), o += [ t[53], (n.unshift({
guest_email:r.MB(i[6])
}), e = r.ME(t[39], r.MB, r.MN, null), n.shift(), e), t[54] ].join("")), o += t[55], r.MJ(r.track_experiment("NAFQOYXbPBePYAdJSWe")) && (o += t[53], o = a(o), o += t[54]), o += t[69]) :r.MJ(r.MB(i[4]) + "" == "FAIL") ? o += [ t[70], r.ME(t[71], r.MB, r.MN, null), t[72], r.ME(t[73], r.MB, r.MN, null), t[74], r.ME(t[75], r.MB, r.MN, null), t[76] ].join("") :r.MJ(r.MB(i[4]) + "" == "NO_EMAIL") && (o += [ t[77], r.ME(t[78], r.MB, r.MN, null), t[79], r.ME(t[80], r.MB, r.MN, null), t[74], r.ME(t[81], r.MB, r.MN, null), t[82] ].join(""));
return o += [ t[83], "", t[84] ].join(""), _r_(o);
}
function a(e) {
return _i_("269:adb534691"), e += [ t[56], r.ME(t[57], r.MB, r.MN, null), t[58], r.F.entities(r.MC(i[8])), t[59], "NAFQOYXbPBePYAdJSWe", t[60], r.ME(t[61], r.MB, r.MN, null), t[62], "NAFQOYXbPBePYAdJSWe", t[63], r.ME(t[64], r.MB, r.MN, null), t[65], r.ME(t[66], r.MB, r.MN, null), t[67], r.ME(t[66], r.MB, r.MN, null), t[68] ].join(""), _r_(e);
}
return o = _(o), _r_(o);
});
}()), B.define("component/hotel/contact-host-bouncing-survey", function(e, t, i) {
_i_("269:545cad63");
var n, o, r, _ = e("component"), a = e("jquery"), s = e("events"), l = e("et"), c = "NAFQOYXbPBePNRTNKJKfUIJSWe", d = a("body"), h = a(document), u = 9e4, f = 3e4, p = l.track(c);
function b() {
if (_i_("269:4f2f08e2"), o) return _r_();
var e = n.html();
h.off("mouseleave.contact-host-bouncing-survey"), o = a(e), d.append(o), o[0].offsetHeight, o.addClass("contact_host__survey-active"), o.loadComponents(), r = !!a(".bui-avatar-block", o).length, a('[data-banner-dismiss="contact-host-survey-banner"]', o).on("click", function(e) {
_i_("269:0ab99b56"), e.stopPropagation(), l.stage(c, 7), m(), _r_();
}), a(".contact-host-with-question__open-form-button", o).on("click", function() {
_i_("269:7f8ef271"), r ? l.stage(c, 5) :l.stage(c, 6), s.one("contactTheHost:show", function(e) {
_i_("269:e3e1e16e"), e.data("origin", "contact-host-bouncing-survey"), _r_();
}), s.one("contactTheHost:hide", function(e) {
_i_("269:924f7c3f"), e.removeData("origin"), _r_();
}), _r_();
}), l.stage(c, 2), r ? l.stage(c, 3) :l.stage(c, 4), _r_();
}
function m() {
if (_i_("269:20c4670b"), !o) return _r_();
o.removeClass("contact_host__survey-active"), setTimeout(function() {
_i_("269:c3baea99"), o.remove(), _r_();
}, 1e3), _r_();
}
i.exports = _.extend({
init:function() {
_i_("269:8dc92572"), n = this.$el;
var e = p ? b :function() {
_i_("269:5f9a9ab7"), l.stage(c, 2), h.off("mouseleave.contact-host-bouncing-survey"), _r_();
}, t = setTimeout(e, u), i = new Date();
s.on("contactTheHost:show", function() {
_i_("269:e0d061a5"), clearTimeout(t), m(), _r_();
}), s.on("contactTheHost:submit", function(e) {
_i_("269:f988104b"), l.stage(c, 8), "contact-host-bouncing-survey" === e.data("origin") && l.stage(c, 9), _r_();
}), h.on("mouseleave.contact-host-bouncing-survey", function(n) {
_i_("269:c44ce080");
var o = new Date();
if (n.originalEvent.y > 0 || f > o - i) return _r_();
a(this).off(n), clearTimeout(t), e(), _r_();
}), _r_();
}
}), _r_();
}), function(e) {
_i_("269:19f22e71"), e.define("component/feedback-contact-host", function(e, t, i) {
_i_("269:e439275b");
var n = e("component/feedback-base");
function o(e) {
_i_("269:5a2e1c80"), e.preventDefault();
var t, i = this.$submitToHostForm, n = i[0], o = i.serializeArray();
if (this.$comment = $('[data-model="missing_comment"]', this.el), this.message = this.$comment.val().trim(), !this.validateSubmitToHostForm()) return _r_();
o.push({
name:"msg_body",
value:this.message
}), t = $.ajax({
context:this,
type:n.method,
xhrFields:{
withCredentials:!0
},
url:n.action,
data:o
}), t.success(function() {
_i_("269:c8a8d942"), this.render("contactTheHostSuccess"), _r_();
}), t.fail(function() {
_i_("269:4ba91f19"), this.render("contactTheHostError"), _r_();
}), _r_();
}
function r() {
_i_("269:1ea56e15");
var e = this.$comment;
if (!this.message) return e.addClass("feedback-loop__field-error"), e[0].focus(), e.one("keyup", function() {
_i_("269:0a24dd48"), e.removeClass("feedback-loop__field-error"), _r_();
}), _r_(!1);
return _r_(!0);
}
i.exports = n.extend({
init:function() {
_i_("269:a0ddb40f"), n.prototype.init.call(this), this.$submitToHostForm = $(".feedback-loop__submit-to-host", this.el), this.$submitToHostForm.on("submit", $.proxy(o, this)), _r_();
},
validateSubmitToHostForm:r
}), _r_();
}), _r_();
}(window.booking), B.define("component/bbweb/bb-hp-soundproof-checkbox", function(e, t, i) {
_i_("269:481b3e0a");
var n = e("component"), o = e("et");
i.exports = n.extend({
init:function() {
_i_("269:f78425b8"), this.$checkbox = this.$el.find(".js-hp-soundproof-checkbox"), this.$checkbox.on("change", this.saveCheckboxValue_.bind(this)), this.$checkbox.on("change", this.trackCustomGoal_.bind(this)), this.saveCheckboxValue_(), _r_();
},
saveCheckboxValue_:function() {
_i_("269:59f4fc29"), $("input[name=bbl_soundproof_request]", "#hprt-form").val(this.$checkbox.prop("checked") ? 1 :0), _r_();
},
trackCustomGoal_:function() {
_i_("269:437729cd"), o.customGoal("VOfZfZHcKeYfHbbEFGJPHLSUZLSVaC", 1), _r_();
}
}), _r_();
}), B.when({
condition:"hotel" == B.env.b_action && B.env.b_hotel_is_in_free_breakfast_experiment && B.env.b_source_page && "searchresults" == B.env.b_source_page
}).run(function(e) {
_i_("269:56e567d5");
var t = e("et");
t.goalWithValue("js_genius_hotel_page_opened", 1), _r_();
}), /**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
function() {
_i_("269:5a315cfe1");
var e, t;
if (e = this.jQuery || window.jQuery || (window.B && B.require ? B.require("jquery") :null), !e) return _r_();
t = e(window), e.fn.stick_in_parent = function(i) {
_i_("269:4906fa211");
var n, o, r, _, a, s, l, c, d, h, u, f, p;
for (null == i && (i = {}), p = i.sticky_class, s = i.inner_scrolling, f = i.recalc_every, u = i.parent, d = i.offset_top, c = i.spacer, r = i.bottoming, null == d && (d = 0), null == u && (u = void 0), null == s && (s = !0), null == p && (p = "is_stuck"), n = e(document), null == r && (r = !0), h = function(e) {
_i_("269:c587f4321");
var t, i, n;
return window.getComputedStyle ? (t = e[0], i = window.getComputedStyle(e[0]), n = parseFloat(i.getPropertyValue("width")) + parseFloat(i.getPropertyValue("margin-left")) + parseFloat(i.getPropertyValue("margin-right")), "border-box" !== i.getPropertyValue("box-sizing") && (n += parseFloat(i.getPropertyValue("border-left-width")) + parseFloat(i.getPropertyValue("border-right-width")) + parseFloat(i.getPropertyValue("padding-left")) + parseFloat(i.getPropertyValue("padding-right"))), _r_(n)) :_r_(e.outerWidth(!0));
}, _ = function(i, o, _, a, l, b, m, g) {
_i_("269:c112498d1");
var v, y, w, M, k, B, C, T, x, E, S, N;
if (i.data("sticky_kit")) return _r_();
if (i.data("sticky_kit", !0), k = n.height(), C = i.parent(), null != u && (C = C.closest(u)), !C.length) throw "failed to find stick parent";
if (w = !1, v = !1, S = null != c ? c && i.closest(c) :e("<div />"), S && S.css("position", i.css("position")), T = function() {
_i_("269:124655f81");
var e, t, r;
if (g) return _r_();
if (k = n.height(), e = parseInt(C.css("border-top-width"), 10), t = parseInt(C.css("padding-top"), 10), o = parseInt(C.css("padding-bottom"), 10), _ = C.offset().top + e + t, a = C.height(), w && (w = !1, v = !1, null == c && (i.insertAfter(S), S.detach()), i.css({
position:"",
top:"",
width:"",
bottom:""
}).removeClass(p), r = !0), l = i.offset().top - (parseInt(i.css("margin-top"), 10) || 0) - d, b = i.outerHeight(!0), m = i.css("float"), S && S.css({
width:h(i),
height:b,
display:i.css("display"),
"vertical-align":i.css("vertical-align"),
"float":m
}), r) return _r_(N());
_r_();
}, T(), b === a) return _r_();
return M = void 0, B = d, E = f, N = function() {
_i_("269:87f12db01");
var e, h, u, y, x, N;
if (g) return _r_();
if (u = !1, null != E && (E -= 1, 0 >= E && (E = f, T(), u = !0)), u || n.height() === k || (T(), u = !0), y = t.scrollTop(), null != M && (h = y - M), M = y, w ? (r && (x = y + b + B > a + _, v && !x && (v = !1, i.css({
position:"fixed",
bottom:"",
top:B
}).trigger("sticky_kit:unbottom"))), l > y && (w = !1, B = d, null == c && (("left" === m || "right" === m) && i.insertAfter(S), S.detach()), e = {
position:"",
width:"",
top:""
}, i.css(e).removeClass(p).trigger("sticky_kit:unstick")), s && (N = t.height(), b + d > N && (v || (B -= h, B = Math.max(N - b, B), B = Math.min(d, B), w && i.css({
top:B + "px"
}))))) :y > l && (w = !0, e = {
position:"fixed",
top:B
}, e.width = "border-box" === i.css("box-sizing") ? i.outerWidth() + "px" :i.width() + "px", i.css(e).addClass(p), null == c && (i.after(S), ("left" === m || "right" === m) && S.append(i)), i.trigger("sticky_kit:stick")), w && r && (null == x && (x = y + b + B > a + _), !v && x)) return v = !0, "static" === C.css("position") && C.css({
position:"relative"
}), _r_(i.css({
position:"absolute",
bottom:o,
top:"auto"
}).trigger("sticky_kit:bottom"));
_r_();
}, x = function() {
return _i_("269:edf1750f1"), T(), _r_(N());
}, y = function() {
if (_i_("269:fcbea21a1"), g = !0, t.off("touchmove", N), t.off("scroll", N), t.off("resize", x), e(document.body).off("sticky_kit:recalc", x), i.off("sticky_kit:detach", y), i.removeData("sticky_kit"), i.css({
position:"",
bottom:"",
top:"",
width:""
}), C.position("position", ""), w) return null == c && (("left" === m || "right" === m) && i.insertAfter(S), S.remove()), _r_(i.removeClass(p));
_r_();
}, t.on("touchmove", N), t.on("scroll", N), t.on("resize", x), e(document.body).on("sticky_kit:recalc", x), i.on("sticky_kit:detach", y), _r_(setTimeout(N, 0));
}, a = 0, l = this.length; l > a; a++) o = this[a], _(e(o));
return _r_(this);
}, _r_();
}.call(this), function() {
_i_("269:87889c3b");
var e = "AENNQASJXOTdJNQHT", t = function(e) {
if (_i_("269:d91a9901"), !e.b_rooms_available_and_soldout) return _r_(!1);
var t = e.b_rooms_available_and_soldout[0];
return _r_("safari" !== e.b_browser && t && t.b_blocks && t.b_blocks.length > 0);
}, i = "hp_rt_sticky_roomtype_stuck";
B.when({
action:"hotel",
events:"ready",
condition:t,
experiment:e
}).run(function(e) {
_i_("269:942d3a2d");
var t, n = e("jquery"), o = e("events"), r = 0, _ = 25, a = "hp_rt_sticky_enable", s = n(".hprt-table");
if (void 0 !== n.fn.stick_in_parent && s && s.find("tbody tr").length > 0) {
var l = s.find(".hprt-table-cell.-first");
r = s.find("thead").outerHeight() + parseInt(l.css("padding-top"), 10), t = l.filter(function(e, t) {
return _i_("269:02189334"), _r_(n(t).attr("rowspan") > 1);
}).map(function(e, t) {
_i_("269:68839ff2");
var i = n(t);
return _r_({
par:i,
el:i.find(".hprt-block")
});
});
var c = this.variant();
2 === c && u(), o.on("rt_collapse.btn_clicked", function(e) {
_i_("269:ac982d32"), h() && d(), _r_();
}), h() && d();
}
function d() {
_i_("269:ee85eac6"), o.emit(i), _r_();
}
function h() {
return _i_("269:dd366e6a"), _r_(t.filter(function(e, t) {
return _i_("269:01483bac"), _r_(t.par.height() - t.el.outerHeight() >= _);
}).length > 0);
}
function u() {
_i_("269:18a1b155"), f({
enable:!0
}), o.on("rt_collapse.btn_clicked", function() {
_i_("269:97253df9"), f({
enable:!0
}), _r_();
}), o.on("hp_rt.more_facilities", function() {
_i_("269:d12ec83f"), f({
recalc:!0
}), _r_();
}), o.on("hp_rt.room_type_div_changed", function() {
_i_("269:d12ec83f1"), f({
recalc:!0
}), _r_();
}), _r_();
}
function f(e) {
_i_("269:e44fce94"), t.each(function(t, i) {
if (_i_("269:2e4e0651"), i.par.height() - i.el.outerHeight() < _) return p(i.el), _r_();
var n = i.el;
e.recalc ? m(n) :e.enable && b(n), _r_();
}), _r_();
}
function p(e) {
_i_("269:76b08cca"), e.hasClass(a) && (e.trigger("sticky_kit:detach"), e.removeClass(a)), _r_();
}
function b(e) {
_i_("269:a1f7b9d0"), e.hasClass(a) ? m(e) :(e.stick_in_parent({
offset_top:r
}), e.addClass(a)), _r_();
}
function m(e) {
_i_("269:48b78b22"), e.hasClass(a) ? e.trigger("sticky_kit:recalc") :b(e), _r_();
}
_r_();
}), B.when({
action:"hotel",
events:i,
experiment:e,
condition:t,
stage:1
}).run(), _r_();
}(), function() {
_i_("269:f59cbc2f"), B.when({
action:"hotel",
events:"ready",
condition:"www" === B.env.b_site_type
}).run(function(e) {
_i_("269:86668a49");
var t = e("jquery"), i = t(".js-toggle-alternative-recommendations"), n = t(".js-alternative-recommendations");
i.length && i.on("click", function() {
_i_("269:5451e6a8"), n.toggleClass("dates-summary-recommendations--collapsed"), _r_();
}), _r_();
}), _r_();
}(), B.when({
events:"ready"
}).run(function(e) {
_i_("269:0379703f");
var t = e("jstmpl"), i = e("et"), n = e("jquery"), o = n("[data-flight-acc-mod-url]").data("flightAccModUrl"), r = B.env.b_closest_airport_code || B.env.b_surrounding_airport_code;
o && r && i.track("XVWUDSFebUKGMWSHNMGTUYccJWe") && n.get(o, {
departure_airport_iata_code:"AMS",
arrival_airport_iata_code:r,
currency_code:B.env.b_selected_currency,
departure_date:B.env.b_checkin_date,
return_date:B.env.b_checkout_date,
number_of_adults:B.env.b_search_config.b_adults_total,
number_of_children:B.env.b_search_config.b_children_total,
hotel_id:B.env.b_hotel_id
}).done(function(e) {
_i_("269:8643ef1e"), n("[data-flight-acc-mod-container]").html(t("flight_acc_card").render(e)), _r_();
}).fail(function() {}).always(function() {}), _r_();
}), booking.jstmpl("flight_acc_card", function() {
_i_("269:48aea9a3");
var e = [ '\n\n	<div class="bui-panel included-flight">\n		<div class="flight-card-summary">\n			<div class="flight-card-summary__companies">', ' <span class="flight-card-summary__classes">( Economy )</span></div>\n		</div>\n		<hr class="bui-divider bui-divider--light" />\n		<div class="flight-card-summary flight-search">\n			<div class="bui-form__group">\n			    <label for="input">Leaving from</label>\n			    <input type="text" id="input" class="bui-form__control" placeholder="city or airport">\n			</div>\n		</div>\n		<hr class="bui-divider bui-divider--light" />\n		<div class="included-flight__card">\n			<div class="journey-view">\n				<div class="way-view clearfix">\n					<div class="col-resorts-3">\n			          <div class="summary-column">\n			            <div class="summary-row clearfix">\n			              <div class="summary-cell summary-icon">\n			                <span class="bicon bicon-airport">\n\n			                </span>\n			              </div>\n			              <div class="summary-cell summary-date-and-company">\n			                <div class="way-type">Outbound</div>\n			                <div class="summary-date">Wed 31 Oct</div>\n			              </div>\n			            </div>\n			          </div>\n			          <div class="summary-column">\n			            <div class="summary-transport">', '</div>\n			          </div>\n			        </div>\n\n			        <div class="col-resorts-6">\n	                  <div class="summary-column">\n	                    <div class="summary-place-and-time clearfix">\n	                      <div class="departure col-resorts-4">\n	                        <span class="departure-id ">AMS</span>\n	                        <span class="departure-time">10:20</span>\n	                        <span class="departure-place">Amsterdam Schiphol</span>\n	                      </div>\n	                      <div class="divider col-resorts-4">\n	                        <span class="brg-ui-divider">\n	                          <span class="stops">1</span>\n	                        </span>\n	                        <div class="stops-label">stop</div>\n	                      </div>\n	                      <div class="arrival col-resorts-4">\n	                        <span class="arrival-time">18:43</span>\n	                        <span class="arrival-id ">CUN</span>\n	                        <span class="arrival-place">Cancun International</span>\n	                      </div>\n	                    </div>\n	                  </div>\n	                </div>\n\n	                <div class="col-resorts-3">\n                      <div class="summary-column summary-duration-stops-seats">\n                        <div class="summary-duration-and-stops summary-cell">\n                          <span class="summary-duration">8h&nbsp;23m</span>\n                        </div>\n\n                      </div>\n                        <div class="summary-baggage">\n                            <div class="summary-baggage__message summary-baggage__baggage summary-baggage__hold">\n                              <span class="icon icon-luggage"></span> Checked luggage included\n                            </div>\n                        </div>\n                    </div>\n\n				</div>\n			</div>\n\n			<hr class="bui-divider bui-divider--light" />\n\n			<div class="journey-view">\n				<div class="way-view clearfix">\n					<div class="col-resorts-3">\n			          <div class="summary-column">\n			            <div class="summary-row clearfix">\n			              <div class="summary-cell summary-icon">\n			                <span class="bicon bicon-airport">\n\n			                </span>\n			              </div>\n			              <div class="summary-cell summary-date-and-company">\n			                <div class="way-type">Outbound</div>\n			                <div class="summary-date">Wed 31 Oct</div>\n			              </div>\n			            </div>\n			          </div>\n			          <div class="summary-column">\n			            <div class="summary-transport">', '</div>\n			          </div>\n			        </div>\n\n			        <div class="col-resorts-6">\n	                  <div class="summary-column">\n	                    <div class="summary-place-and-time clearfix">\n	                      <div class="departure col-resorts-4">\n	                        <span class="departure-id ">AMS</span>\n	                        <span class="departure-time">10:20</span>\n	                        <span class="departure-place">Amsterdam Schiphol</span>\n	                      </div>\n	                      <div class="divider col-resorts-4">\n	                        <span class="brg-ui-divider">\n	                          <span class="stops">1</span>\n	                        </span>\n	                        <div class="stops-label">stop</div>\n	                      </div>\n	                      <div class="arrival col-resorts-4">\n	                        <span class="arrival-time">18:43</span>\n	                        <span class="arrival-id ">CUN</span>\n	                        <span class="arrival-place">Cancun International</span>\n	                      </div>\n	                    </div>\n	                  </div>\n	                </div>\n\n	                <div class="col-resorts-3">\n                      <div class="summary-column summary-duration-stops-seats">\n                        <div class="summary-duration-and-stops summary-cell">\n                          <span class="summary-duration">8h&nbsp;23m</span>\n                        </div>\n\n                      </div>\n                        <div class="summary-baggage">\n                            <div class="summary-baggage__message summary-baggage__baggage summary-baggage__hold">\n                              <span class="icon icon-luggage"></span> Checked luggage included\n                            </div>\n                        </div>\n                    </div>\n\n				</div>\n			</div>\n\n		</div>\n\n		<hr class="bui-divider bui-divider--light" />\n\n		<div class="flight-card-summary flight-card-summary--room">\n			<div class="flight-room-combo clearfix">\n				<div class="flight-room-combo-pic">\n					<span class="bui-badge bui-badge--constructive">ON SALE</span>\n					<img src="', '">\n				</div>\n				<div class="flight-room-combo-info clearfix">\n					<div class="flight-room-combo-name-and-facilities">\n						<span class="pkg-room-name">\n							', '\n						</span>\n						<span class="pkg-pursuade">\n							<span class="pkg-pursuade-msg">When you bundle with a flight.</span>\n						</span>\n					</div>\n					<div class="flight-room-combo-price-and-ctas">\n						<span class="pkg-pursuade">\n							<span class="bui-badge bui-badge--destructive">15%</span> <span class="pkg-pursuade-msg">Discount on flight &#43; hotel</span>\n						</span>\n						<span class="pkg-price-and-rackrates clearfix">\n							<span class="pkg-rack-rate">', '</span>\n							<span class="pkg-price">', '</span>\n						</span>\n						<div class="pkg-cta clearfix">\n							<button class="bui-button bui-button--primary bui-is-loading" type="button">\n							    <span class="bui-button__icon bui-button__loading-icon">\n							        <svg viewBox="0 0 24 24">\n							            <rect opacity=".75" x="11" width="2" height="6" rx="1"></rect>\n							            <rect opacity=".2" x="15.5" y="1.2" width="2" height="6" rx="1" transform="rotate(30 16.5 4.2)"></rect>\n							            <rect opacity=".25" x="18.8" y="4.5" width="2" height="6" rx="1" transform="rotate(60 19.8 7.5)"></rect>\n							            <rect opacity=".3" x="20" y="9" width="2" height="6" rx="1" transform="rotate(90 21 12)"></rect>\n							            <rect opacity=".35" x="18.8" y="13.5" width="2" height="6" rx="1" transform="rotate(120 19.8 16.5)"></rect>\n							            <rect opacity=".4" x="15.5" y="16.8" width="2" height="6" rx="1" transform="rotate(150 16.5 19.8)"></rect>\n							            <rect opacity=".45" x="11" y="18" width="2" height="6" rx="1" transform="rotate(180 12 21)"></rect>\n							            <rect opacity=".5" x="6.5" y="16.8" width="2" height="6" rx="1" transform="rotate(210 7.5 19.8)"></rect>\n							            <rect opacity=".55" x="3.2" y="13.5" width="2" height="6" rx="1" transform="rotate(240 4.2 16.5)"></rect>\n							            <rect opacity=".6" x="2" y="9" width="2" height="6" rx="1" transform="rotate(270 3 12)"></rect>\n							            <rect opacity=".65" x="3.2" y="4.5" width="2" height="6" rx="1" transform="rotate(300 4.2 7.5)"></rect>\n							            <rect opacity=".7" x="6.5" y="1.2" width="2" height="6" rx="1" transform="rotate(330 7.5 4.2)"></rect>\n							        </svg>\n							    </span>\n							    <span class="bui-button__text">Book Now</span>\n							</button>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n' ], t = [ "b_airlines", "b_outbound_flight", "b_package_room", "b_rackrate_price", "b_total_price" ];
return _r_(function(i) {
_i_("269:40ae06c3");
var n = "", o = this.fn;
return n += [ e[0], o.F.entities(o.MC(t[0])), e[1], o.F.entities((o.MC(t[1]) || {}).b_airline), e[2], o.F.entities((o.MC(t[1]) || {}).b_airline), e[3], o.F.entities((o.MC(t[2]) || {}).b_room_photo), e[4], o.F.entities((o.MC(t[2]) || {}).b_room_name), e[5], o.F.entities(o.MC(t[3])), e[6], o.F.entities(o.MC(t[4])), e[7] ].join(""), _r_(n);
});
}()), booking.env.enable_scripts_tracking && (booking.env.scripts_tracking.hotel.run = !0);